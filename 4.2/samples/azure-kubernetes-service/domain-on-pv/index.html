<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.133.0">
    <meta name="description" content="Sample for creating a WebLogic domain home on an existing PV or PVC on the Azure Kubernetes Service.">


    <link rel="icon" href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/images/favicon.png" type="image/png">

    <title>Domain home on a PV :: WebLogic Kubernetes Operator</title>

    
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/css/nucleus.css?1760498935" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/css/fontawesome-all.min.css?1760498935" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/css/hybrid.css?1760498935" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/css/featherlight.min.css?1760498935" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/css/perfect-scrollbar.min.css?1760498935" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/css/auto-complete.css?1760498935" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/css/atom-one-dark-reasonable.css?1760498935" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/css/theme.css?1760498935" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/css/tabs.css?1760498935" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/css/hugo-theme.css?1760498935" rel="stylesheet">
    
    

    <script src="https://oracle.github.io/weblogic-kubernetes-operator/4.2/js/jquery-3.6.0.min.js?1760498935"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/azure-kubernetes-service/domain-on-pv/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/">
  <img src="https://oracle.github.io/weblogic-kubernetes-operator/4.2//images/logo.png" height="90"><br/>
  WebLogic Kubernetes Operator
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="https://oracle.github.io/weblogic-kubernetes-operator/4.2/js/lunr.min.js?1760498935"></script>
<script type="text/javascript" src="https://oracle.github.io/weblogic-kubernetes-operator/4.2/js/auto-complete.js?1760498935"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/oracle.github.io\/weblogic-kubernetes-operator\/4.2\/";
    
</script>
<script type="text/javascript" src="https://oracle.github.io/weblogic-kubernetes-operator/4.2/js/search.js?1760498935"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">
      <li><a  class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/">Home</a></li>
        
          
          




 
  
    
    <li data-nav-id="/quickstart/" title="Quick Start" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/quickstart/">
          <b> </b>Quick Start
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/quickstart/install/" title="Install the operator and ingress controller" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/quickstart/install/">
        Install the operator and ingress controller
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/quickstart/prepare/" title="Prepare for a domain" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/quickstart/prepare/">
        Prepare for a domain
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/quickstart/create-domain/" title="Create a domain" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/quickstart/create-domain/">
        Create a domain
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/quickstart/cleanup/" title="Clean up" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/quickstart/cleanup/">
        Clean up
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/quickstart/summary/" title="Under the covers" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/quickstart/summary/">
        Under the covers
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/introduction/" title="Introduction" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/introduction/">
          <b> </b>Introduction
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/introduction/terms/" title="Important terms" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/introduction/terms/">
        Important terms
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/introduction/design/" title="Design philosophy" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/introduction/design/">
        Design philosophy
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/introduction/architecture/" title="Architecture" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/introduction/architecture/">
        Architecture
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/introduction/get-help/" title="Get help" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/introduction/get-help/">
        Get help
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/introduction/prerequisites/introduction/" title="Operator prerequisites" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/introduction/prerequisites/introduction/">
        Operator prerequisites
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/introduction/platforms/environments/" title="Supported environments" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/introduction/platforms/environments/">
        Supported environments
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/managing-operators/" title="Manage operators" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-operators/">
          <b> </b>Manage operators
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/managing-operators/overview/" title="Overview" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-operators/overview/">
        Overview
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-operators/preparation/" title="Prepare for installation" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-operators/preparation/">
        Prepare for installation
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-operators/installation/" title="Installation and upgrade" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-operators/installation/">
        Installation and upgrade
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-operators/conversion-webhook/" title="Upgrade operator from version 3.x to 4.x" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-operators/conversion-webhook/">
        Upgrade operator from version 3.x to 4.x
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-operators/using-helm/" title="Configuration reference" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-operators/using-helm/">
        Configuration reference
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-operators/namespace-management/" title="Namespace management" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-operators/namespace-management/">
        Namespace management
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-operators/service-accounts/" title="Service accounts" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-operators/service-accounts/">
        Service accounts
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-operators/rbac/" title="RBAC" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-operators/rbac/">
        RBAC
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-operators/the-rest-api/" title="REST services" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-operators/the-rest-api/">
        REST services
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-operators/k8s-setup/" title="Set up Kubernetes" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-operators/k8s-setup/">
        Set up Kubernetes
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-operators/common-mistakes/" title="Common mistakes and solutions" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-operators/common-mistakes/">
        Common mistakes and solutions
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-operators/troubleshooting/" title="Troubleshooting" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-operators/troubleshooting/">
        Troubleshooting
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/managing-domains/" title="Manage domains" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/">
          Manage domains
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/manage-domains/" title="About WebLogic domains" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/manage-domains/">
        About WebLogic domains
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/managing-domains/choosing-a-model/" title="Choose a domain home source type" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/choosing-a-model/">
          Choose a domain home source type
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/domain-resource/" title="Domain and Cluster resources" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/domain-resource/">
        <b> </b>Domain and Cluster resources
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/managing-domains/upgrade-domain-resource/" title="Upgrade Domain resource" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/upgrade-domain-resource/">
          <b> </b>Upgrade Domain resource
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/prepare/" title="Prepare to run a domain" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/prepare/">
        Prepare to run a domain
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/managing-domains/major-weblogic-version-upgrade/" title="Upgrade managed domains" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/major-weblogic-version-upgrade/">
          <b> </b>Upgrade managed domains
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/major-weblogic-version-upgrade/upgrade-major/" title="Upgrade managed domains" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/major-weblogic-version-upgrade/upgrade-major/">
        <b> </b>Upgrade managed domains
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/major-weblogic-version-upgrade/upgrade-14210/" title="Upgrade managed domains to v14.1.2.0" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/major-weblogic-version-upgrade/upgrade-14210/">
        <b> </b>Upgrade managed domains to v14.1.2.0
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/managing-domains/domain-on-pv/" title="Domain on Persistent Volume (PV)" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/domain-on-pv/">
          <b> </b>Domain on Persistent Volume (PV)
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/domain-on-pv/overview/" title="Overview" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/domain-on-pv/overview/">
        <b> </b>Overview
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/domain-on-pv/usage/" title="Usage" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/domain-on-pv/usage/">
        <b> </b>Usage
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/domain-on-pv/domain-creation-images/" title="Domain creation images" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/domain-on-pv/domain-creation-images/">
        <b> </b>Domain creation images
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/domain-on-pv/model-files/" title="Working with WDT model files" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/domain-on-pv/model-files/">
        <b> </b>Working with WDT model files
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/domain-on-pv/jrf-domain/" title="JRF domains" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/domain-on-pv/jrf-domain/">
        <b> </b>JRF domains
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/managing-domains/model-in-image/" title="Model in Image" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/model-in-image/">
          <b> </b>Model in Image
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/model-in-image/overview/" title="Overview" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/model-in-image/overview/">
        <b> </b>Overview
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/model-in-image/usage/" title="Usage" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/model-in-image/usage/">
        <b> </b>Usage
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/model-in-image/auxiliary-images/" title="Auxiliary images" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/model-in-image/auxiliary-images/">
        <b> </b>Auxiliary images
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/model-in-image/model-files/" title="Model files" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/model-in-image/model-files/">
        <b> </b>Model files
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/model-in-image/runtime-updates/" title="Runtime updates" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/model-in-image/runtime-updates/">
        <b> </b>Runtime updates
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/model-in-image/move-to-pv/" title="Move MII/JRF domains to PV" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/model-in-image/move-to-pv/">
        <b> </b>Move MII/JRF domains to PV
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/managing-domains/configoverrides/" title="Configuration overrides" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/configoverrides/">
          <b> </b>Configuration overrides
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/managing-domains/persistent-storage/" title="Persistent storage" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/persistent-storage/">
          <b> </b>Persistent storage
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/persistent-storage/pv-pvc/" title="PersistentVolumes and PersistentVolumeClaims" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/persistent-storage/pv-pvc/">
        PersistentVolumes and PersistentVolumeClaims
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/persistent-storage/oci-fss-pv/" title="Use OCI File Storage (FSS) for persistent volumes" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/persistent-storage/oci-fss-pv/">
        Use OCI File Storage (FSS) for persistent volumes
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/persistent-storage/volumes/" title="Provide access to a PersistentVolumeClaim" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/persistent-storage/volumes/">
        Provide access to a PersistentVolumeClaim
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/persistent-storage/configmaps/" title="Provide access to a ConfigMap" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/persistent-storage/configmaps/">
        Provide access to a ConfigMap
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/managing-domains/accessing-the-domain/" title="Access and monitor domains" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/accessing-the-domain/">
          <b> </b>Access and monitor domains
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/accessing-the-domain/weblogic-admin-console/" title="Use the Administration Console" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/accessing-the-domain/weblogic-admin-console/">
        Use the Administration Console
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/accessing-the-domain/remote-admin-console/" title="Use the Remote Console" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/accessing-the-domain/remote-admin-console/">
        Use the Remote Console
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/accessing-the-domain/wlst/" title="Use WLST" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/accessing-the-domain/wlst/">
        Use WLST
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/accessing-the-domain/port-forward/" title="Use port forwarding" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/accessing-the-domain/port-forward/">
        Use port forwarding
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/managing-domains/accessing-the-domain/ingress/" title="Ingress" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/accessing-the-domain/ingress/">
          Ingress
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/accessing-the-domain/oci-lb/" title="Use an OCI load balancer" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/accessing-the-domain/oci-lb/">
        Use an OCI load balancer
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/accessing-the-domain/istio/istio/" title="Istio support" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/accessing-the-domain/istio/istio/">
        Istio support
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/accessing-the-domain/external-clients/" title="External WebLogic clients" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/accessing-the-domain/external-clients/">
        External WebLogic clients
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/accessing-the-domain/domain-events/" title="Domain events" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/accessing-the-domain/domain-events/">
        Domain events
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/accessing-the-domain/status-conditions/" title="Status conditions" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/accessing-the-domain/status-conditions/">
        Status conditions
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/accessing-the-domain/logs/" title="Log files" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/accessing-the-domain/logs/">
        Log files
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/accessing-the-domain/monitoring-exporter/" title="Monitoring exporter" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/accessing-the-domain/monitoring-exporter/">
        Monitoring exporter
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/managing-domains/domain-lifecycle/" title="Domain life cycle" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/domain-lifecycle/">
          <b> </b>Domain life cycle
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/domain-lifecycle/startup/" title="Startup and shutdown" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/domain-lifecycle/startup/">
        Startup and shutdown
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/domain-lifecycle/restarting/" title="Restarting" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/domain-lifecycle/restarting/">
        Restarting
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/domain-lifecycle/scaling/" title="Scaling" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/domain-lifecycle/scaling/">
        Scaling
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/domain-lifecycle/introspection/" title="Domain introspection" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/domain-lifecycle/introspection/">
        Domain introspection
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/domain-lifecycle/liveness-readiness-probe-customization/" title="Liveness and readiness probes customization" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/domain-lifecycle/liveness-readiness-probe-customization/">
        Liveness and readiness probes customization
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/domain-lifecycle/retry/" title="Domain failure retry processing" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/domain-lifecycle/retry/">
        Domain failure retry processing
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/domain-lifecycle/scripts/" title="Lifecycle scripts" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/domain-lifecycle/scripts/">
        Lifecycle scripts
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/managing-domains/cicd/" title="CI/CD considerations" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/cicd/">
          CI/CD considerations
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/cicd/layering/" title="Container image layering" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/cicd/layering/">
        Container image layering
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/cicd/why-layering-matters/" title="Why layering matters" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/cicd/why-layering-matters/">
        Why layering matters
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/cicd/choose-an-approach/" title="Choose an approach" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/cicd/choose-an-approach/">
        Choose an approach
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/cicd/mutate-the-domain-layer/" title="Mutate the domain layer" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/cicd/mutate-the-domain-layer/">
        Mutate the domain layer
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/cicd/how-to-copy-domains/" title="Copy domains" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/cicd/how-to-copy-domains/">
        Copy domains
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/cicd/tools/" title="Tools" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/cicd/tools/">
        Tools
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/managing-fmw-domains/" title="Manage FMW Infrastructure domains" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/managing-fmw-domains/">
        Manage FMW Infrastructure domains
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/managing-domains/aks/" title="Azure Kubernetes Service (AKS)" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/aks/">
          Azure Kubernetes Service (AKS)
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/managing-domains/debugging/" title="Domain debugging" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/debugging/">
        <b> </b>Domain debugging
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/base-images/" title="WebLogic images" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/base-images/">
          <b> </b>WebLogic images
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/base-images/ocr-images/" title="OCR images" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/base-images/ocr-images/">
        OCR images
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/base-images/custom-images/" title="Create custom images" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/base-images/custom-images/">
        Create custom images
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/base-images/patch-images/" title="Patch running domains" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/base-images/patch-images/">
        Patch running domains
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/base-images/access-images/" title="Access domain images" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/base-images/access-images/">
        Access domain images
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/samples/" title="Samples" class="dd-item
        parent
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/">
          <b> </b>Samples
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/samples/credentials/" title="Credentials" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/credentials/">
          Credentials
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/storage/" title="Storage" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/storage/">
          Storage
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/database/" title="Run a database" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/database/">
          Run a database
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/domains/" title="Domains" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/domains/">
          Domains
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/samples/domains/domain-home-on-pv/" title="Domain on PV" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/domains/domain-home-on-pv/">
          Domain on PV
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/samples/domains/domain-home-on-pv/prerequisites/" title="Prerequisites" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/domains/domain-home-on-pv/prerequisites/">
        Prerequisites
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/samples/domains/domain-home-on-pv/build-domain-creation-image/" title="Build domain creation image" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/domains/domain-home-on-pv/build-domain-creation-image/">
        Build domain creation image
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/samples/domains/domain-home-on-pv/sample/" title="Sample" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/domains/domain-home-on-pv/sample/">
        Sample
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/samples/domains/domain-home-on-pv/cleanup/" title="Cleanup" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/domains/domain-home-on-pv/cleanup/">
        Cleanup
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/domains/model-in-image/" title="Model in image" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/domains/model-in-image/">
          Model in image
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/samples/domains/model-in-image/prerequisites/" title="Prerequisites" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/domains/model-in-image/prerequisites/">
        Prerequisites
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/samples/domains/model-in-image/auxiliary-image-creation/" title="Auxiliary image creation" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/domains/model-in-image/auxiliary-image-creation/">
        Auxiliary image creation
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/samples/domains/model-in-image/initial/" title="Initial use case" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/domains/model-in-image/initial/">
        Initial use case
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/samples/domains/model-in-image/update1/" title="Update 1" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/domains/model-in-image/update1/">
        Update 1
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/samples/domains/model-in-image/update2/" title="Update 2" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/domains/model-in-image/update2/">
        Update 2
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/samples/domains/model-in-image/update3/" title="Update 3" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/domains/model-in-image/update3/">
        Update 3
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/samples/domains/model-in-image/update4/" title="Update 4" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/domains/model-in-image/update4/">
        Update 4
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/samples/domains/model-in-image/cleanup/" title="Cleanup" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/domains/model-in-image/cleanup/">
        Cleanup
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/domains/delete-domain/" title="Delete resources associated with the domain" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/domains/delete-domain/">
          Delete resources associated with the domain
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/domains/lifecycle/" title="Domain lifecycle operations" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/domains/lifecycle/">
          Domain lifecycle operations
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/rest/" title="REST APIs" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/rest/">
          REST APIs
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/ingress/" title="Ingress" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/ingress/">
          Ingress
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/elastic-stack/" title="Elastic Stack" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/elastic-stack/">
          Elastic Stack
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/samples/elastic-stack/operator/" title="Operator" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/elastic-stack/operator/">
          Operator
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/elastic-stack/weblogic-domain/" title="WebLogic domain" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/elastic-stack/weblogic-domain/">
          WebLogic domain
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/azure-kubernetes-service/" title="Azure Kubernetes Service" class="dd-item
        parent
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/azure-kubernetes-service/">
          Azure Kubernetes Service
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/samples/azure-kubernetes-service/domain-on-pv/" title="Domain home on a PV" class="dd-item active">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/azure-kubernetes-service/domain-on-pv/">
        Domain home on a PV
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/samples/azure-kubernetes-service/model-in-image/" title="Model in Image" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/azure-kubernetes-service/model-in-image/">
        Model in Image
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/samples/azure-kubernetes-service/troubleshooting/" title="Troubleshooting" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/azure-kubernetes-service/troubleshooting/">
        Troubleshooting
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/samples/tanzu-kubernetes-service/" title="Tanzu Kubernetes Service" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/tanzu-kubernetes-service/">
          Tanzu Kubernetes Service
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/developerguide/" title="Developer Guide" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/developerguide/">
          <b> </b>Developer Guide
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/developerguide/contributing/" title="Contribute to the operator" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/developerguide/contributing/">
        Contribute to the operator
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developerguide/requirements/" title="Requirements" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/developerguide/requirements/">
        Requirements
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developerguide/building/" title="Building" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/developerguide/building/">
        Building
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developerguide/integration-tests/" title="Integration tests" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/developerguide/integration-tests/">
        Integration tests
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developerguide/branching/" title="Branching" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/developerguide/branching/">
        Branching
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developerguide/coding-standards/" title="Coding standards" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/developerguide/coding-standards/">
        Coding standards
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developerguide/code-structure/" title="Code structure" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/developerguide/code-structure/">
        Code structure
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developerguide/asynchronous-call-model/" title="Asynchronous call model" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/developerguide/asynchronous-call-model/">
        Asynchronous call model
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developerguide/domain-processing/" title="Domain processing" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/developerguide/domain-processing/">
        Domain processing
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developerguide/documentation/" title="Documentation" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/developerguide/documentation/">
        Documentation
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developerguide/backwards-compatibility/" title="Backward compatibility" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/developerguide/backwards-compatibility/">
        Backward compatibility
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/reference/" title="Reference" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/reference/">
          <b> </b>Reference
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/reference/domain-resource/" title="Domain resource" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/reference/domain-resource/">
        Domain resource
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/security/" title="Security" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/security/">
          <b> </b>Security
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/security/certificates/" title="Certificates" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/security/certificates/">
        Certificates
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/security/domain-security/" title="Domain security" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/security/domain-security/">
          Domain security
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/security/domain-security/pod-and-container/" title="Pod and container security" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/security/domain-security/pod-and-container/">
        Pod and container security
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/security/domain-security/image-protection/" title="Container image protection" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/security/domain-security/image-protection/">
        Container image protection
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/security/domain-security/weblogic-channels/" title="External network access security" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/security/domain-security/weblogic-channels/">
        External network access security
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/security/encryption/" title="Encryption" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/security/encryption/">
        Encryption
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/security/service-accounts/" title="Service accounts" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/security/service-accounts/">
        Service accounts
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/security/rbac/" title="RBAC" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/security/rbac/">
        RBAC
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/security/secrets/" title="Secrets" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/security/secrets/">
        Secrets
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/security/openshift/" title="OpenShift" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/security/openshift/">
        OpenShift
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/faq/" title="Frequently asked questions" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/faq/">
          Frequently asked questions
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/faq/newbie/" title="Answers for newcomers" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/faq/newbie/">
        Answers for newcomers
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/faq/cannot-pull-image/" title="Cannot pull image" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/faq/cannot-pull-image/">
        Cannot pull image
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/faq/boot-identity-not-valid/" title="Boot identity not valid" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/faq/boot-identity-not-valid/">
        Boot identity not valid
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/faq/domain-secret-mismatch/" title="Domain secret mismatch" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/faq/domain-secret-mismatch/">
        Domain secret mismatch
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/faq/node-heating/" title="Node heating problem" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/faq/node-heating/">
        Node heating problem
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/faq/fan/" title="Disabling Fast Application Notifications" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/faq/fan/">
        Disabling Fast Application Notifications
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/faq/coherence-requirements/" title="Coherence requirements" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/faq/coherence-requirements/">
        Coherence requirements
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/faq/resource-settings/" title="Pod memory and CPU resources" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/faq/resource-settings/">
        Pod memory and CPU resources
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/faq/security-validation/" title="Handling security validations" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/faq/security-validation/">
        Handling security validations
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/faq/node-selector/" title="Scheduling pods to particular nodes" class="dd-item ">
        <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/faq/node-selector/">
        Scheduling pods to particular nodes
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/deprecated-functionality/" title="Deprecated functionality" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/deprecated-functionality/">
          Deprecated functionality
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/known-limitations/" title="Known limitations" class="dd-item
        
        
        
        ">
      <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/known-limitations/">
          Known limitations
          
      </a>
      
      
    </li>
  
 

          
        
      <li><a  class="padding" href="https://github.com/oracle/weblogic-kubernetes-operator/releases">Release Notes</a></li>
    </ul>

    
    

    
    <section id="footer">
      <p>Created with <i class="fas fa-heart"></i> from <a href="https://www.oracle.com">Oracle</a></p>
<p>&nbsp</p>
<p><a href="https://github.com/oracle/weblogic-kubernetes-operator"><i class="fab fa-github"></i> GitHub repo</a></p>
<p><a href="https://join.slack.com/t/oracle-weblogic/shared_invite/zt-1ni1gtjv6-PGC6CQ4uIte3KBdm_67~aQ"><i class="fab fa-slack"></i> Public Slack #operator</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='https://oracle.github.io/weblogic-kubernetes-operator/4.2/'></a> > <a href='https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/'>Samples</a> > <a href='https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/azure-kubernetes-service/'>Azure Kubernetes Service</a> > Domain home on a PV
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#prerequisites">Prerequisites</a>
      <ul>
        <li><a href="#prepare-parameters">Prepare parameters</a></li>
        <li><a href="#oracle-container-registry">Oracle Container Registry</a></li>
        <li><a href="#sign-in-with-azure-cli">Sign in with Azure CLI</a></li>
        <li><a href="#download-the-weblogic-kubernetes-operator-sample">Download the WebLogic Kubernetes Operator sample</a></li>
      </ul>
    </li>
    <li><a href="#create-resource-group">Create Resource Group</a></li>
    <li><a href="#create-the-aks-cluster">Create the AKS cluster</a></li>
    <li><a href="#create-storage">Create storage</a></li>
    <li><a href="#create-a-domain-creation-image">Create a domain creation image</a>
      <ul>
        <li><a href="#image-creation-prerequisites">Image creation prerequisites</a></li>
        <li><a href="#image-creation---introduction">Image creation - Introduction</a></li>
        <li><a href="#understanding-your-first-archive">Understanding your first archive</a></li>
        <li><a href="#staging-a-zip-file-of-the-archive">Staging a ZIP file of the archive</a></li>
        <li><a href="#staging-model-files">Staging model files</a></li>
        <li><a href="#creating-the-image-with-wit">Creating the image with WIT</a></li>
        <li><a href="#pushing-the-image-to-azure-container-registry">Pushing the image to Azure Container Registry</a></li>
      </ul>
    </li>
    <li><a href="#install-weblogic-kubernetes-operator-into-the-aks-cluster">Install WebLogic Kubernetes Operator into the AKS cluster</a></li>
    <li><a href="#create-weblogic-domain">Create WebLogic domain</a>
      <ul>
        <li><a href="#create-secrets">Create secrets</a></li>
        <li><a href="#enable-weblogic-operator">Enable Weblogic Operator</a></li>
        <li><a href="#create-weblogic-domain-1">Create WebLogic Domain</a></li>
      </ul>
    </li>
    <li><a href="#automation">Automation</a></li>
    <li><a href="#access-sample-application">Access sample application</a></li>
    <li><a href="#validate-nfs-volume">Validate NFS volume</a></li>
    <li><a href="#clean-up-resources">Clean up resources</a></li>
    <li><a href="#troubleshooting">Troubleshooting</a></li>
    <li><a href="#useful-links">Useful links</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Domain home on a PV
            </h1>
          

        


<p>This sample demonstrates how to use the <a href="https://oracle.github.io/weblogic-kubernetes-operator">WebLogic Kubernetes Operator</a> (hereafter &ldquo;the operator&rdquo;) to set up a WebLogic Server (WLS) cluster on the Azure Kubernetes Service (AKS) using the domain on PV approach. After going through the steps, your WLS domain runs on an AKS cluster and you can manage your WLS domain by accessing the WebLogic Server Administration Console.</p>
<h3 id="contents">Contents</h3>
<div class="toc"><nav id="TableOfContents">
  <ul>
    <li><a href="#prerequisites">Prerequisites</a>
      <ul>
        <li><a href="#prepare-parameters">Prepare parameters</a></li>
        <li><a href="#oracle-container-registry">Oracle Container Registry</a></li>
        <li><a href="#sign-in-with-azure-cli">Sign in with Azure CLI</a></li>
        <li><a href="#download-the-weblogic-kubernetes-operator-sample">Download the WebLogic Kubernetes Operator sample</a></li>
      </ul>
    </li>
    <li><a href="#create-resource-group">Create Resource Group</a></li>
    <li><a href="#create-the-aks-cluster">Create the AKS cluster</a></li>
    <li><a href="#create-storage">Create storage</a></li>
    <li><a href="#create-a-domain-creation-image">Create a domain creation image</a>
      <ul>
        <li><a href="#image-creation-prerequisites">Image creation prerequisites</a></li>
        <li><a href="#image-creation---introduction">Image creation - Introduction</a></li>
        <li><a href="#understanding-your-first-archive">Understanding your first archive</a></li>
        <li><a href="#staging-a-zip-file-of-the-archive">Staging a ZIP file of the archive</a></li>
        <li><a href="#staging-model-files">Staging model files</a></li>
        <li><a href="#creating-the-image-with-wit">Creating the image with WIT</a></li>
        <li><a href="#pushing-the-image-to-azure-container-registry">Pushing the image to Azure Container Registry</a></li>
      </ul>
    </li>
    <li><a href="#install-weblogic-kubernetes-operator-into-the-aks-cluster">Install WebLogic Kubernetes Operator into the AKS cluster</a></li>
    <li><a href="#create-weblogic-domain">Create WebLogic domain</a>
      <ul>
        <li><a href="#create-secrets">Create secrets</a></li>
        <li><a href="#enable-weblogic-operator">Enable Weblogic Operator</a></li>
        <li><a href="#create-weblogic-domain-1">Create WebLogic Domain</a></li>
      </ul>
    </li>
    <li><a href="#automation">Automation</a></li>
    <li><a href="#access-sample-application">Access sample application</a></li>
    <li><a href="#validate-nfs-volume">Validate NFS volume</a></li>
    <li><a href="#clean-up-resources">Clean up resources</a></li>
    <li><a href="#troubleshooting">Troubleshooting</a></li>
    <li><a href="#useful-links">Useful links</a></li>
  </ul>
</nav></div>
<h3 id="prerequisites">Prerequisites</h3>

<p>This sample assumes the following prerequisite environment.</p>
<ul>
<li>If you don&rsquo;t have an <a href="https://learn.microsoft.com/en-us/azure/guides/developer/azure-developer-guide#understanding-accounts-subscriptions-and-billing">Azure subscription</a>, create a <a href="https://azure.microsoft.com/free/?ref=microsoft.com&amp;utm_source=microsoft.com&amp;utm_medium=docs&amp;utm_campaign=visualstudio">free account</a> before you begin.
<ul>
<li>It&rsquo;s <strong>strongly</strong> recommended that the Azure identity you use to sign in and complete this article has either the <a href="https://learn.microsoft.com/en-us/azure/role-based-access-control/built-in-roles#owner">Owner</a> role in the current subscription or the <a href="https://learn.microsoft.com/en-us/azure/role-based-access-control/built-in-roles#contributor">Contributor</a> and <a href="https://learn.microsoft.com/en-us/azure/role-based-access-control/built-in-roles#user-access-administrator">User Access Administrator</a> roles in the current subscription.</li>
<li>If your identity has very limited role assignments, ensure you have the following role assignments in the AKS resource group and AKS node resource group.
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/role-based-access-control/built-in-roles#contributor">Contributor</a> role and <a href="https://learn.microsoft.com/en-us/azure/role-based-access-control/built-in-roles#user-access-administrator">User Access Administrator</a> role in the resource group that runs AKS cluster. This requires asking a privileged user to assign the roles before creating resource in the resource group.</li>
<li><a href="https://learn.microsoft.com/en-us/azure/role-based-access-control/built-in-roles#contributor">Contributor</a> role in the AKS node resource group whose name starts with &ldquo;MC_&rdquo;. This requires asking a privileged user to assign the role after the AKS instance is created.</li>
</ul>
</li>
</ul>
</li>
<li>Operating System: GNU/Linux, macOS, or <a href="https://learn.microsoft.com/windows/wsl/install">Windows Subsystem for Linux (WSL)</a>.
<ul>
<li>Note: the Docker image creation steps will not work on a Mac with Apple Silicon.</li>
</ul>
</li>
<li><a href="https://git-scm.com/downloads">Git</a>; use <code>git --version</code> to test if <code>git</code> works.  This document was tested with version 2.25.1.</li>
<li><a href="https://docs.microsoft.com/cli/azure">Azure CLI</a>; use <code>az --version</code> to test if <code>az</code> works.  This document was tested with version 2.58.0.</li>
<li><a href="https://www.docker.com/products/docker-desktop">Docker for Desktop</a>.  This document was tested with <code>Docker version 20.10.7</code>.</li>
<li><a href="https://kubernetes-io-vnext-staging.netlify.com/docs/tasks/tools/install-kubectl/">kubectl</a>; use <code>kubectl version</code> to test if <code>kubectl</code> works.  This document was tested with version v1.21.2.</li>
<li><a href="https://helm.sh/docs/intro/install/">Helm</a>, version 3.1 and later; use <code>helm version</code> to check the <code>helm</code> version.  This document was tested with version v3.6.2.</li>
<li>A JDK, version 8 or 11. Azure recommends <a href="https://docs.microsoft.com/java/openjdk/download">Microsoft Build of OpenJDK</a>. Ensure that your <code>JAVA_HOME</code> environment variable is set correctly in the shells in which you run the commands.</li>
<li>Ensure that you have the zip/unzip utility installed; use <code>zip/unzip -v</code> to test if <code>zip/unzip</code> works.</li>
<li>You will need an Oracle account.</li>
</ul>

<h4 id="prepare-parameters">Prepare parameters</h4>
<p>Set required parameters by running the following commands.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># Change these parameters as needed for your own environment</span>
</span></span><span style="display:flex;"><span>export ORACLE_SSO_EMAIL<span style="color:#f92672">=</span>&lt;replace with your oracle account email&gt;
</span></span><span style="display:flex;"><span>export ORACLE_SSO_PASSWORD<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&lt;replace with your oracle password&gt;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Specify a prefix to name resources, only allow lowercase letters and numbers, between 1 and 7 characters</span>
</span></span><span style="display:flex;"><span>export BASE_DIR<span style="color:#f92672">=</span>~
</span></span><span style="display:flex;"><span>export NAME_PREFIX<span style="color:#f92672">=</span>wls
</span></span><span style="display:flex;"><span>export WEBLOGIC_USERNAME<span style="color:#f92672">=</span>weblogic
</span></span><span style="display:flex;"><span>export WEBLOGIC_PASSWORD<span style="color:#f92672">=</span>Secret123456
</span></span><span style="display:flex;"><span>export domainUID<span style="color:#f92672">=</span>domain1
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Used to generate resource names.</span>
</span></span><span style="display:flex;"><span>export TIMESTAMP<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>date +%s<span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>export AKS_CLUSTER_NAME<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>NAME_PREFIX<span style="color:#e6db74">}</span><span style="color:#e6db74">aks</span><span style="color:#e6db74">${</span>TIMESTAMP<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>export AKS_PERS_RESOURCE_GROUP<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>NAME_PREFIX<span style="color:#e6db74">}</span><span style="color:#e6db74">resourcegroup</span><span style="color:#e6db74">${</span>TIMESTAMP<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>export AKS_PERS_LOCATION<span style="color:#f92672">=</span>eastus
</span></span><span style="display:flex;"><span>export AKS_PERS_STORAGE_ACCOUNT_NAME<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>NAME_PREFIX<span style="color:#e6db74">}</span><span style="color:#e6db74">storage</span><span style="color:#e6db74">${</span>TIMESTAMP<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>export AKS_PERS_SHARE_NAME<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>NAME_PREFIX<span style="color:#e6db74">}</span><span style="color:#e6db74">-weblogic-</span><span style="color:#e6db74">${</span>TIMESTAMP<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>export SECRET_NAME_DOCKER<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>NAME_PREFIX<span style="color:#e6db74">}</span><span style="color:#e6db74">regcred&#34;</span>
</span></span><span style="display:flex;"><span>export ACR_NAME<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>NAME_PREFIX<span style="color:#e6db74">}</span><span style="color:#e6db74">acr</span><span style="color:#e6db74">${</span>TIMESTAMP<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span></code></pre></div><h4 id="oracle-container-registry">Oracle Container Registry</h4>

<p>The following steps will direct you to accept the license agreement for WebLogic Server. Make note of your Oracle Account password and email. This sample pertains to 12.2.1.4, but other versions may work as well.</p>
<ul>
<li>In a web browser, navigate to <a href="https://container-registry.oracle.com">https://container-registry.oracle.com</a> and log in using the Oracle Single Sign-On authentication service. If you do not already have SSO credentials, at the top of the page, click the <strong>Sign In</strong> link to create them.</li>
<li>The Oracle Container Registry provides a WebLogic 12.2.1.4 General Availability (GA) installation image that is used in this sample.
<ul>
<li>In the Oracle Container Registry, navigate to <strong>Middleware</strong>, then <strong>weblogic</strong>.</li>
<li>On the left, choose a language and accept the license agreement. You will then see a message such as: &ldquo;You last accepted the Oracle Standard Terms and Restrictions on 08/10/2020 at 06:12 AM Coordinated Universal Time (UTC).&rdquo;</li>
</ul>
</li>
<li><strong>NOTE</strong>: General Availability (GA) images are suitable for demonstration and development purposes <em>only</em> where the environments are not available from the public Internet; they are <strong>not
acceptable for production use</strong>. In production, you should always use CPU (patched) images
from the OCR
or create your images using the <a href="https://oracle.github.io/weblogic-image-tool/userguide/tools/create-image/">WebLogic Image Tool</a>
(WIT) with the <code>--recommendedPatches</code> option. For more guidance,
see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/middleware/standalone/weblogic-server/14.1.1.0&amp;id=LOCKD-GUID-2DA84185-46BA-4D7A-80D2-9D577A4E8DE2">Apply the Latest Patches and Updates</a>
in <em>Securing a Production Environment for Oracle WebLogic Server</em>.</li>
<li>Ensure that Docker is running. Find and pull the WebLogic 12.2.1.4 installation image:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ docker login container-registry.oracle.com -u <span style="color:#e6db74">${</span>ORACLE_SSO_EMAIL<span style="color:#e6db74">}</span> -p <span style="color:#e6db74">${</span>ORACLE_SSO_PASSWORD<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>$ docker pull container-registry.oracle.com/middleware/weblogic:12.2.1.4
</span></span></code></pre></div></li>
</ul>
<p>If you have problems accessing the Oracle Container Registry, you can build your own images from the <a href="https://github.com/oracle/docker-images/tree/main/OracleWebLogic/dockerfiles">Oracle GitHub repository</a>.</p>


<h4 id="sign-in-with-azure-cli">Sign in with Azure CLI</h4>

<p>The steps in this section show you how to sign in to the Azure CLI.</p>
<ol>
<li>
<p>Open a Bash shell.</p>
</li>
<li>
<p>Sign out and delete some authentication files to remove any lingering credentials.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ az logout
</span></span><span style="display:flex;"><span>$ rm ~/.azure/accessTokens.json
</span></span><span style="display:flex;"><span>$ rm ~/.azure/azureProfile.json
</span></span></code></pre></div></li>
<li>
<p>Sign in to your Azure CLI.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ az login
</span></span></code></pre></div></li>
<li>
<p>Set the subscription ID. Be sure to replace the placeholder with the appropriate value.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ export SUBSCRIPTION_ID<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&lt;your-sub-id&gt;&#34;</span>
</span></span><span style="display:flex;"><span>$ az account set -s $SUBSCRIPTION_ID
</span></span></code></pre></div></li>
</ol>


<h4 id="download-the-weblogic-kubernetes-operator-sample">Download the WebLogic Kubernetes Operator sample</h4>

<p>Download the WebLogic Kubernetes Operator sample ZIP file. We will use several scripts in this zip file to create a WebLogic domain. This sample was tested with v4.2.8, but should work with the latest release.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cd $BASE_DIR
</span></span><span style="display:flex;"><span>$ mkdir sample-scripts
</span></span><span style="display:flex;"><span>$ curl -m <span style="color:#ae81ff">120</span> -fL https://github.com/oracle/weblogic-kubernetes-operator/releases/download/v4.2.8/sample-scripts.zip <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>      -o <span style="color:#e6db74">${</span>BASE_DIR<span style="color:#e6db74">}</span>/sample-scripts/sample-scripts.zip
</span></span><span style="display:flex;"><span>$ unzip <span style="color:#e6db74">${</span>BASE_DIR<span style="color:#e6db74">}</span>/sample-scripts/sample-scripts.zip -d <span style="color:#e6db74">${</span>BASE_DIR<span style="color:#e6db74">}</span>/sample-scripts
</span></span></code></pre></div>


<div class="notices info" ><p>The following sections of the sample instructions will guide you, step-by-step, through the process of setting up a WebLogic cluster on AKS - remaining as close as possible to a native Kubernetes experience. This lets you understand and customize each step. If you wish to have a more automated experience that abstracts some lower level details, you can skip to the <a href="#automation">Automation</a> section.</p>
</div>

<h3 id="create-resource-group">Create Resource Group</h3>

<p>Create the resource group by issuing the following commands.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ az extension add --name resource-graph
</span></span><span style="display:flex;"><span>$ az group create --name $AKS_PERS_RESOURCE_GROUP --location $AKS_PERS_LOCATION
</span></span></code></pre></div>

<h3 id="create-the-aks-cluster">Create the AKS cluster</h3>

<p>This sample doesn&rsquo;t enable application routing. If you want to enable application routing, follow <a href="https://learn.microsoft.com/azure/aks/app-routing?tabs=default%2Cdeploy-app-default">Managed nginx Ingress with the application routing add-on in AKS</a>.</p>
<p>Run the following command to create the AKS cluster.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ az aks create <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>   --resource-group $AKS_PERS_RESOURCE_GROUP <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>   --name $AKS_CLUSTER_NAME <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>   --node-count <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>   --generate-ssh-keys <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>   --nodepool-name nodepool1 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>   --node-vm-size Standard_DS2_v2 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>   --location $AKS_PERS_LOCATION <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>   --enable-managed-identity
</span></span></code></pre></div><p>Successful output will be a JSON object with the entry <code>&quot;type&quot;: &quot;Microsoft.ContainerService/ManagedClusters&quot;</code>.</p>
<p>After the deployment finishes, run the following command to connect to the AKS cluster. This command updates your local <code>~/.kube/config</code> so that subsequent <code>kubectl</code> commands interact with the named AKS cluster.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ az aks get-credentials --resource-group $AKS_PERS_RESOURCE_GROUP --name $AKS_CLUSTER_NAME
</span></span></code></pre></div><p>Successful output will look similar to:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>Merged <span style="color:#e6db74">&#34;wlsaks1596087429&#34;</span> as current context in /home/username/.kube/config
</span></span></code></pre></div><p>After your Kubernetes cluster is up and running, run the following commands to make sure <code>kubectl</code> can access the Kubernetes cluster:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl get nodes -o wide
</span></span></code></pre></div><p>Successful output will look like the following.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>NAME                                STATUS   ROLES   AGE    VERSION   INTERNAL-IP   EXTERNAL-IP   OS-IMAGE             KERNEL-VERSION      CONTAINER-RUNTIME
</span></span><span style="display:flex;"><span>aks-nodepool1-15679926-vmss000000   Ready    agent   118s   v1.25.6   10.224.0.4    &lt;none&gt;        Ubuntu 22.04.2 LTS   5.15.0-1041-azure   containerd://1.7.1+azure-1
</span></span><span style="display:flex;"><span>aks-nodepool1-15679926-vmss000001   Ready    agent   2m8s   v1.25.6   10.224.0.5    &lt;none&gt;        Ubuntu 22.04.2 LTS   5.15.0-1041-azure   containerd://1.7.1+azure-1
</span></span></code></pre></div>

<p><strong>NOTE</strong>: If you run into VM size failure, see <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/azure-kubernetes-service/troubleshooting/#virtual-machine-size-is-not-supported">Troubleshooting - Virtual Machine size is not supported</a>.</p>
<h3 id="create-storage">Create storage</h3>

<p>Our usage pattern for the operator involves creating Kubernetes &ldquo;persistent volumes&rdquo; to allow the WebLogic Server to persist its configuration and data separately from the Kubernetes Pods that run WebLogic Server workloads.</p>
<p>You will create an external data volume to access and persist data. There are several options for data sharing as described in <a href="https://docs.microsoft.com/azure/aks/concepts-storage">Storage options for applications in Azure Kubernetes Service (AKS)</a>.</p>
<p>You will dynamically create and use a persistent volume with Azure Files NFS share.  For details about this full featured cloud storage solution, see the <a href="https://docs.microsoft.com/azure/aks/azure-files-dynamic-pv">Azure Files Documentation</a>.</p>
<h4 id="create-an-azure-storage-account-and-nfs-share">Create an Azure Storage account and NFS share</h4>
<ol>
<li>
<p>Create an Azure Storage Account.</p>
<p>Create a storage account using the Azure CLI. Make sure the following values are specified:</p>
<table>
<thead>
<tr>
<th>Option name</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td><code>$AKS_PERS_STORAGE_ACCOUNT_NAME</code></td>
<td>The storage account name can contain only lowercase letters and numbers, and must be between 3 and 24 characters in length.</td>
</tr>
<tr>
<td><code>sku</code></td>
<td><code>Premium_LRS</code></td>
<td>Only <code>Premium_LRS</code> and <code>Premium_ZRS</code> work for NFS share, see the <a href="https://docs.microsoft.com/azure/storage/files/storage-files-how-to-create-nfs-shares?tabs=azure-portal#applies-to">Azure Files NFS Share Documentation</a>.</td>
</tr>
<tr>
<td><code>https-only</code></td>
<td><code>false</code></td>
<td>You can&rsquo;t mount an NFS file share unless you disable secure transfer.</td>
</tr>
<tr>
<td><code>default-action</code></td>
<td><code>Deny</code></td>
<td>For security, we suggest that you deny access by default and choose to allow access from the AKS cluster network.</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ az storage account create <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --resource-group $AKS_PERS_RESOURCE_GROUP <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --name $AKS_PERS_STORAGE_ACCOUNT_NAME <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --location $AKS_PERS_LOCATION <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --sku Premium_LRS <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --kind FileStorage <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --https-only false <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --default-action Deny
</span></span></code></pre></div><p>Successful output will be a JSON object with the entry <code>&quot;type&quot;: &quot;Microsoft.Storage/storageAccounts&quot;</code>.</p>
</li>
<li>
<p>Create an NFS share.</p>
<p>We strongly recommend NFS instead of SMB. NFS evolved from the UNIX operating system, and other variants such as GNU/Linux. For this reason, when using NFS with container technologies such as Docker, it is less likely to have problems for concurrent reads and file locking.</p>
<p>Please be sure to enable NFS v4.1. Versions lower than v4.1 will have problems.</p>
<p>To create the file share, you must use <code>NoRootSquash</code> to allow the operator to change the ownership of the directory in the NFS share.</p>
<p>Otherwise, you will get an error like <code>chown: changing ownership of '/shared': Operation not permitted</code>.</p>
<p>The following command creates an NFS share with 100GiB:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Create NFS file share</span>
</span></span><span style="display:flex;"><span>$ az storage share-rm create <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --resource-group $AKS_PERS_RESOURCE_GROUP <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --storage-account $AKS_PERS_STORAGE_ACCOUNT_NAME <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --name <span style="color:#e6db74">${</span>AKS_PERS_SHARE_NAME<span style="color:#e6db74">}</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --enabled-protocol NFS <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --root-squash NoRootSquash <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --quota <span style="color:#ae81ff">100</span>
</span></span></code></pre></div><p>The command provisions an NFS file share with NFS 4.1 or above.</p>
</li>
<li>
<p>Assign the AKS cluster <strong>Contributor</strong> role to access the storage account.</p>
<p>You must configure role assignment allowing access from the AKS cluster to the storage account.</p>
<p>Get the <code>objectId</code> of the AKS cluster with the following command and save it with the variable <code>AKS_OBJECT_ID</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ AKS_OBJECT_ID<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>az aks show --name <span style="color:#e6db74">${</span>AKS_CLUSTER_NAME<span style="color:#e6db74">}</span> --resource-group <span style="color:#e6db74">${</span>AKS_PERS_RESOURCE_GROUP<span style="color:#e6db74">}</span> --query <span style="color:#e6db74">&#34;identity.principalId&#34;</span> -o tsv<span style="color:#66d9ef">)</span>
</span></span></code></pre></div><p>Get the Id of the storage account with the following command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ STORAGE_ACCOUNT_ID<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>az storage account show --name <span style="color:#e6db74">${</span>AKS_PERS_STORAGE_ACCOUNT_NAME<span style="color:#e6db74">}</span> --resource-group <span style="color:#e6db74">${</span>AKS_PERS_RESOURCE_GROUP<span style="color:#e6db74">}</span> --query <span style="color:#e6db74">&#34;id&#34;</span> -o tsv<span style="color:#66d9ef">)</span>
</span></span></code></pre></div><p>Now, you are able to create a role assignment to grant the AKS cluster the <strong>Contributor</strong> role in the scope of the storage account. Then, the AKS cluster is able to access the file share.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ az role assignment create <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --assignee-object-id <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>AKS_OBJECT_ID<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --assignee-principal-type <span style="color:#e6db74">&#34;ServicePrincipal&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --role <span style="color:#e6db74">&#34;Contributor&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --scope <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>STORAGE_ACCOUNT_ID<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span></code></pre></div><p>Successful output will be a JSON object like the following:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#34;condition&#34;</span>: <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#34;conditionVersion&#34;</span>: <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#34;createdBy&#34;</span>: <span style="color:#e6db74">&#34;d6fe7d09-3330-45b6-ae32-4dd5e3310835&#34;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#34;createdOn&#34;</span>: <span style="color:#e6db74">&#34;2023-05-11T04:13:04.922943+00:00&#34;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#34;delegatedManagedIdentityResourceId&#34;</span>: <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;/subscriptions/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/resourceGroups/wlsresourcegroup1683777168/providers/Microsoft.Storage/storageAccounts/wlsstorage1683777168/providers/Microsoft.Authorization/roleAssignments/93dae12d-21c8-4844-99cd-e8b088356af6&#34;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;93dae12d-21c8-4844-99cd-e8b088356af6&#34;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#34;principalId&#34;</span>: <span style="color:#e6db74">&#34;95202c6f-2073-403c-b9a7-7d2f1cbb4541&#34;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#34;principalName&#34;</span>: <span style="color:#e6db74">&#34;3640cbf2-4db7-43b8-bcf6-1e51d3e90478&#34;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#34;principalType&#34;</span>: <span style="color:#e6db74">&#34;ServicePrincipal&#34;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#34;resourceGroup&#34;</span>: <span style="color:#e6db74">&#34;wlsresourcegroup1683777168&#34;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#34;roleDefinitionId&#34;</span>: <span style="color:#e6db74">&#34;/subscriptions/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c&#34;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#34;roleDefinitionName&#34;</span>: <span style="color:#e6db74">&#34;Contributor&#34;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#34;scope&#34;</span>: <span style="color:#e6db74">&#34;/subscriptions/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/resourceGroups/wlsresourcegroup1683777168/providers/Microsoft.Storage/storageAccounts/wlsstorage1683777168&#34;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;Microsoft.Authorization/roleAssignments&#34;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#34;updatedBy&#34;</span>: <span style="color:#e6db74">&#34;d6fe7d09-3330-45b6-ae32-4dd5e3310835&#34;</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">&#34;updatedOn&#34;</span>: <span style="color:#e6db74">&#34;2023-05-11T04:13:04.922943+00:00&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p>Configure network security.</p>
<p>You must configure network security allowing access from the AKS cluster to the file share.</p>
<p>First, you must get the virtual network name and the subnet name of the AKS cluster.</p>
<p>Run the following commands to get network information:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># get the resource group name of the AKS managed resources</span>
</span></span><span style="display:flex;"><span>$ aksMCRGName<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>az aks show --name $AKS_CLUSTER_NAME --resource-group $AKS_PERS_RESOURCE_GROUP -o tsv --query <span style="color:#e6db74">&#34;nodeResourceGroup&#34;</span><span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>$ echo <span style="color:#e6db74">${</span>aksMCRGName<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># get network name of AKS cluster</span>
</span></span><span style="display:flex;"><span>$ aksNetworkName<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>az graph query -q <span style="color:#e6db74">&#34;Resources \
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    | where type =~ &#39;Microsoft.Network/virtualNetworks&#39; \
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    | where resourceGroup  =~ &#39;</span><span style="color:#e6db74">${</span>aksMCRGName<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39; \
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    | project name = name&#34;</span> --query <span style="color:#e6db74">&#34;data[0].name&#34;</span>  -o tsv<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>$ echo <span style="color:#e6db74">${</span>aksNetworkName<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># get subnet name of AKS agent pool</span>
</span></span><span style="display:flex;"><span>$ aksSubnetName<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>az network vnet subnet list --resource-group <span style="color:#e6db74">${</span>aksMCRGName<span style="color:#e6db74">}</span> --vnet-name <span style="color:#e6db74">${</span>aksNetworkName<span style="color:#e6db74">}</span> -o tsv --query <span style="color:#e6db74">&#34;[*].name&#34;</span><span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>$ echo <span style="color:#e6db74">${</span>aksSubnetName<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># get subnet id of the AKS agent pool</span>
</span></span><span style="display:flex;"><span>$ aksSubnetId<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>az network vnet subnet list --resource-group <span style="color:#e6db74">${</span>aksMCRGName<span style="color:#e6db74">}</span> --vnet-name <span style="color:#e6db74">${</span>aksNetworkName<span style="color:#e6db74">}</span> -o tsv --query <span style="color:#e6db74">&#34;[*].id&#34;</span><span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>$ echo <span style="color:#e6db74">${</span>aksSubnetId<span style="color:#e6db74">}</span>
</span></span></code></pre></div><p>You must enable the service endpoint <code>Microsoft.Storage</code> for the subnet using the following command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ az network vnet subnet update <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --resource-group $aksMCRGName <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --name <span style="color:#e6db74">${</span>aksSubnetName<span style="color:#e6db74">}</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --vnet-name <span style="color:#e6db74">${</span>aksNetworkName<span style="color:#e6db74">}</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --service-endpoints Microsoft.Storage
</span></span></code></pre></div><p>It takes several minutes to enable the service endpoint; successful output will be a JSON object like the following:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>&#34;serviceEndpoints&#34;: [
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  &#34;locations&#34;: [
</span></span><span style="display:flex;"><span>    &#34;eastus&#34;,
</span></span><span style="display:flex;"><span>    &#34;westus&#34;
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  &#34;provisioningState&#34;: &#34;Succeeded&#34;,
</span></span><span style="display:flex;"><span>  &#34;service&#34;: &#34;Microsoft.Storage&#34;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Now you must create a network rule to allow access from the AKS cluster.
The following command enables access from the AKS subnet to the storage account:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ az storage account network-rule add <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --resource-group $AKS_PERS_RESOURCE_GROUP <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --account-name $AKS_PERS_STORAGE_ACCOUNT_NAME <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --subnet <span style="color:#e6db74">${</span>aksSubnetId<span style="color:#e6db74">}</span>
</span></span></code></pre></div><p>Successful output will be a JSON object with a virtual network rule like:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>&#34;virtualNetworkRules&#34;: [
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    &#34;action&#34;: &#34;Allow&#34;,
</span></span><span style="display:flex;"><span>    &#34;state&#34;: &#34;Succeeded&#34;,
</span></span><span style="display:flex;"><span>    &#34;virtualNetworkResourceId&#34;: &#34;${aksSubnetId}&#34;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div></li>
</ol>
<h4 id="create-sc-and-pvc">Create SC and PVC</h4>
<h4 id="generated-configuration-files">Generated configuration files</h4>
<p>Use the following command to generate configuration files.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>cat &gt;azure-csi-nfs-<span style="color:#e6db74">${</span>TIMESTAMP<span style="color:#e6db74">}</span>.yaml <span style="color:#e6db74">&lt;&lt;EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># Copyright (c) 2018, 2023, Oracle and/or its affiliates.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># Licensed under the Universal Permissive License v 1.0 as shown at https://oss.oracle.com/licenses/upl.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">apiVersion: storage.k8s.io/v1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">kind: StorageClass
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">metadata:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  name: azurefile-csi-nfs
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">provisioner: file.csi.azure.com
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">parameters:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  protocol: nfs
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  resourceGroup: ${AKS_PERS_RESOURCE_GROUP}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  storageAccount: ${AKS_PERS_STORAGE_ACCOUNT_NAME}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  shareName: ${AKS_PERS_SHARE_NAME}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">reclaimPolicy: Delete
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">volumeBindingMode: Immediate
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">allowVolumeExpansion: true
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cat &gt;pvc-<span style="color:#e6db74">${</span>TIMESTAMP<span style="color:#e6db74">}</span>.yaml <span style="color:#e6db74">&lt;&lt;EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">apiVersion: v1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">kind: PersistentVolumeClaim
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">metadata:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  name: wls-azurefile-${TIMESTAMP}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">spec:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  accessModes:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    - ReadWriteMany
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  storageClassName: azurefile-csi-nfs
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  resources:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    requests:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      storage: 5Gi
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span></code></pre></div><p>Use the <code>kubectl</code> command to create the Storage Class and persistent volume claim in the <code>default</code> namespace.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl apply -f azure-csi-nfs-<span style="color:#e6db74">${</span>TIMESTAMP<span style="color:#e6db74">}</span>.yaml
</span></span><span style="display:flex;"><span>$ kubectl apply -f pvc-<span style="color:#e6db74">${</span>TIMESTAMP<span style="color:#e6db74">}</span>.yaml
</span></span></code></pre></div><p>Use the following command to verify:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl get sc
</span></span></code></pre></div><p>Example of <code>kubectl get sc</code> output:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl get sc
</span></span><span style="display:flex;"><span>NAME                    PROVISIONER          RECLAIMPOLICY   VOLUMEBINDINGMODE      ALLOWVOLUMEEXPANSION   AGE
</span></span><span style="display:flex;"><span>azurefile               file.csi.azure.com   Delete          Immediate              true                   30m
</span></span><span style="display:flex;"><span>azurefile-csi           file.csi.azure.com   Delete          Immediate              true                   30m
</span></span><span style="display:flex;"><span>azurefile-csi-nfs       file.csi.azure.com   Delete          Immediate              true                   24m
</span></span><span style="display:flex;"><span>azurefile-csi-premium   file.csi.azure.com   Delete          Immediate              true                   30m
</span></span><span style="display:flex;"><span>azurefile-premium       file.csi.azure.com   Delete          Immediate              true                   30m
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl get pvc
</span></span></code></pre></div><p>Example of <code>kubectl get pvc</code> output:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl get pvc
</span></span><span style="display:flex;"><span>NAME                       STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS        AGE
</span></span><span style="display:flex;"><span>wls-azurefile-1693900684   Bound    pvc-1f615766-0f21-4c88-80e1-93c9bdabb3eb   5Gi        RWX            azurefile-csi-nfs   46s
</span></span></code></pre></div>

<h3 id="create-a-domain-creation-image">Create a domain creation image</h3>
<p>This sample requires <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/domain-on-pv/domain-creation-images/">Domain creation images</a>. For more information, see <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/domain-on-pv/overview/">Domain on Persistent Volume</a>.</p>
<h4 id="image-creation-prerequisites">Image creation prerequisites</h4>
<ul>
<li>
<p>The <code>JAVA_HOME</code> environment variable must be set and must reference a valid JDK 8 or 11 installation.</p>
</li>
<li>
<p>Copy the sample to a new directory; for example, use the directory <code>/tmp/dpv-sample</code>. In the directory name, <code>dpv</code> is short for &ldquo;domain on pv&rdquo;. Domain on PV is one of three domain home source types supported by the operator. To learn more, see <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/choosing-a-model/">Choose a domain home source type</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ rm -rf /tmp/dpv-sample
</span></span><span style="display:flex;"><span>$ mkdir /tmp/dpv-sample
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cp -r $BASE_DIR/sample-scripts/create-weblogic-domain/domain-on-pv/* /tmp/dpv-sample
</span></span></code></pre></div><p><strong>NOTE</strong>: We will refer to this working copy of the sample as <code>/tmp/dpv-sample</code>; however, you can use a different location.</p>
</li>
<li>
<p>Copy the <code>wdt-artifacts</code> directory of the sample to a new directory; for example, use directory <code>/tmp/dpv-sample/wdt-artifacts</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cp -r $BASE_DIR/sample-scripts/create-weblogic-domain/wdt-artifacts/* /tmp/dpv-sample
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ export WDT_MODEL_FILES_PATH<span style="color:#f92672">=</span>/tmp/dpv-sample/wdt-model-files
</span></span></code></pre></div></li>
</ul>

<ul>
<li>
<p>Download the latest WebLogic Deploying Tooling (WDT) and WebLogic Image Tool (WIT) installer ZIP files to your <code>${WDT_MODEL_FILES_PATH}</code> directory. Both WDT and WIT are required to create your Model in Image images.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl -m <span style="color:#ae81ff">120</span> -fL https://github.com/oracle/weblogic-deploy-tooling/releases/latest/download/weblogic-deploy.zip <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span> -o <span style="color:#e6db74">${</span>WDT_MODEL_FILES_PATH<span style="color:#e6db74">}</span>/weblogic-deploy.zip
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl -m <span style="color:#ae81ff">120</span> -fL https://github.com/oracle/weblogic-image-tool/releases/latest/download/imagetool.zip <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -o <span style="color:#e6db74">${</span>WDT_MODEL_FILES_PATH<span style="color:#e6db74">}</span>/imagetool.zip
</span></span></code></pre></div></li>
<li>
<p>Set up the WebLogic Image Tool, run the following commands:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ unzip <span style="color:#e6db74">${</span>WDT_MODEL_FILES_PATH<span style="color:#e6db74">}</span>/imagetool.zip -d <span style="color:#e6db74">${</span>WDT_MODEL_FILES_PATH<span style="color:#e6db74">}</span>
</span></span></code></pre></div><pre tabindex="0"><code>$ ${WDT_MODEL_FILES_PATH}/imagetool/bin/imagetool.sh cache deleteEntry --key wdt_latest
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ <span style="color:#e6db74">${</span>WDT_MODEL_FILES_PATH<span style="color:#e6db74">}</span>/imagetool/bin/imagetool.sh cache addInstaller <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --type wdt <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --version latest <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --path <span style="color:#e6db74">${</span>WDT_MODEL_FILES_PATH<span style="color:#e6db74">}</span>/weblogic-deploy.zip
</span></span></code></pre></div><p>These steps will install WIT to the <code>${WDT_MODEL_FILES_PATH}/imagetool</code> directory, plus put a <code>wdt_latest</code> entry in the tool’s cache which points to the WDT ZIP file installer. You will use WIT later in the sample for creating model images.</p>
</li>
</ul>


<h4 id="image-creation---introduction">Image creation - Introduction</h4>

<p>The goal of image creation is to demonstrate using the WebLogic Image Tool to create an image tagged as <code>wdt-domain-image:WLS-v1</code> from files that you will stage to <code>${WDT_MODEL_FILES_PATH}/WLS-v1/</code>.</p>
<ul>
<li>The directory where the WebLogic Deploy Tooling software is installed (also known as WDT Home) is expected in an image’s <code>/auxiliary/weblogic-deploy</code> directory.</li>
<li>WDT model YAML (model), WDT variable (property), and WDT archive ZIP (archive) files are expected in directory <code>/auxiliary/models</code>.</li>
</ul>

<h4 id="understanding-your-first-archive">Understanding your first archive</h4>
<p>See <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/domains/domain-home-on-pv/build-domain-creation-image/#understand-your-first-archive">Understanding your first archive</a>.</p>
<h4 id="staging-a-zip-file-of-the-archive">Staging a ZIP file of the archive</h4>
<p>Delete any possible existing archive.zip in case we have an old leftover version.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ rm -f <span style="color:#e6db74">${</span>WDT_MODEL_FILES_PATH<span style="color:#e6db74">}</span>/WLS-v1/archive.zip
</span></span></code></pre></div><p>Create a ZIP file of the archive in the location that we will use when we run the WebLogic Image Tool.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cd /tmp/dpv-sample/archives/archive-v1
</span></span><span style="display:flex;"><span>$ zip -r <span style="color:#e6db74">${</span>WDT_MODEL_FILES_PATH<span style="color:#e6db74">}</span>/WLS-v1/archive.zip wlsdeploy
</span></span></code></pre></div><h4 id="staging-model-files">Staging model files</h4>

<p>In this step, you explore the staged WDT model YAML file and properties in the <code>${WDT_MODEL_FILES_PATH}/WLS-v1</code> directory. The model in this directory references the web application in your archive, configures a WebLogic Server Administration Server, and configures a WebLogic cluster. It consists of only two files, <code>model.10.properties</code>, a file with a single property, and, <code>model.10.yaml</code>, a YAML file with your WebLogic configuration.</p>
<p>Here is the WLS <code>model.10.properties</code>:</p>
<pre tabindex="0"><code>CLUSTER_SIZE=5
</code></pre><p>Here is the WLS <code>model.10.yaml</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">domainInfo</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">AdminUserName</span>: <span style="color:#e6db74">&#39;@@SECRET:__weblogic-credentials__:username@@&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">AdminPassword</span>: <span style="color:#e6db74">&#39;@@SECRET:__weblogic-credentials__:password@@&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ServerStartMode</span>: <span style="color:#e6db74">&#39;prod&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">topology</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Name</span>: <span style="color:#e6db74">&#39;@@ENV:CUSTOM_DOMAIN_NAME@@&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">AdminServerName</span>: <span style="color:#e6db74">&#39;admin-server&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Cluster</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#39;cluster-1&#39;</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">DynamicServers</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">ServerTemplate</span>:  <span style="color:#e6db74">&#39;cluster-1-template&#39;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">ServerNamePrefix</span>: <span style="color:#e6db74">&#39;managed-server&#39;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">DynamicClusterSize</span>: <span style="color:#e6db74">&#39;@@PROP:CLUSTER_SIZE@@&#39;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">MaxDynamicClusterSize</span>: <span style="color:#e6db74">&#39;@@PROP:CLUSTER_SIZE@@&#39;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">MinDynamicClusterSize</span>: <span style="color:#e6db74">&#39;0&#39;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">CalculatedListenPorts</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Server</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#39;admin-server&#39;</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">ListenPort</span>: <span style="color:#ae81ff">7001</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ServerTemplate</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#39;cluster-1-template&#39;</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">Cluster</span>: <span style="color:#e6db74">&#39;cluster-1&#39;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">ListenPort</span>: <span style="color:#ae81ff">8001</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">appDeployments</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Application</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">myapp</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">SourcePath</span>: <span style="color:#e6db74">&#39;wlsdeploy/applications/myapp-v1&#39;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">ModuleType</span>: <span style="color:#ae81ff">ear</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">Target</span>: <span style="color:#e6db74">&#39;cluster-1&#39;</span>
</span></span></code></pre></div><p>The model file:</p>
<ul>
<li>
<p>Defines a WebLogic domain with:</p>
<ul>
<li>Cluster <code>cluster-1</code></li>
<li>Administration Server <code>admin-server</code></li>
<li>An EAR application, targeted to <code>cluster-1</code>, located in the WDT archive ZIP file at <code>wlsdeploy/applications/myapp-v1</code></li>
</ul>
</li>
<li>
<p>Leverages macros to inject external values:</p>
<ul>
<li>The property file <code>CLUSTER_SIZE</code> property is referenced in the model YAML file <code>DynamicClusterSize</code> and <code>MaxDynamicClusterSize</code> fields using a PROP macro.</li>
<li>The model file domain name is injected using a custom environment variable named <code>CUSTOM_DOMAIN_NAME</code> using an ENV macro.
<ul>
<li>You set this environment variable later in this sample using an <code>env</code> field in its Domain.</li>
<li><em>This conveniently provides a simple way to deploy multiple differently named domains using the same model image</em>.</li>
</ul>
</li>
<li>The model file administrator user name and password are set using a <code>weblogic-credentials</code> secret macro reference to the WebLogic credential secret.
<ul>
<li>This secret is in turn referenced using the <code>webLogicCredentialsSecret</code> field in the Domain.</li>
<li>The <code>weblogic-credentials</code> is a reserved name that always dereferences to the owning Domain actual WebLogic credentials secret name.</li>
</ul>
</li>
</ul>
</li>
</ul>


<p>An image can contain multiple properties files, archive ZIP files, and model YAML files but in this sample you use just one of each. For a complete description of WDT model file naming conventions, file loading order, and macro syntax, see <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/domain-on-pv/model-files/">Model files</a> in the user documentation.</p>
<h4 id="creating-the-image-with-wit">Creating the image with WIT</h4>

<p>At this point, you have all of the files needed for <code>image wdt-domain-image:WLS-v1</code> staged; they include:</p>
<ul>
<li><code>/tmp/sample/wdt-artifacts/wdt-model-files/WLS-v1/model.10.yaml</code></li>
<li><code>/tmp/sample/wdt-artifacts/wdt-model-files/WLS-v1/model.10.properties</code></li>
<li><code>/tmp/sample/wdt-artifacts/wdt-model-files/WLS-v1/archive.zip</code></li>
</ul>
<p>Now, you use the Image Tool to create an image named <code>wdt-domain-image:WLS-v1</code>. You’ve already set up this tool during the prerequisite steps.</p>
<p>Run the following command to create the image and verify that it worked.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ <span style="color:#e6db74">${</span>WDT_MODEL_FILES_PATH<span style="color:#e6db74">}</span>/imagetool/bin/imagetool.sh createAuxImage <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --tag wdt-domain-image:WLS-v1 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --wdtModel <span style="color:#e6db74">${</span>WDT_MODEL_FILES_PATH<span style="color:#e6db74">}</span>/WLS-v1/model.10.yaml <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --wdtVariables <span style="color:#e6db74">${</span>WDT_MODEL_FILES_PATH<span style="color:#e6db74">}</span>/WLS-v1/model.10.properties <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --wdtArchive <span style="color:#e6db74">${</span>WDT_MODEL_FILES_PATH<span style="color:#e6db74">}</span>/WLS-v1/archive.zip
</span></span></code></pre></div><p>This command runs the WebLogic Image Tool to create the domain creation image and does the following:</p>
<ul>
<li>Builds the final container image as a layer on a small <code>busybox</code> base image.</li>
<li>Copies the WDT ZIP file that&rsquo;s referenced in the WIT cache into the image.
<ul>
<li>Note that you cached WDT in WIT using the keyword <code>latest</code> when you set up the cache during the sample prerequisites steps.</li>
<li>This lets WIT implicitly assume it&rsquo;s the desired WDT version and removes the need to pass a <code>-wdtVersion</code> flag.</li>
</ul>
</li>
<li>Copies the specified WDT model, properties, and application archives to image location <code>/auxiliary/models</code>.</li>
</ul>
<p>When the command succeeds, it should end with output like the following:</p>
<pre tabindex="0"><code>[INFO   ] Build successful. Build time=70s. Image tag=wdt-domain-image:WLS-v1
</code></pre><p>Verify the image is available in the local Docker server with the following command.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ docker images | grep WLS-v1
</span></span></code></pre></div><p>The output will show something similar to the following:</p>
<pre tabindex="0"><code>wdt-domain-image          WLS-v1   012d3bfa3536   5 days ago      1.13GB
</code></pre>


<div class="notices note" ><p>The <code>imagetool.sh</code> is not supported on macOS with Apple Silicon. See <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/azure-kubernetes-service/troubleshooting/#exec-weblogic-operatorscriptsintrospectdomainsh-exec-format-error">Troubleshooting - exec format error</a>.</p>
</div>


<div class="notices note" ><p>You may run into a <code>Dockerfile</code> parsing error if your Docker buildkit is enabled, see <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/azure-kubernetes-service/troubleshooting/#weblogic-image-tool-failure">Troubleshooting - WebLogic Image Tool failure</a>.</p>
</div>

<h4 id="pushing-the-image-to-azure-container-registry">Pushing the image to Azure Container Registry</h4>

<p>AKS can pull images from any container registry, but the easiest integration is to use Azure Container Registry (ACR).  In addition to simplicity, using ACR simplifies high availability and disaster recovery with features such as geo-replication. For more information, see <a href="https://learn.microsoft.com/en-us/azure/container-registry/container-registry-geo-replication">Geo-replication in Azure Container Registry</a>. In this section, we will create a new Azure Container Registry, connect it to our pre-existing AKS cluster and push the image built in the preceding section to it.  For complete details, see <a href="https://learn.microsoft.com/en-us/azure/container-registry/">Azure Container Registry documentation</a>.</p>
<p>Let&rsquo;s create an instance of ACR in the same resource group we used for AKS. We will use the environment variables used during the steps above.  For simplicity, we use the resource group name as the name of the ACR instance.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ az acr create --resource-group $AKS_PERS_RESOURCE_GROUP --name $ACR_NAME --sku Basic --admin-enabled true
</span></span></code></pre></div><p>Closely examine the JSON output from this command. Save the value of the <code>loginServer</code> property aside. It will look something like the following.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#e6db74">&#34;loginServer&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#34;contosoresourcegroup1610068510.azurecr.io&#34;</span><span style="color:#960050;background-color:#1e0010">,</span>
</span></span></code></pre></div><p>Use this value to sign in to the ACR instance. Note that because you are signing in with the <code>az</code> CLI, you do not need a password because your identity is already conveyed by having done <code>az login</code> previously.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ export LOGIN_SERVER<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>az acr show -n $ACR_NAME --resource-group $AKS_PERS_RESOURCE_GROUP --query <span style="color:#e6db74">&#34;loginServer&#34;</span> -o tsv<span style="color:#66d9ef">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ az acr login --name $LOGIN_SERVER
</span></span></code></pre></div><p>Successful output will include <code>Login Succeeded</code>.</p>


<p>Push the <code>wdt-domain-image:WLS-v1</code> image created while satisfying the preconditions to this registry.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ docker tag wdt-domain-image:WLS-v1 $LOGIN_SERVER/wdt-domain-image:WLS-v1
</span></span><span style="display:flex;"><span>$ docker push <span style="color:#e6db74">${</span>LOGIN_SERVER<span style="color:#e6db74">}</span>/wdt-domain-image:WLS-v1
</span></span></code></pre></div>
<p>Finally, connect the AKS cluster to the ACR. For more details on connecting ACR to an existing AKS, see <a href="https://learn.microsoft.com/en-us/azure/aks/cluster-container-registry-integration?tabs=azure-cli#configure-acr-integration-for-an-existing-aks-cluster">Configure ACR integration for existing AKS clusters</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ export ACR_ID<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>az acr show -n $ACR_NAME --resource-group $AKS_PERS_RESOURCE_GROUP --query <span style="color:#e6db74">&#34;id&#34;</span> -o tsv<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>$ az aks update --name $AKS_CLUSTER_NAME --resource-group $AKS_PERS_RESOURCE_GROUP --attach-acr $ACR_ID
</span></span></code></pre></div><p>Successful output will be a JSON object with the entry <code>&quot;type&quot;: &quot;Microsoft.ContainerService/ManagedClusters&quot;</code>.</p>


<p>If you see an error that seems related to you not being an <strong>Owner on this subscription</strong>, please refer to the troubleshooting section <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/azure-kubernetes-service/troubleshooting/#cannot-attach-acr-due-to-not-being-owner-of-subscription">Cannot attach ACR due to not being Owner of subscription</a>.</p>
<h3 id="install-weblogic-kubernetes-operator-into-the-aks-cluster">Install WebLogic Kubernetes Operator into the AKS cluster</h3>
<p>The WebLogic Kubernetes Operator is an adapter to integrate WebLogic Server and Kubernetes, allowing Kubernetes to serve as a container infrastructure hosting WLS instances.  The operator runs as a Kubernetes Pod and stands ready to perform actions related to running WLS on Kubernetes.</p>
<p>Kubernetes Operators use <a href="https://helm.sh/">Helm</a> to manage Kubernetes applications. The operator’s Helm chart is located in the <code>kubernetes/charts/weblogic-operator</code> directory. Please install the operator by running the corresponding command.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ helm repo add weblogic-operator https://oracle.github.io/weblogic-kubernetes-operator/charts --force-update
</span></span><span style="display:flex;"><span>$ helm repo update
</span></span><span style="display:flex;"><span>$ helm install weblogic-operator weblogic-operator/weblogic-operator
</span></span></code></pre></div><p>The output will show something similar to the following:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ helm install weblogic-operator weblogic-operator/weblogic-operator
</span></span><span style="display:flex;"><span>NAME: weblogic-operator
</span></span><span style="display:flex;"><span>LAST DEPLOYED: Tue Jan <span style="color:#ae81ff">18</span> 17:07:56 <span style="color:#ae81ff">2022</span>
</span></span><span style="display:flex;"><span>NAMESPACE: default
</span></span><span style="display:flex;"><span>STATUS: deployed
</span></span><span style="display:flex;"><span>REVISION: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>TEST SUITE: None
</span></span></code></pre></div><p>Verify the operator with the following command; the <code>STATUS</code> must be <code>Running</code>.  The <code>READY</code> must be <code>1/1</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl get pods -w
</span></span></code></pre></div><pre tabindex="0"><code>NAME                                         READY   STATUS    RESTARTS   AGE
weblogic-operator-69794f8df7-bmvj9           1/1     Running   0          86s
weblogic-operator-webhook-868db5875b-55v7r   1/1     Running   0          86s
</code></pre>
<div class="notices tip" ><p>You will have to press Ctrl-C to exit this command due to the <code>-w</code> flag.</p>
</div>

<h3 id="create-weblogic-domain">Create WebLogic domain</h3>
<p>Now that you have created the AKS cluster, installed the operator, and verified that the operator is ready to go, you can ask the operator to create a WLS domain.</p>
<h4 id="create-secrets">Create secrets</h4>
<p>You will use the <code>$BASE_DIR/sample-scripts/create-weblogic-domain-credentials/create-weblogic-credentials.sh</code> script to create the domain WebLogic administrator credentials as a Kubernetes secret. Please run the following commands:</p>
<pre tabindex="0"><code>cd $BASE_DIR/sample-scripts/create-weblogic-domain-credentials
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ ./create-weblogic-credentials.sh -u <span style="color:#e6db74">${</span>WEBLOGIC_USERNAME<span style="color:#e6db74">}</span> -p <span style="color:#e6db74">${</span>WEBLOGIC_PASSWORD<span style="color:#e6db74">}</span> -d domain1
</span></span></code></pre></div><p>The output will show something similar to the following:</p>
<pre tabindex="0"><code>secret/domain1-weblogic-credentials created
secret/domain1-weblogic-credentials labeled
The secret domain1-weblogic-credentials has been successfully created in the default namespace.
</code></pre><p>You will use the <code>kubernetes/samples/scripts/create-kubernetes-secrets/create-docker-credentials-secret.sh</code> script to create the Docker credentials as a Kubernetes secret. Please run the following commands:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cd $BASE_DIR/sample-scripts/create-kubernetes-secrets
</span></span><span style="display:flex;"><span>$ ./create-docker-credentials-secret.sh -s <span style="color:#e6db74">${</span>SECRET_NAME_DOCKER<span style="color:#e6db74">}</span> -e <span style="color:#e6db74">${</span>ORACLE_SSO_EMAIL<span style="color:#e6db74">}</span> -p <span style="color:#e6db74">${</span>ORACLE_SSO_PASSWORD<span style="color:#e6db74">}</span> -u <span style="color:#e6db74">${</span>ORACLE_SSO_EMAIL<span style="color:#e6db74">}</span>
</span></span></code></pre></div><p>The output will show something similar to the following:</p>
<pre tabindex="0"><code>secret/wlsregcred created
The secret wlsregcred has been successfully created in the default namespace.
</code></pre><p>Verify secrets with the following command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl get secret
</span></span></code></pre></div><p>The output will show something similar to the following:</p>
<pre tabindex="0"><code>NAME                                      TYPE                             DATA   AGE
domain1-weblogic-credentials              Opaque                           2      2m32s
sh.helm.release.v1.weblogic-operator.v1   helm.sh/release.v1               1      5m32s
weblogic-operator-secrets                 Opaque                           1      5m31s
weblogic-webhook-secrets                  Opaque                           2      5m31s
wlsregcred                                kubernetes.io/dockerconfigjson   1      38s
</code></pre><p><strong>NOTE</strong>: If the <code>NAME</code> column in your output is missing any of the values shown above, please review your execution of the preceding steps in this sample to ensure that you correctly followed all of them.</p>
<h4 id="enable-weblogic-operator">Enable Weblogic Operator</h4>
<p>Run the following command to enable the operator to monitor the namespace.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>kubectl label namespace default weblogic-operator<span style="color:#f92672">=</span>enabled
</span></span></code></pre></div><h4 id="create-weblogic-domain-1">Create WebLogic Domain</h4>
<p>Now, you deploy a <code>sample-domain1</code> domain resource and an associated <code>sample-domain1-cluster-1</code> cluster resource using a single YAML resource file which defines both resources. The domain resource and cluster resource tells the operator how to deploy a WebLogic domain. They do not replace the traditional WebLogic configuration files, but instead cooperate with those files to describe the Kubernetes artifacts of the corresponding domain.</p>
<ul>
<li>
<p>Run the following commands to generate resource files.</p>
<p>Export <code>Domain_Creation_Image_tag</code>, which will be referred in <code>create-domain-on-aks-generate-yaml.sh</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>export Domain_Creation_Image_tag<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>LOGIN_SERVER<span style="color:#e6db74">}</span>/wdt-domain-image:WLS-v1
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>cd $BASE_DIR/sample-scripts/create-weblogic-domain-on-azure-kubernetes-service  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>bash create-domain-on-aks-generate-yaml.sh
</span></span></code></pre></div></li>
</ul>
<p>After running above commands, you will get three files: <code>domain-resource.yaml</code>, <code>admin-lb.yaml</code>, <code>cluster-lb.yaml</code>.</p>
<p>The domain resource references the cluster resource, a WebLogic Server installation image, the secrets you defined, PV and PVC configuration details, and a sample <code>domain creation image</code>, which contains a traditional WebLogic configuration and a WebLogic application. For detailed information, see <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/managing-domains/domain-resource/">Domain and cluster resources</a>.</p>
<ul>
<li>
<p>Run the following command to apply the two sample resources.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl apply -f domain-resource.yaml
</span></span></code></pre></div></li>
<li>
<p>Create the load balancer services using the following commands:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl apply -f admin-lb.yaml
</span></span></code></pre></div><p>The output will show something similar to the following:</p>
<pre tabindex="0"><code>service/domain1-admin-server-external-lb created
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl  apply -f cluster-lb.yaml
</span></span></code></pre></div><p>The output will show something similar to the following:</p>
<pre tabindex="0"><code>service/domain1-cluster-1-external-lb created
</code></pre><p>After a short time, you will see the Administration Server and Managed Servers running.</p>
<p>Use the following command to check server pod status:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl get pods --watch
</span></span></code></pre></div><p>It may take you up to 20 minutes to deploy all pods, please wait and make sure everything is ready.</p>
<p>You can tail the logs of the Administration Server with this command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>kubectl logs -f domain1-admin-server
</span></span></code></pre></div><p>The final example of pod output is as following:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl get pods 
</span></span></code></pre></div><pre tabindex="0"><code>NAME                                        READY   STATUS    RESTARTS   AGE
domain1-admin-server                        1/1     Running   0          12m
domain1-managed-server1                     1/1     Running   0          10m
domain1-managed-server2                     1/1     Running   0          10m
weblogic-operator-7796bc7b8-qmhzw           1/1     Running   0          48m
weblogic-operator-webhook-b5b586bc5-ksfg9   1/1     Running   0          48m
</code></pre>
<div class="notices tip" ><p>If Kubernetes advertises the WebLogic pod as <code>Running</code> you can be assured the WebLogic Server actually is running because the operator ensures that the Kubernetes health checks are actually polling the WebLogic health check mechanism.</p>
</div>

<p>Get the addresses of the Administration Server and Managed Servers (please wait for the external IP addresses to be assigned):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl get svc --watch
</span></span></code></pre></div><p>The final example of service output is as following:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl get svc --watch
</span></span></code></pre></div><pre tabindex="0"><code>  NAME                               TYPE           CLUSTER-IP     EXTERNAL-IP     PORT(S)             AGE
  domain1-admin-server               ClusterIP      None           &lt;none&gt;          7001/TCP            13m
  domain1-admin-server-external-lb   LoadBalancer   10.0.30.252    4.157.147.131   7001:31878/TCP      37m
  domain1-cluster-1-lb               LoadBalancer   10.0.26.96     4.157.147.212   8001:32318/TCP      37m
  domain1-cluster-cluster-1          ClusterIP      10.0.157.174   &lt;none&gt;          8001/TCP            10m
  domain1-managed-server1            ClusterIP      None           &lt;none&gt;          8001/TCP            10m
  domain1-managed-server2            ClusterIP      None           &lt;none&gt;          8001/TCP            10m
  kubernetes                         ClusterIP      10.0.0.1       &lt;none&gt;          443/TCP             60m
  weblogic-operator-webhook-svc      ClusterIP      10.0.41.121    &lt;none&gt;          8083/TCP,8084/TCP   49m
</code></pre><p>In the example, the URL to access the Administration Server is: <code>http://4.157.147.131:7001/console</code>.
The user name and password that you enter for the Administration Console must match the ones you specified for the <code>domain1-weblogic-credentials</code> secret in the <a href="#create-secrets">Create secrets</a> step.</p>
<p>If the WLS Administration Console is still not available, use <code>kubectl get events --sort-by='.metadata.creationTimestamp' </code> to troubleshoot.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl get events --sort-by<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;.metadata.creationTimestamp&#39;</span>
</span></span></code></pre></div></li>
</ul>
<p>To access the sample application on WLS, skip to the section <a href="#access-sample-application">Access sample application</a>. The next section includes a script that automates all of the preceding steps.</p>
<h3 id="automation">Automation</h3>
<p>If you want to automate the above steps of creating the AKS cluster and WLS domain, you can use the script <code>${BASE_DIR}/sample-scripts/create-weblogic-domain-on-azure-kubernetes-service/create-domain-on-aks.sh</code>.</p>
<p>The sample script will create a WLS domain home on the AKS cluster, including:</p>
<ul>
<li>Creating a new Azure resource group, with a new Azure Storage Account and Azure File Share to allow WebLogic to persist its configuration and data separately from the Kubernetes pods that run WLS workloads.</li>
<li>Creating WLS domain home.</li>
<li>Generating the domain resource YAML files, which can be used to restart the Kubernetes artifacts of the corresponding domain.</li>
</ul>
<p>To customize the WLS domain, you can optionally edit <code>${BASE_DIR}/sample-scripts/create-weblogic-domain-on-azure-kubernetes-service/create-domain-on-aks-inputs.sh</code>.</p>
<p>You can now run the script.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cd <span style="color:#e6db74">${</span>BASE_DIR<span style="color:#e6db74">}</span>/sample-scripts/create-weblogic-domain-on-azure-kubernetes-service
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ ./create-domain-on-aks.sh 
</span></span></code></pre></div><p>The script will take some time to run. The script will print the Administration Server address after a successful deployment.
To interact with the cluster using <code>kubectl</code>, use <code>az aks get-credentials</code> as shown in the script output.</p>

<div class="notices info" ><p>You now have created an AKS cluster with Azure Files NFS share to contain the WLS domain configuration files.  Using those artifacts, you have used the operator to create a WLS domain.</p>
</div>

<h3 id="access-sample-application">Access sample application</h3>
<p>Access the Administration Console using the admin load balancer IP address.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ ADMIN_SERVER_IP<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>kubectl get svc domain1-admin-server-external-lb -o<span style="color:#f92672">=</span>jsonpath<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;{.status.loadBalancer.ingress[0].ip}&#39;</span><span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>$ echo <span style="color:#e6db74">&#34;Administration Console Address: http://</span><span style="color:#e6db74">${</span>ADMIN_SERVER_IP<span style="color:#e6db74">}</span><span style="color:#e6db74">:7001/console/&#34;</span>
</span></span></code></pre></div><p>Access the sample application using the cluster load balancer IP address.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ CLUSTER_IP<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>kubectl get svc domain1-cluster-1-lb -o<span style="color:#f92672">=</span>jsonpath<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;{.status.loadBalancer.ingress[0].ip}&#39;</span><span style="color:#66d9ef">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl http://<span style="color:#e6db74">${</span>CLUSTER_IP<span style="color:#e6db74">}</span>:8001/myapp_war/index.jsp
</span></span></code></pre></div><p>The test application will list the server host on the output, like the following:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">html</span>&gt;&lt;<span style="color:#f92672">body</span>&gt;&lt;<span style="color:#f92672">pre</span>&gt;
</span></span><span style="display:flex;"><span>*****************************************************************
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Hello World! This is version &#39;v1&#39; of the sample JSP web-app.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Welcome to WebLogic Server &#39;managed-server1&#39;!
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  domain UID  = &#39;domain1&#39;
</span></span><span style="display:flex;"><span>  domain name = &#39;domain1&#39;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Found 1 local cluster runtime:
</span></span><span style="display:flex;"><span>  Cluster &#39;cluster-1&#39;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Found min threads constraint runtime named &#39;SampleMinThreads&#39; with configured count: 1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Found max threads constraint runtime named &#39;SampleMaxThreads&#39; with configured count: 10
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Found 0 local data sources:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>*****************************************************************
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">pre</span>&gt;&lt;/<span style="color:#f92672">body</span>&gt;&lt;/<span style="color:#f92672">html</span>&gt;
</span></span></code></pre></div><h3 id="validate-nfs-volume">Validate NFS volume</h3>
<p>There are several approaches to validate the NFS volume:</p>
<ul>
<li>Use Azure Storage browser. Make sure you have permission to access the NFS server, see <a href="https://docs.microsoft.com/en-us/azure/storage/common/storage-network-security?tabs=azure-portal">Azure Storage firewalls and virtual networks document</a></li>
<li>Mount the same NFS share in an existing virtual machine from Azure. Access files from the mounted path, see <a href="https://docs.microsoft.com/en-us/azure/storage/files/storage-files-how-to-mount-nfs-shares">Mount Azure NFS file share to Linux</a>.</li>
</ul>
<p>Use <code>kubectl exec</code> to enter the admin server pod to check file system status:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>kubectl exec -it domain1-admin-server -- df -h
</span></span></code></pre></div><p>You will find output like the following, with filesystem <code>${AKS_PERS_STORAGE_ACCOUNT_NAME}.file.core.windows.net:/${AKS_PERS_STORAGE_ACCOUNT_NAME}/${AKS_PERS_SHARE_NAME}</code>, size <code>100G</code>, and mounted on <code>/shared</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Filesystem                                                                                Size  Used Avail Use% Mounted on
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>wlsstorage1612795811.file.core.windows.net:/wlsstorage1612795811/wls-weblogic-1612795811  100G   76M  100G   1% /shared
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><h3 id="clean-up-resources">Clean up resources</h3>

<p>If you used the automation script, the output from the <code>create-domain-on-aks.sh</code> script includes a statement about the Azure resources created by the script. To delete the cluster and free all related resources, simply delete the resource groups. The output will list the resource groups, such as:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>The following Azure Resources have been created:
</span></span><span style="display:flex;"><span>  Resource groups: wlsresourcegroup6091605169, MC_wlsresourcegroup6091605169_wlsakscluster6091605169_eastus
</span></span></code></pre></div><p>Given the above output, the following Azure CLI commands will delete the resource groups.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ az group delete --yes --no-wait --name wlsresourcegroup6091605169
</span></span></code></pre></div>

<p>If you created the AKS cluster step by step, run the following command to clean up resources.</p>

<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ az group delete --yes --no-wait --name $AKS_PERS_RESOURCE_GROUP
</span></span></code></pre></div>

<h3 id="troubleshooting">Troubleshooting</h3>
<p>For troubleshooting advice, see <a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/azure-kubernetes-service/troubleshooting/">Troubleshooting</a>.</p>
<h3 id="useful-links">Useful links</h3>
<ul>
<li><a href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/domains/domain-home-on-pv/">Domain on a PV</a> sample</li>
</ul>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/azure-kubernetes-service/" title="Azure Kubernetes Service"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="https://oracle.github.io/weblogic-kubernetes-operator/4.2/samples/azure-kubernetes-service/model-in-image/" title="Model in Image" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/4.2/js/clipboard.min.js?1760498936"></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/4.2/js/perfect-scrollbar.min.js?1760498936"></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/4.2/js/perfect-scrollbar.jquery.min.js?1760498936"></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/4.2/js/jquery.sticky.js?1760498936"></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/4.2/js/featherlight.min.js?1760498936"></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/4.2/js/highlight.pack.js?1760498936"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/4.2/js/modernizr.custom-3.6.0.js?1760498936"></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/4.2/js/learn.js?1760498936"></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/4.2/js/hugo-learn.js?1760498936"></script>
    
        
            <script src="https://oracle.github.io/weblogic-kubernetes-operator/4.2/mermaid/mermaid.js?1760498936"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

