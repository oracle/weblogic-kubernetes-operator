<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.153.0">
    <meta name="generator" content="Relearn 8.3.0">
    <meta name="description" content="Create custom WebLogic images using the WebLogic Image Tool (WIT) with specified patches and/or JDK version.">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Create custom images :: WebLogic Kubernetes Operator">
    <meta name="twitter:description" content="Create custom WebLogic images using the WebLogic Image Tool (WIT) with specified patches and/or JDK version.">
    <meta property="og:url" content="https://oracle.github.io/weblogic-kubernetes-operator/base-images/custom-images/index.html">
    <meta property="og:site_name" content="WebLogic Kubernetes Operator">
    <meta property="og:title" content="Create custom images :: WebLogic Kubernetes Operator">
    <meta property="og:description" content="Create custom WebLogic images using the WebLogic Image Tool (WIT) with specified patches and/or JDK version.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="WebLogic images">
    <meta property="article:published_time" content="2019-02-23T16:45:55-05:00">
    <meta property="article:modified_time" content="2019-02-23T16:45:55-05:00">
    <meta itemprop="name" content="Create custom images :: WebLogic Kubernetes Operator">
    <meta itemprop="description" content="Create custom WebLogic images using the WebLogic Image Tool (WIT) with specified patches and/or JDK version.">
    <meta itemprop="datePublished" content="2019-02-23T16:45:55-05:00">
    <meta itemprop="dateModified" content="2019-02-23T16:45:55-05:00">
    <meta itemprop="wordCount" content="3130">
    <title>Create custom images :: WebLogic Kubernetes Operator</title>
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/images/logo.png?1768275974" rel="icon" type="image/png">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/css/auto-complete/auto-complete.min.css?1768275974" rel="stylesheet">
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/auto-complete/auto-complete.min.js?1768275974" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/search-lunr.min.js?1768275974" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/search.min.js?1768275974" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="https://oracle.github.io/weblogic-kubernetes-operator/searchindex.en.js?1768275974";
    </script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/lunr/lunr.min.js?1768275974" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/lunr/lunr.stemmer.support.min.js?1768275974" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/lunr/lunr.multi.min.js?1768275974" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/lunr/lunr.en.min.js?1768275974" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/fonts/fontawesome/css/fontawesome-all.min.css?1768275974" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://oracle.github.io/weblogic-kubernetes-operator/fonts/fontawesome/css/fontawesome-all.min.css?1768275974" rel="stylesheet"></noscript>
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/css/perfect-scrollbar/perfect-scrollbar.min.css?1768275974" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/css/theme.min.css?1768275974" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/css/format-html.min.css?1768275974" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/base-images\/custom-images\/index.html';
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..';
      window.relearn.absBaseUri='https:\/\/oracle.github.io\/weblogic-kubernetes-operator';
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy text to clipboard`;
      window.T_Copied_to_clipboard = `Text copied to clipboard!`;
      window.T_Link_copied_to_clipboard = `Link copied to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      window.T_Browser_unsupported_feature = `This browser doesn't support this feature`;
      // variant stuff
      window.relearn.themevariants = [ 'learn' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
  </head>
  <body class="mobile-support html" data-url="https://oracle.github.io/weblogic-kubernetes-operator/base-images/custom-images/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button></span>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#use-the-weblogic-image-tool-to-create-custom-images">Use the WebLogic Image Tool to create custom images</a></li>
    <li><a href="#create-a-custom-image-with-patches-applied">Create a custom image with patches applied</a>
      <ul>
        <li><a href="#create-a-custom-base-image">Create a custom base image</a></li>
        <li><a href="#create-a-custom-image-with-your-domain-inside-the-image">Create a custom image with your domain inside the image</a></li>
        <li><a href="#create-a-custom-image-with-your-model-inside-the-image">Create a custom image with your model inside the image</a></li>
      </ul>
    </li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="https://oracle.github.io/weblogic-kubernetes-operator/index.html"><span itemprop="name">WebLogic Kubernetes Operator</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="https://oracle.github.io/weblogic-kubernetes-operator/base-images/index.html"><span itemprop="name">WebLogic images</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">Create custom images</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="https://oracle.github.io/weblogic-kubernetes-operator/base-images/ocr-images/index.html" title="OCR images (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="https://oracle.github.io/weblogic-kubernetes-operator/base-images/patch-images/index.html" title="Patch running domains (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable base-images" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>



<h1 id="create-custom-images">Create custom images</h1>



<h3 id="contents">Contents</h3>
<div class="toc"><nav id="TableOfContents">
  <ul>
    <li><a href="#use-the-weblogic-image-tool-to-create-custom-images">Use the WebLogic Image Tool to create custom images</a></li>
    <li><a href="#create-a-custom-image-with-patches-applied">Create a custom image with patches applied</a>
      <ul>
        <li><a href="#create-a-custom-base-image">Create a custom base image</a></li>
        <li><a href="#create-a-custom-image-with-your-domain-inside-the-image">Create a custom image with your domain inside the image</a></li>
        <li><a href="#create-a-custom-image-with-your-model-inside-the-image">Create a custom image with your model inside the image</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
<h3 id="use-the-weblogic-image-tool-to-create-custom-images">Use the WebLogic Image Tool to create custom images<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>You can use the 

<a href="https://oracle.github.io/weblogic-image-tool/"
   
   
target="_blank" rel="noopener noreferrer"
>
WebLogic Image Tool
</a>
 (WIT) to build your own WebLogic Server or
Fusion Middleware Infrastructure images (with the latest Oracle Linux images, Java updates, and WebLogic Server patches),
apply one-off patches to existing OCR images, or overlay your own files and applications on top of an OCR image.</p>
<p>Download and install the WebLogic Image Tool (WIT) following the
WIT 

<a href="https://oracle.github.io/weblogic-image-tool/userguide/setup/"
   
   
target="_blank" rel="noopener noreferrer"
>
Setup
</a>
 instructions.
Also, refer to the WIT 

<a href="https://oracle.github.io/weblogic-image-tool/quickstart/quickstart/"
   
   
target="_blank" rel="noopener noreferrer"
>
Quick Start
</a>
 Guide. The
samples in this document assume that you have installed WIT in <code>/tmp/imagetool</code>; you can choose to install it in any location.</p>
<p>The WebLogic Image Tool <code>create</code>, <code>update</code>, or <code>rebase</code> commands supply
three different ways to generate a custom WebLogic Server installation image
from a base OS image (optionally, with WebLogic patches). In addition, the WIT <code>createAuxImage</code> command
supports creating auxiliary images which
do <em>not</em> contain a WebLogic Server installation,
and instead, solely contain the 

<a href="https://oracle.github.io/weblogic-deploy-tooling/"
   
   
target="_blank" rel="noopener noreferrer"
>
WebLogic Deploy Tooling
</a>
 (WDT) installation and model files;
this option is designed for the Model in Image 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/choosing-a-model/"
   
   >
domain home source type
</a>
.</p>
<p>Finally, you can use the WIT <code>inspect</code> command to 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/base-images/ocr-images/#inspect-images"
   
   >
inspect images
</a>
.</p>
<p>In detail:</p>
<ul>
<li>
<p>WIT 

<a href="https://oracle.github.io/weblogic-image-tool/userguide/tools/create-image/"
   
   
target="_blank" rel="noopener noreferrer"
>
<code>create</code>
</a>
 command:</p>
<ul>
<li>Creates a new WebLogic image from a base OS image.</li>
<li>Can be used for all 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/choosing-a-model/"
   
   >
domain home source types
</a>
 (Domain in Image, Model in Image, and Domain on PV).</li>
<li>Optionally, includes a WebLogic Deploy Tooling (WDT) 

<a href="https://oracle.github.io/weblogic-deploy-tooling/userguide/install/"
   
   
target="_blank" rel="noopener noreferrer"
>
installation
</a>
 and model files in the image
(for Model in Image domains).
See also, 

<a href="#create-a-custom-image-with-your-model-inside-the-image"
   
   >
Create a custom image with your model inside the image
</a>
.</li>
<li>Optionally, generates a domain home in the image using WLST or WDT
(for Domain in Image domains).
See also, 

<a href="#create-a-custom-image-with-your-domain-inside-the-image"
   
   >
Create a custom image with your domain inside the image
</a>
.</li>
<li><em>Important</em>:
<ul>
<li>The <code>create</code> command is <em>not</em> suitable for updating an existing domain home
in existing Domain in Image images
when the update is intended for a running domain. Use <code>rebase</code> instead
or shut down the running domain entirely before applying the new image.
For more information, see 

<a href="#create-a-custom-image-with-your-domain-inside-the-image"
   
   >
Create a custom image with your domain inside the image
</a>
.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>WIT 

<a href="https://oracle.github.io/weblogic-image-tool/userguide/tools/rebase-image/"
   
   
target="_blank" rel="noopener noreferrer"
>
<code>rebase</code>
</a>
 command:</p>
<ul>
<li>
<p>The <code>rebase</code> command is used for Domain in Image
domains.</p>
<ul>
<li>Creates a new WebLogic image and copies an existing WebLogic domain home
from an older image to the new image.</li>
<li>The created image is suitable for deploying to an already running
domain with an older version of the domain home.</li>
</ul>
</li>
<li>
<p>The new image can be created in one of two ways:</p>
<ul>
<li>As a layer on an existing
WebLogic image in the repository
that doesn&rsquo;t already have a domain home, such as an updated CPU image from OCR.</li>
<li>Or, as a new WebLogic image from a base OS image. <strong>NOTE</strong>:  Oracle strongly recommends rebasing your
images with the latest security patches by applying the 

<a href="https://oracle.github.io/weblogic-image-tool/userguide/tools/rebase-image/"
   
   
target="_blank" rel="noopener noreferrer"
>
<code>--recommendedPatches</code>
</a>
 option.</li>
<li>For more information, see 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/base-images/patch-images/#domain-in-image"
   
   >
Apply patched images to a running domain
</a>
.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>WIT 

<a href="https://oracle.github.io/weblogic-image-tool/userguide/tools/update-image/"
   
   
target="_blank" rel="noopener noreferrer"
>
<code>update</code>
</a>
 command:</p>
<ul>
<li>Creates a new WebLogic image layered on
an existing WebLogic image (specified in the WIT <code>--fromImage</code> parameter).
<ul>
<li>Note that if you specify the <code>--pull</code> parameter for WIT,
and the <code>--fromImage</code> parameter refers to an image in a repository,
and the repository image is newer than the locally cached version of the image,
then the command will download the repository image
to the local Docker cache and use it
instead of using the outdated local image.</li>
</ul>
</li>
<li>Optionally, generates a domain home in the new image using WDT or WLST
(for Domain in Image domains).</li>
<li>Optionally, includes a WDT installation and model files in the image
(for Model in Image domains).</li>
<li><em>Important</em>:
<ul>
<li><strong>NOTE</strong>: Patching an Oracle Home using the WIT <code>update</code>
command results in a larger WebLogic Server image
due to the immutable layering in container images. For small updates, such as a one-off patch,
the increase in the image size may be negligible. However, for larger updates, the increase in size will be <em>significant</em>.
Consider using <code>rebase</code> or <code>create</code> to reduce the size impact of applying patches.</li>
<li>The WIT <code>update</code> command is not suitable for updating an existing domain home in
an existing Domain in Image image
when the update is intended for a running domain.
Use the WIT <code>rebase</code> command instead
or shut down the running domain entirely before applying the new image.
For more information, see 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/base-images/patch-images/#apply-patched-images-to-a-running-domain"
   
   >
Apply patched images to a running domain
</a>
.</li>
<li>Optionally, includes a WDT installation and model files in the image (for Model in Image domains).</li>
</ul>
</li>
</ul>
</li>
<li>
<p>WIT 

<a href="https://oracle.github.io/weblogic-image-tool/userguide/tools/create-aux-image/"
   
   
target="_blank" rel="noopener noreferrer"
>
<code>createAuxImage</code>
</a>
 command:</p>
<ul>
<li>Supports creating auxiliary images for Model in Image domains only.</li>
<li>The auxiliary images
solely contain WebLogic Deploy Tooling files for the Model in Image use case
and are used in addition to the
domain resource image that contains your WebLogic and Java installations.</li>
<li>For more information, see 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/model-in-image/auxiliary-images/"
   
   >
Auxiliary images
</a>
.</li>
</ul>
</li>
<li>
<p>WIT 

<a href="https://oracle.github.io/weblogic-image-tool/userguide/tools/inspect-image/"
   
   
target="_blank" rel="noopener noreferrer"
>
<code>inspect</code>
</a>
 command:</p>
<ul>
<li>Inspects images created with the WebLogic Image Tool.</li>
<li>See 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/base-images/ocr-images/#inspect-images"
   
   >
Inspect images
</a>
.</li>
</ul>
</li>
</ul>
<h3 id="create-a-custom-image-with-patches-applied">Create a custom image with patches applied<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>All domain home source types require a base image which contains JDK and WebLogic Server binaries.
This base image is usually 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/base-images/ocr-images/#obtain-images-from-the-oracle-container-registry"
   
   >
obtained directly
</a>
 from the Oracle Container Registry,
but, as needed, you can also 

<a href="#create-a-custom-base-image"
   
   >
create your own custom base image
</a>
.</p>
<p>If you are using the Domain in Image domain home source type,
then you will additionally need to use the base image
to 

<a href="#create-a-custom-image-with-your-domain-inside-the-image"
   
   >
create a custom image with your domain inside the image
</a>
.</p>
<p>Or, if you are using the Model in Image domain home source type <em>without</em> auxiliary images,
then you will additionally need to use the base image
to 

<a href="#create-a-custom-image-with-your-model-inside-the-image"
   
   >
create a custom image with your model inside the image
</a>
.</p>
<h4 id="create-a-custom-base-image">Create a custom base image<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>

<details open class="box cstyle notices tip">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-lightbulb"></i> 
    Tip
  </summary>
  <div class="box-content">
<p>This section describes using the WebLogic Image Tool (WIT) 

<a href="https://oracle.github.io/weblogic-image-tool/userguide/tools/create-image/"
   
   
target="_blank" rel="noopener noreferrer"
>
<code>create</code>
</a>
 command
to build a custom base WebLogic Server image.
This is sometimes necessary to build an image with a specific patch, and such,
but most use cases can instead, obtain pre-built
patched images directly from the Oracle Container Registry.
See


<a href="https://oracle.github.io/weblogic-kubernetes-operator/base-images/ocr-images/#obtain-images-from-the-oracle-container-registry"
   
   >
Obtain images from the Oracle Container Registry
</a>
.</p>
  </div>
</details>
<p>Here&rsquo;s an example of using the WIT 

<a href="https://oracle.github.io/weblogic-image-tool/userguide/tools/create-image/"
   
   
target="_blank" rel="noopener noreferrer"
>
create
</a>

command to create a base WebLogic Server image
from a base Oracle Linux image, a WebLogic installer download, and a JRE installer download:</p>
<ol>
<li>
<p>First, 

<a href="https://oracle.github.io/weblogic-image-tool/userguide/setup/"
   
   
target="_blank" rel="noopener noreferrer"
>
install
</a>
 the WebLogic Image Tool. This
sample assumes that you have installed WIT in <code>/tmp/imagetool</code>; you can choose to install it in any location.</p>
</li>
<li>
<p>Download your desired JRE installer from the Oracle Technology Network 

<a href="https://www.oracle.com/java/technologies/downloads/"
   
   
target="_blank" rel="noopener noreferrer"
>
Java downloads
</a>
 page or from the 

<a href="https://edelivery.oracle.com/osdc/faces/Home.jspx"
   
   
target="_blank" rel="noopener noreferrer"
>
Oracle Software Delivery Cloud
</a>
 (OSDC).</p>
</li>
<li>
<p>Download your desired WebLogic Server installer from the Oracle Technology Network 

<a href="https://www.oracle.com/middleware/technologies/weblogic-server-installers-downloads.html"
   
   
target="_blank" rel="noopener noreferrer"
>
WebLogic Server installers
</a>
 page or from the 

<a href="https://edelivery.oracle.com/osdc/faces/Home.jspx"
   
   
target="_blank" rel="noopener noreferrer"
>
Oracle Software Delivery Cloud
</a>
 (OSDC).</p>
<p><strong>NOTE</strong>: The WebLogic Server installers will not be fully patched.
In a subsequent step, you&rsquo;ll use
the WIT <code>--patches</code> or <code>--recommendedPatches</code> options
to apply one-off and recommended Oracle patches.</p>
</li>
<li>
<p>Add the installers to your WIT cache using the


<a href="https://oracle.github.io/weblogic-image-tool/userguide/tools/cache/"
   
   
target="_blank" rel="noopener noreferrer"
>
<code>cache</code>
</a>
 command.
For example, assuming you downloaded the installers to the <code>/home/acmeuser/wls-installers</code> directory:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ /tmp/imagetool/bin/imagetool.sh cache addInstaller <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --type<span style="color:#f92672">=</span>jdk <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --version<span style="color:#f92672">=</span>8u291 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --path<span style="color:#f92672">=</span>/home/acmeuser/wls-installers/jre-8u291-linux-x64.tar.gz</span></span></code></pre></div>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ /tmp/imagetool/bin/imagetool.sh cache addInstaller <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --type<span style="color:#f92672">=</span>wls <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --version<span style="color:#f92672">=</span>12.2.1.4.0 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --path<span style="color:#f92672">=</span>/home/acmeuser/wls-installers/fmw_12.2.1.4.0_wls_Disk1_1of1.zip</span></span></code></pre></div>
<p>For details, see the WIT 

<a href="https://oracle.github.io/weblogic-image-tool/quickstart/quickstart/"
   
   
target="_blank" rel="noopener noreferrer"
>
Quick Start
</a>
 guide.</p>
</li>
<li>
<p>Use the 

<a href="https://oracle.github.io/weblogic-image-tool/userguide/tools/create-image/"
   
   
target="_blank" rel="noopener noreferrer"
>
<code>create</code>
</a>
 command
to build the image using a default Oracle Linux image as its base, and download and apply the patches.</p>
<p>For example, use the following command to create a WebLogic Server image
named <code>latest_weblogic:12.2.1.4</code> with:</p>
<ul>
<li>The WebLogic Server 12.2.1.4.0 generic installer</li>
<li>JDK 8u291</li>
<li>The latest version of the Oracle Linux 7 slim container image</li>
<li>The latest quarterly Patch Set Update (PSU), which include security fixes, or with one-off patches</li>
</ul>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ /tmp/imagetool/bin/imagetool.sh create <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --tag latest_weblogic:12.2.1.4 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --pull <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --jdkVersion<span style="color:#f92672">=</span>8u291 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --type<span style="color:#f92672">=</span>wls <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --version<span style="color:#f92672">=</span>12.2.1.4.0 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --recommendedPatches <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --user myusername@mycompany.com <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --passwordEnv<span style="color:#f92672">=</span>MYPWD</span></span></code></pre></div>
</li>
</ol>

<details open class="box cstyle notices note">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-circle"></i> 
    Note
  </summary>
  <div class="box-content">
<p>As of June, 2023, Oracle WebLogic Server 12.2.1.3 is no longer supported. The last Critical Patch Updates (CPU) images for WebLogic Server 12.2.1.3 were published in April, 2023. As of December, 2022, Fusion Middleware 12.2.1.3 is no longer supported.  The last CPU images for FMW Infrastructure 12.2.1.3 were published in October, 2022.</p>
  </div>
</details>
<p><strong>NOTES</strong>:</p>
<ul>
<li>To enable WIT to download patches,
you must supply your My Oracle Support (Oracle Single Sign-On) credentials
using the <code>--user</code> and <code>--passwordEnv</code> parameters (or one of the other password CLA options).
This example assumes that you have set the <code>MYPWD</code>
shell environment variable so that it contains your password.</li>
<li>The <code>--type</code> parameter designates the Oracle product installation, such as WebLogic Server,
Fusion Middleware (FMW) Infrastructure, and such,
to include in the generated image. For example,
the <code>wls</code> type corresponds to the WebLogic Server (WLS) generic installation,
the <code>wlsslim</code> type to the WLS slim installation,
and the <code>wlsdev</code> type to the WLS developer installation.
For a description of each installation type, see


<a href="https://oracle.github.io/weblogic-kubernetes-operator/base-images/ocr-images/#weblogic-distribution-installer-type"
   
   >
WebLogic distribution installer type
</a>
.</li>
<li>The <code>--recommendedPatches</code> parameter finds and applies the latest PatchSet Update (PSU)
and recommended patches for each of the products included in the installer. For example, for WebLogic Server, the recommended patches for Coherence and TopLink are included.</li>
<li>These sample commands use a default base image, which is an Oracle Linux OS image,
and downloads (pulls) this image only if it is not already cached locally.
You can use <code>docker images</code> to view your image cache.</li>
<li>The <code>--pull</code> parameter for WIT is passed to the container build engine which forces a check to the remote repository,
if applicable, prior to the build execution of the new image to update any image used during the build (updates dependencies).</li>
<li>For details about each parameter, see the WebLogic Image Tool 

<a href="https://oracle.github.io/weblogic-image-tool/userguide/tools/"
   
   
target="_blank" rel="noopener noreferrer"
>
User Guide
</a>
.</li>
</ul>
<ol>
<li>
<p>After the tool creates the image, verify that the image is in your local repository:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ docker images</span></span></code></pre></div>
<p>You can also 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/base-images/ocr-images/#inspect-images"
   
   >
inspect
</a>
 the contents of the image.</p>
</li>
</ol>
<h4 id="create-a-custom-image-with-your-domain-inside-the-image">Create a custom image with your domain inside the image<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>

<details open class="box cstyle notices warning">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-triangle"></i> 
    Warning
  </summary>
  <div class="box-content">
<p>Oracle strongly recommends storing Domain in Image images in a private registry.
A container image that contains a WebLogic domain home has sensitive information
including credentials that are used to access external resources
(for example, a data source password),
and decryption keys
(for example, the <code>DOMAIN_HOME/security/SerializedSystemIni.dat</code> domain secret file).
For more information,
see 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/security/domain-security/image-protection/"
   
   >
Container image protection
</a>
.</p>
  </div>
</details>

<details open class="box cstyle notices warning">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-triangle"></i> 
    Warning
  </summary>
  <div class="box-content">
<p>The sample scripts in this section reference base image
<code>container-registry.oracle.com/middleware/weblogic:14.1.2.0-generic-jdk17-ol8</code>.
This is an OCR General Availability (GA) image
which <strong>does not include</strong> the latest security patches for WebLogic Server.
GA images are intended for single desktop demonstration and development purposes <em>only</em>.
For all other purposes, Oracle strongly recommends using only images with the latest set of recommended patches applied,
such as OCR Critical Patch Updates (CPU) images or custom generated images.
See 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/base-images/ocr-images/#ensure-you-are-using-recently-patched-images"
   
   >
Ensure you are using recently patched images
</a>
.</p>
  </div>
</details>
<p>This section provides guidance for creating a new Domain in Image image.
This type of image cannot be used in pods that must join the pods in
an already running domain. If you need to create a Domain in Image
image that is meant for updating an already running domain, then see


<a href="https://oracle.github.io/weblogic-kubernetes-operator/base-images/patch-images/#apply-patched-images-to-a-running-domain"
   
   >
Apply patched images to a running domain
</a>
.</p>
<p><strong>NOTE</strong>: The Domain in Image 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/choosing-a-model/"
   
   >
domain home source type
</a>
 is
deprecated in WebLogic Kubernetes Operator version 4.0. Oracle recommends that you choose either Domain on PV or Model in Image, depending on your needs.</p>
<p>You should use an image with the recommended security patches installed as this base image,
where this image could be an OCR image or a custom image.
See


<a href="https://oracle.github.io/weblogic-kubernetes-operator/base-images/ocr-images/#obtain-images-from-the-oracle-container-registry"
   
   >
Obtain images from the Oracle Container Registry
</a>

and


<a href="#create-a-custom-image-with-patches-applied"
   
   >
Create a custom image with patches applied
</a>
.</p>
<p>The samples perform multiple steps for you
using a single provided script
and are not intended for production use.
To help understand the individual steps,
use the following step-by-step guidance
for using WLST or WDT
to create the domain home in Domain in Image.</p>
<ul>
<li>
<p>Domain in Image using WDT:</p>
<p>Here we explore a step-by-step approach for Domain in Image
using WebLogic Deploy Tooling models to create the domain home.
These steps stage files to <code>/tmp/dii-wdt-stage</code>,
assume the operator source is in <code>/tmp/weblogic-kubernetes-operator</code>,
assume you have installed WIT in <code>/tmp/imagetool</code>,
and generate a Domain in Image image named <code>my-dii-wdt:v1</code>.</p>

<details class="box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Click here to view the script.
  </summary>
  <div class="box-content">
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>#!/bin/bash

set -eux

# Define paths for:
# - the operator source (assumed to already be downloaded)
# - the WIT installation (assumed to already be installed)
# - a staging directory for the image build

srcDir=/tmp/weblogic-kubernetes-operator
imageToolBin=/tmp/imagetool/bin
stageDir=/tmp/dii-wdt-stage

# Define location of the domain home within the image

domainHome=/u01/oracle/user_projects/domains/dii-wdt

# Define base image and final image

fromImage=container-registry.oracle.com/middleware/weblogic:14.1.2.0-generic-jdk17-ol8
finalImage=my-dii-wdt:v1

# Init staging directory

[ -e &#34;$stageDir&#34; ] &amp;&amp; echo &#34;Error: stage dir &#39;$stagedir&#39; already exists.&#34; &amp;&amp; exit 1
mkdir -p $stageDir

# Copy sample model file to the stage directory

cp $srcDir/kubernetes/samples/scripts/create-weblogic-domain/domain-home-in-image/wdt/wdt_model_dynamic.yaml $stageDir

# Create a set of properties that are referenced by the model file

cat &lt;&lt; EOF &gt; $stageDir/domain.properties
DOMAIN_NAME=dii-wdt
SSL_ENABLED=false
ADMIN_PORT=7001
ADMIN_SERVER_SSL_PORT=7002
ADMIN_NAME=admin-server
ADMIN_HOST=wlsadmin
ADMIN_USER_NAME=weblogic1
ADMIN_USER_PASS=mypassword1
MANAGED_SERVER_PORT=8001
MANAGED_SERVER_SSL_PORT=8002
MANAGED_SERVER_NAME_BASE=managed-server
CONFIGURED_MANAGED_SERVER_COUNT=5
CLUSTER_NAME=cluster-1
DEBUG_PORT=8453
DB_PORT=1527
DEBUG_FLAG=true
PRODUCTION_MODE_ENABLED=true
CLUSTER_TYPE=DYNAMIC
JAVA_OPTIONS=-Dweblogic.StdoutDebugEnabled=false
T3_CHANNEL_PORT=30012
T3_PUBLIC_ADDRESS=
EOF

# Download WDT and add a reference in the WIT cache

curl -m 120 \
  -fL https://github.com/oracle/weblogic-deploy-tooling/releases/latest/download/weblogic-deploy.zip \
  -o $stageDir/weblogic-deploy.zip

$imageToolBin/imagetool.sh \
  cache deleteEntry --key wdt_latest

$imageToolBin/imagetool.sh \
  cache addInstaller \
  --type wdt \
  --version latest \
  --path $stageDir/weblogic-deploy.zip

# Create the image
# (this will run the latest version of the WIT tool during image creation
#  to create the domain home from the provided model files)

$imageToolBin/imagetool.sh update \
  --fromImage &#34;$fromImage&#34; \
  --tag &#34;$finalImage&#34; \
  --wdtModel &#34;$stageDir/wdt_model_dynamic.yaml&#34; \
  --wdtVariables &#34;$stageDir/domain.properties&#34; \
  --wdtOperation CREATE \
  --wdtVersion LATEST \
  --wdtDomainHome &#34;$domainHome&#34; \
  --chown=oracle:root</code></pre></div>
  </div>
</details>
</li>
<li>
<p>Domain in Image using WLST:</p>
<p>Here is a step-by-step approach for Domain in Image
images using WLST. These steps stage files to <code>dii-wlst-stage</code>,
put the domain home inside the image at <code>/u01/oracle/user_projects/domains/dii-wlst</code>,
assume the operator source is in <code>/tmp/weblogic-kubernetes-operator</code>,
assume you have installed WIT in <code>/tmp/imagetool</code>,
and name the final image <code>my-dii-wlst:v1</code>.</p>

<details class="box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Click here to view the script.
  </summary>
  <div class="box-content">
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>#!/bin/bash

set -eux

# Define paths for:
# - the operator source (assumed to already be downloaded)
# - the WIT installation (assumed to already be installed)
# - a staging directory for the image build

srcDir=/tmp/weblogic-kubernetes-operator
imageToolBin=/tmp/imagetool/bin
stageDir=/tmp/dii-wlst-stage

# Define location of the domain home within the image

domainHome=/u01/oracle/user_projects/domains/dii-wlst

# Define base image and final image

fromImage=container-registry.oracle.com/middleware/weblogic:14.1.2.0-generic-jdk17-ol8
finalImage=my-dii-wlst:v1

# Copy sample WLST, Docker commands, and setup scripts
# to the staging directory and modify to point to the domain home

[ -e &#34;$stageDir&#34; ] &amp;&amp; echo &#34;Error: stage dir &#39;$stagedir&#39; already exists.&#34; &amp;&amp; exit 1
mkdir -p $stageDir

sampleDir=$srcDir/kubernetes/samples/scripts/create-weblogic-domain/domain-home-in-image
cp $sampleDir/wlst/additional-build-commands-template $stageDir/additional-build-commands
sed -i -e &#34;s:%DOMAIN_HOME%:$domainHome:g&#34; $stageDir/additional-build-commands
cp $sampleDir/wlst/createWLSDomain.sh $stageDir
cp $sampleDir/wlst/create-wls-domain.py $stageDir

# Create a set of properties to pass to the create-wls-domain.py WLST script

cat &lt;&lt; EOF &gt; $stageDir/domain.properties
DOMAIN_NAME=dii-wlst
DOMAIN_HOME=$domainHome
SSL_ENABLED=false
ADMIN_PORT=7001
ADMIN_SERVER_SSL_PORT=7002
ADMIN_NAME=admin-server
ADMIN_HOST=wlsadmin
ADMIN_USER_NAME=weblogic1
ADMIN_USER_PASS=mypassword1
MANAGED_SERVER_PORT=8001
MANAGED_SERVER_SSL_PORT=8002
MANAGED_SERVER_NAME_BASE=managed-server
CONFIGURED_MANAGED_SERVER_COUNT=5
CLUSTER_NAME=cluster-1
DEBUG_PORT=8453
DB_PORT=1527
PRODUCTION_MODE_ENABLED=true
CLUSTER_TYPE=DYNAMIC
JAVA_OPTIONS=-Dweblogic.StdoutDebugEnabled=false
T3_CHANNEL_PORT=30012
T3_PUBLIC_ADDRESS=
EOF

# Create the image
# Notes:
# - This will run the provided WLST during image creation to create the domain home.
# - The wdt parameters are required, but ignored.
$imageToolBin/imagetool.sh update \
  --fromImage &#34;$fromImage&#34; \
  --tag &#34;$finalImage&#34;      \
  --wdtOperation CREATE    \
  --wdtVersion LATEST      \
  --wdtDomainHome &#34;$domainHome&#34;  \
  --additionalBuildCommands $stageDir/additional-build-commands \
  --additionalBuildFiles &#34;$stageDir/createWLSDomain.sh,$stageDir/create-wls-domain.py,$stageDir/domain.properties&#34; \
  --chown=oracle:root</code></pre></div>
  </div>
</details>
</li>
</ul>
<p><strong>NOTES</strong>:</p>
<ul>
<li>The sample script and its <code>domain.properties</code> file include a sample WebLogic administration password.
These files must be protected and the sample password must be changed.</li>
<li>The sample scripts, sample properties,
the files provided in <code>--additionalBuildCommands</code> and <code>--additionalBuildFiles</code> parameters for the WLST approach,
or the sample WDT model files provided in the WDT approach,
are <em>not</em> intended for production use.
These files can all change substantially in new versions of the operator
and must all be copied, preserved, and customized to suite your particular use case.</li>
</ul>
<h4 id="create-a-custom-image-with-your-model-inside-the-image">Create a custom image with your model inside the image<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<p><strong>NOTE</strong>: Model in Image without auxiliary images (the WDT model and installation files are included in the same image with the WebLogic Server installation) is deprecated in WebLogic Kubernetes Operator version 4.0.7. Oracle recommends that you use Model in Image <em>with</em> auxiliary images. See 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/model-in-image/auxiliary-images/"
   
   >
Auxiliary images
</a>
.</p>

<details open class="box cstyle notices warning">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-triangle"></i> 
    Warning
  </summary>
  <div class="box-content">
<p>The example in this section references a base image,
<code>container-registry.oracle.com/middleware/weblogic:14.1.2.0-generic-jdk17-ol8</code>.
This is an OCR General Availability (GA) image
which <strong>does not include</strong> the latest security patches for WebLogic Server.
GA images are intended for single desktop demonstration and development purposes <em>only</em>.
For all other purposes, Oracle strongly recommends using only images with the latest set of recommended patches applied,
such as OCR Critical Patch Updates (CPU) images or custom generated images.
See 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/base-images/ocr-images/#ensure-you-are-using-recently-patched-images"
   
   >
Ensure you are using recently patched images
</a>
.</p>
  </div>
</details>
<p>Example steps for creating a custom WebLogic image with a Model in Image file layer
(using files from the Model in Image sample):</p>
<ol>
<li>
<p>To gain an overall understanding of Model in Image domains,
read the 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/model-in-image/"
   
   >
Model in Image User Guide
</a>

and the 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/"
   
   >
Model in Image Sample
</a>
.
Note that the sample uses the recommended best approach,
auxiliary images, instead of the alternative approach, which is used in this example.</p>
</li>
<li>
<p>Follow the prerequisite steps in the


<a href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/prerequisites/"
   
   >
Model in Image Sample
</a>

that describe how to:</p>
<ul>
<li>Download the operator source and its Model in Image sample
(including copying the sample to the suggested location, <code>/tmp/sample</code>).</li>
<li>Download the latest 

<a href="https://github.com/oracle/weblogic-deploy-tooling/releases"
   
   
target="_blank" rel="noopener noreferrer"
>
WebLogic Deploy Tooling
</a>
 (WDT)
and 

<a href="https://github.com/oracle/weblogic-image-tool/releases"
   
   
target="_blank" rel="noopener noreferrer"
>
WebLogic Image Tool
</a>
 (WIT) installer ZIP files
to your <code>/tmp/sample/wdt-artifacts</code> directory.
Both WDT and WIT are required to create your Model in Image container images.</li>
<li>Install (unzip) the WebLogic Image Tool and configure its cache to reference your WebLogic Deploy Tooling download.</li>
</ul>
</li>
<li>
<p>Locate or create a base WebLogic image.</p>
<p>See 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/base-images/ocr-images/#obtain-images-from-the-oracle-container-registry"
   
   >
Obtain images from the Oracle Container Registry
</a>

or 

<a href="#create-a-custom-image-with-patches-applied"
   
   >
Create a custom image with patches applied
</a>
.</p>
<p>In the following step, you will use the <code>container-registry.oracle.com/middleware/weblogic:14.1.2.0-generic-jdk17-ol8</code> GA image.</p>
</li>
<li>
<p>Build the final image using WIT while specifying the base image, target image tag, WDT installation location,
and WDT model file locations. For example:</p>
<p>First, create a model ZIP file application archive and place it in the same directory
where the sample model YAML file and model properties files are already staged:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ rm -f /tmp/sample/wdt-artifacts/wdt-model-files/WLS-LEGACY-v1/archive.zip
</span></span><span style="display:flex;"><span>$ cd /tmp/sample/wdt-artifacts/archives/archive-v1
</span></span><span style="display:flex;"><span>$ zip -r /tmp/sample/wdt-artifacts/wdt-model-files/WLS-LEGACY-v1/archive.zip wlsdeploy</span></span></code></pre></div>
<p>(The <code>rm -f</code> command is included in case there&rsquo;s an
old version of the archive ZIP file from a
previous run of this sample.)</p>
<p>Second, run the following WIT command:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cd /tmp/sample/wdt-artifacts/wdt-model-files/WLS-LEGACY-v1</span></span></code></pre></div>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ ./imagetool/bin/imagetool.sh update <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --tag wdt-domain-image:WLS-LEGACY-v1 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --fromImage container-registry.oracle.com/middleware/weblogic:14.1.2.0-generic-jdk17-ol8 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --wdtModel      ./model.10.yaml <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --wdtVariables  ./model.10.properties <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --wdtArchive    ./archive.zip <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --wdtModelOnly <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --wdtDomainType WLS <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --chown oracle:root</span></span></code></pre></div>
<p><strong>NOTE</strong> that JRF support in Model in Image domains is deprecated in operator version 4.1.0; For JRF domains, use the 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/choosing-a-model/"
   
   >
Domain on PV
</a>
 domain home source type instead.</p>
</li>
<li>
<p>For an example Domain YAML file that sets up Model in Image to reference the image,
see <code>/tmp/sample/domain-resources/WLS-LEGACY/mii-initial-d1-WLS-LEGACY-v1.yaml</code></p>
<p><strong>NOTES</strong>:</p>
<ul>
<li>
<p>The default values for <code>domain.spec.configuration.model.wdtInstallHome</code> and <code>.modelHome</code>
reference the location of the WDT installation and model files that WIT copied into the image.</p>
</li>
<li>
<p>The domain type specified in <code>domain.spec.configuration.model.domainType</code>
must correspond with the <code>--wdtDomainType</code> specified on the WIT command line when creating the image.</p>
</li>
</ul>
</li>
</ol>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">


<a id="logo" href="https://oracle.github.io/weblogic-kubernetes-operator/">
  <img src="https://oracle.github.io/weblogic-kubernetes-operator//images/logo.png" height="90"><br/>
  WebLogic Kubernetes Operator
</a>

        </div>
        <search><form action="https://oracle.github.io/weblogic-kubernetes-operator/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks">
          <ul class="space collapsible-menu">
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/quickstart/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/quickstart/index.html"><b> </b>Quick Start</a><ul id="R-subsections-d63193e927818b6cb77d9c791ea48a61" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/introduction/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/introduction/index.html"><b> </b>Introduction</a><ul id="R-subsections-e1ed3a04f1f57a27be4a8d0eb274be18" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/index.html"><b> </b>Manage operators</a><ul id="R-subsections-7d4cf64999b86ce8197c0bc43769472c" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/index.html">Manage domains</a><ul id="R-subsections-45a55625d0c34b621eb1935c75fae249" class="collapsible-menu"></ul></li>
            <li class="parent " data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/base-images/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/base-images/index.html"><b> </b>WebLogic images</a><ul id="R-subsections-b3440c9f2ce961fe2579290479f05e53" class="collapsible-menu">
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/base-images/ocr-images/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/base-images/ocr-images/index.html">OCR images</a></li>
            <li class="active " data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/base-images/custom-images/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/base-images/custom-images/index.html">Create custom images</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/base-images/patch-images/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/base-images/patch-images/index.html">Patch running domains</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/base-images/access-images/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/base-images/access-images/index.html">Access domain images</a></li></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/index.html"><b> </b>Samples</a><ul id="R-subsections-88c2b1e6419b221ce89c4be4a8ae2a6b" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/developerguide/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/developerguide/index.html"><b> </b>Developer Guide</a><ul id="R-subsections-6d5a8d333894e1a8a4ced31c7a69170c" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/reference/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/reference/index.html"><b> </b>Reference</a><ul id="R-subsections-66002f201bef818664bb81aa67490c58" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/security/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/security/index.html"><b> </b>Security</a><ul id="R-subsections-66815ecaaecfc1c209e5637d03b258b2" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/faq/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/faq/index.html">Frequently asked questions</a><ul id="R-subsections-24e4fc446616bf2bbeac7b1dba804bb8" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/deprecated-functionality/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/deprecated-functionality/index.html">Deprecated functionality</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/known-limitations/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/known-limitations/index.html">Known limitations</a></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div id="R-footer-margin"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols">
          <ul class="">
          </ul>
        </div>
<div id="R-footer">

<p>Created with <i class="fas fa-heart"></i> from <a href="https://www.oracle.com">Oracle</a></p>
<p>&nbsp</p>
<p><a href="https://github.com/oracle/weblogic-kubernetes-operator"><i class="fab fa-github"></i> GitHub repo</a></p>
<p><a href="https://join.slack.com/t/oracle-weblogic/shared_invite/zt-1ni1gtjv6-PGC6CQ4uIte3KBdm_67~aQ"><i class="fab fa-slack"></i> Public Slack #weblogic</a></p>
</div>
      </div>
    </aside>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/perfect-scrollbar/perfect-scrollbar.min.js?1768275974" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/theme.min.js?1768275974" defer></script>
    <div id="toast-container" role="status" aria-live="polite" aria-atomic="false"></div>
  </body>
</html>
