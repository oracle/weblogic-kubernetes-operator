<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.47.1" />
    <meta name="description" content="">


    <link rel="icon" href="/weblogic-kubernetes-operator/2.0.1/images/favicon.png" type="image/png">

    <title>Set up Kubernetes :: WebLogic Kubernetes Operator</title>

    
    <link href="/weblogic-kubernetes-operator/2.0.1/css/nucleus.css?1554382006" rel="stylesheet">
    <link href="/weblogic-kubernetes-operator/2.0.1/css/fontawesome-all.min.css?1554382006" rel="stylesheet">
    <link href="/weblogic-kubernetes-operator/2.0.1/css/hybrid.css?1554382006" rel="stylesheet">
    <link href="/weblogic-kubernetes-operator/2.0.1/css/featherlight.min.css?1554382006" rel="stylesheet">
    <link href="/weblogic-kubernetes-operator/2.0.1/css/perfect-scrollbar.min.css?1554382006" rel="stylesheet">
    <link href="/weblogic-kubernetes-operator/2.0.1/css/auto-complete.css?1554382006" rel="stylesheet">
    <link href="/weblogic-kubernetes-operator/2.0.1/css/theme.css?1554382006" rel="stylesheet">
    <link href="/weblogic-kubernetes-operator/2.0.1/css/hugo-theme.css?1554382006" rel="stylesheet">
    

    <script src="/weblogic-kubernetes-operator/2.0.1/js/jquery-2.x.min.js?1554382006"></script>

    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/weblogic-kubernetes-operator/2.0.1/userguide/overview/k8s-setup/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/weblogic-kubernetes-operator/2.0.1/">
  <img src="/weblogic-kubernetes-operator/2.0.1//images/logo.png" height="60"><br/>
  Kubernetes Operator
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/weblogic-kubernetes-operator/2.0.1/js/lunr.min.js?1554382006"></script>
<script type="text/javascript" src="/weblogic-kubernetes-operator/2.0.1/js/auto-complete.js?1554382006"></script>
<script type="text/javascript">
    
        var baseurl = "\/weblogic-kubernetes-operator\/2.0.1\/";
    
</script>
<script type="text/javascript" src="/weblogic-kubernetes-operator/2.0.1/js/search.js?1554382006"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">
        <li><a  class="padding" href="/weblogic-kubernetes-operator/">Home</a></li>
        
          
          


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/quickstart/" title="Quick Start" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/quickstart/">
          <b>1. </b>Quick Start
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/quickstart/introduction/" title="Introduction" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/quickstart/introduction/">
        Introduction
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/quickstart/prerequisites/" title="Prerequisites" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/quickstart/prerequisites/">
        Prerequisites
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/quickstart/get-images/" title="Get images" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/quickstart/get-images/">
        Get images
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/quickstart/install/" title="Install the operator and load balancer" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/quickstart/install/">
        Install the operator and load balancer
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/quickstart/prepare/" title="Prepare for a domain" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/quickstart/prepare/">
        Prepare for a domain
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/quickstart/create-domain/" title="Create a domain" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/quickstart/create-domain/">
        Create a domain
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/quickstart/cleanup/" title="Clean up" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/quickstart/cleanup/">
        Clean up
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/" title="User Guide" class="dd-item 
        parent
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/userguide/">
          <b>2. </b>User Guide
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/introduction/" title="Introduction" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/userguide/introduction/">
          Introduction
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/introduction/introduction/" title="Get started" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/userguide/introduction/introduction/">
        Get started
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/introduction/demo/" title="Demo" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/userguide/introduction/demo/">
        Demo
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/introduction/architecture/" title="Architecture" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/userguide/introduction/architecture/">
        Architecture
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/introduction/design/" title="Design philosophy" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/userguide/introduction/design/">
        Design philosophy
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/overview/" title="Overview" class="dd-item 
        parent
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/userguide/overview/">
          Overview
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/overview/prepare/" title="Prepare your environment" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/userguide/overview/prepare/">
        Prepare your environment
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/overview/k8s-setup/" title="Set up Kubernetes" class="dd-item active">
        <a href="/weblogic-kubernetes-operator/2.0.1/userguide/overview/k8s-setup/">
        Set up Kubernetes
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/overview/database/" title="Run a database" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/userguide/overview/database/">
        Run a database
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/managing-operators/" title="Manage operators" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/userguide/managing-operators/">
          Manage operators
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/managing-operators/installation/" title="Install the operator" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/userguide/managing-operators/installation/">
          Install the operator
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/managing-operators/using-the-operator/" title="Use the operator" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/userguide/managing-operators/using-the-operator/">
          <b> </b>Use the operator
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/managing-operators/using-the-operator/using-helm/" title="Use Helm" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/userguide/managing-operators/using-the-operator/using-helm/">
        Use Helm
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/managing-operators/using-the-operator/the-rest-api/" title="The REST API" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/userguide/managing-operators/using-the-operator/the-rest-api/">
        The REST API
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/" title="Manage domains" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/">
          Manage domains
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/choosing-a-model/" title="Choose a model" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/choosing-a-model/">
          <b> </b>Choose a model
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/prepare/" title="Prepare to run a domain" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/prepare/">
        <b> </b>Prepare to run a domain
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/domain-resource/" title="Domain resource" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/domain-resource/">
        <b> </b>Domain resource
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/persistent-storage/" title="Persistent storage" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/persistent-storage/">
          <b> </b>Persistent storage
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/domain-in-image/" title="Domain in image" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/domain-in-image/">
          <b> </b>Domain in image
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/domain-in-image/base-images/" title="Base images" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/domain-in-image/base-images/">
          Base images
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/configoverrides/" title="Configuration overrides" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/configoverrides/">
          <b> </b>Configuration overrides
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/ingress/" title="Ingress" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/ingress/">
          <b> </b>Ingress
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/accessing-the-domain/" title="Accessing the domain" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/accessing-the-domain/">
          <b> </b>Accessing the domain
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/accessing-the-domain/wlst/" title="Using WLST" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/accessing-the-domain/wlst/">
        Using WLST
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/domain-lifecycle/" title="Domain life cycle" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/domain-lifecycle/">
          <b> </b>Domain life cycle
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/domain-lifecycle/startup/" title="Startup and shutdown" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/domain-lifecycle/startup/">
        Startup and shutdown
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/domain-lifecycle/restarting/" title="Restarting" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/domain-lifecycle/restarting/">
        Restarting
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/domain-lifecycle/scaling/" title="Scaling" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/userguide/managing-domains/domain-lifecycle/scaling/">
        Scaling
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/samples/" title="Samples" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/samples/">
          <b>3. </b>Samples
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/samples/simple/" title="Simple samples" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/samples/simple/">
          <b> </b>Simple samples
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/samples/simple/credentials/" title="Credentials" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/samples/simple/credentials/">
          Credentials
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/samples/simple/storage/" title="Storage" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/samples/simple/storage/">
          Storage
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/samples/simple/domains/" title="Domains" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/samples/simple/domains/">
          Domains
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/samples/simple/domains/manually-create-domain/" title="Manually" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/samples/simple/domains/manually-create-domain/">
          Manually
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/samples/simple/domains/domain-home-on-pv/" title="Domain home on a PV" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/samples/simple/domains/domain-home-on-pv/">
          Domain home on a PV
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/samples/simple/domains/domain-home-in-image/" title="Domain home in image" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/samples/simple/domains/domain-home-in-image/">
          Domain home in image
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/samples/simple/domains/delete-domain/" title="Delete domain resources" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/samples/simple/domains/delete-domain/">
          Delete domain resources
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/samples/simple/rest/" title="REST APIs" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/samples/simple/rest/">
          REST APIs
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/samples/simple/ingress/" title="Ingress" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/samples/simple/ingress/">
          Ingress
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/samples/simple/elastic-stack/" title="Elastic Stack" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/samples/simple/elastic-stack/">
          Elastic Stack
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/developerguide/" title="Developer Guide" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/developerguide/">
          <b>4. </b>Developer Guide
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/developerguide/requirements/" title="Requirements" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/developerguide/requirements/">
        Requirements
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/developerguide/building/" title="Building" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/developerguide/building/">
        Building
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/developerguide/integration-tests/" title="Integration tests" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/developerguide/integration-tests/">
        Integration tests
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/developerguide/branching/" title="Branching" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/developerguide/branching/">
        Branching
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/developerguide/coding-standards/" title="Coding standards" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/developerguide/coding-standards/">
        Coding standards
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/developerguide/code-structure/" title="Code structure" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/developerguide/code-structure/">
        Code structure
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/developerguide/asynchronous-call-model/" title="Asynchronous call model" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/developerguide/asynchronous-call-model/">
        Asynchronous call model
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/developerguide/domain-processing/" title="Domain processing" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/developerguide/domain-processing/">
        Domain processing
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/developerguide/documentation/" title="Documentation" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/developerguide/documentation/">
        Documentation
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/developerguide/backwards-compatibility/" title="Backward compatibility" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/developerguide/backwards-compatibility/">
        Backward compatibility
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/reference/" title="Reference" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/reference/">
          <b>5. </b>Reference
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/reference/javadoc/" title="Javadoc" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/reference/javadoc/">
        Javadoc
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/reference/swagger/" title="Swagger" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/reference/swagger/">
        Swagger
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/reference/domain-resource/" title="Domain resource" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/reference/domain-resource/">
        Domain resource
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/security/" title="Security" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/security/">
          <b>6. </b>Security
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/security/certificates/" title="Certificates" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/security/certificates/">
        Certificates
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/security/domain-security/" title="Domain security" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/security/domain-security/">
          Domain security
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/security/domain-security/image-protection/" title="Docker image protection" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/security/domain-security/image-protection/">
        Docker image protection
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/security/domain-security/weblogic-channels/" title="Channels" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/security/domain-security/weblogic-channels/">
        Channels
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/security/encryption/" title="Encryption" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/security/encryption/">
        Encryption
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/security/service-accounts/" title="Service accounts" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/security/service-accounts/">
        Service accounts
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/security/rbac/" title="RBAC" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/security/rbac/">
        RBAC
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/security/secrets/" title="Secrets" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/security/secrets/">
        Secrets
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/faq/" title="Frequently asked questions" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/2.0.1/faq/">
          <b>7. </b>Frequently asked questions
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/2.0.1/faq/cannot-pull-image/" title="Cannot Pull Image" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/2.0.1/faq/cannot-pull-image/">
        Cannot Pull Image
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
        <li><a  class="padding" href="/weblogic-kubernetes-operator/release-notes">Release Notes</a></li>
    </ul>

    
    

    
    <section id="footer">
      <table border="1" bgcolor=white>
<tr><td align="center"><p style="color:red">You are viewing the archived documentation for version 2.0.1.  To view the documentation for the
    current release, please <a href="https://oracle.github.io/weblogic-kubernetes-operator" style="color:blue">click here</a>
</td></tr>
</table>
<p>&nbsp;</p>
<p>Created with <i class="fas fa-heart"></i> from <a href="https://www.oracle.com">Oracle</a></p>
<p>&nbsp;</p>
<p><a href="https://github.com/oracle/weblogic-kubernetes-operator"><i class="fab fa-github"></i> GitHub repo</a></p>
<p><a href="https://weblogic-slack-inviter.herokuapp.com/"><i class="fab fa-slack"></i> Public Slack #operator</a></p>
<p>&nbsp;</p>
<img src="http://build.weblogick8s.org:8080/buildStatus/icon?job=weblogic-kubernetes-operator">
    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/weblogic-kubernetes-operator/2.0.1/'></a> > <a href='/weblogic-kubernetes-operator/2.0.1/userguide/'>User Guide</a> > <a href='/weblogic-kubernetes-operator/2.0.1/userguide/overview/'>Overview</a> > Set up Kubernetes
          
         
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#cheat-sheet-for-setting-up-kubernetes">Cheat sheet for setting up Kubernetes</a></li>
<li><a href="#set-up-kubernetes-on-bare-compute-resources-in-a-cloud">Set up Kubernetes on bare compute resources in a cloud</a></li>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#quick-start">Quick Start</a></li>
<li><a href="#install-kubernetes-on-your-own-compute-resources-for-example-oracle-linux-servers-outside-a-cloud">Install Kubernetes on your own compute resources (for example, Oracle Linux servers outside a cloud)</a></li>
<li><a href="#install-docker-for-mac-with-kubernetes">Install Docker for Mac with Kubernetes</a></li>
<li><a href="#important-note-about-persistent-volumes">Important note about persistent volumes</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            

        
        <div id="body-inner">
          
            <h1>Set up Kubernetes</h1>
          

        




<h4 id="cheat-sheet-for-setting-up-kubernetes">Cheat sheet for setting up Kubernetes</h4>

<p>If you need some help setting up a Kubernetes environment to experiment with the operator, please read on!  The supported environments are either an on-premises installation of Kubernetes, for example, on bare metal, or on a cloud provider like Oracle Cloud, Google, or Amazon.  Cloud providers allow you to provision a managed Kubernetes environment from their management consoles.  You could also set up Kubernetes manually using compute resources on a cloud.  There are also a number of ways to run a Kubernetes single-node cluster that are suitable for development or testing purposes.  Your options look like this:</p>

<p>&ldquo;Production&rdquo; options:</p>

<ul>
<li>Set up your own Kubernetes environment on bare compute resources on a cloud.</li>
<li>Use your cloud provider&rsquo;s management console to provision a managed Kubernetes environment.</li>
<li>Install Kubernetes on your own compute resources (for example, &ldquo;real&rdquo; computers, outside a cloud).</li>
</ul>

<p>&ldquo;Development/test&rdquo; options:</p>

<ul>
<li>Install <a href="https://docs.docker.com/docker-for-mac/#kubernetes">Docker for Mac</a> and enable its embedded Kubernetes cluster (or register for the <a href="https://beta.docker.com/form">Docker for Windows</a> beta and wait until Kubernetes is available there).</li>
<li>Install <a href="https://github.com/kubernetes/minikube">Minikube</a> on your Windows/Linux/Mac computer.</li>
</ul>

<p>We have provided our hints and tips for several of these options in the sections below.</p>

<h4 id="set-up-kubernetes-on-bare-compute-resources-in-a-cloud">Set up Kubernetes on bare compute resources in a cloud</h4>

<p>Follow the basic steps from the  <a href="https://github.com/oracle/terraform-kubernetes-installer">Terraform Kubernetes installer for Oracle Cloud Infrastructure</a>.</p>

<h4 id="prerequisites">Prerequisites</h4>

<ol>
<li>Download and install <a href="https://www.terraform.io/">Terraform</a> (v0.10.3 or later).</li>
<li>Download and install the <a href="https://github.com/terraform-providers/terraform-provider-oci/releases">OCI Terraform Provider</a> (v2.0.0 or later).</li>
<li>Create an Terraform configuration file at  <code>~/.terraformrc</code> that specifies the path to the OCI provider:
<code>
providers {
 oci = &quot;&lt;path_to_provider_binary&gt;/terraform-provider-oci&quot;
}
</code></li>
<li>Ensure that you have <a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/">kubectl</a> installed if you plan to interact with the cluster locally.</li>
</ol>

<h4 id="quick-start">Quick Start</h4>

<ol>
<li><p>Do a <code>git clone</code> of the Terraform Kubernetes installer project:</p>

<pre><code>git clone https://github.com/oracle/terraform-kubernetes-installer.git
</code></pre></li>

<li><p>Initialize your project:</p>

<pre><code>cd terraform-kubernetes-installer
terraform init
</code></pre></li>

<li><p>Copy the example <code>terraform.tvfars</code>:</p>

<pre><code>cp terraform.example.tfvars terraform.tfvars
</code></pre></li>

<li><p>Edit the <code>terraform.tvfars</code> file to include values for your tenancy, user, and compartment.  Optionally, edit the variables to change the <code>Shape</code> of the VMs for your Kubernetes master and workers, and your <code>etcd</code> cluster.   For example:</p>

<pre><code> #give a label to your cluster to help identify it if you have multiple
 label_prefix=&quot;weblogic-operator-1-&quot;

 #identification/authorization info
 tenancy_ocid = &quot;ocid1.tenancy....&quot;
 compartment_ocid = &quot;ocid1.compartment....&quot;
 fingerprint = &quot;...&quot;
 private_key_path = &quot;/Users/username/.oci/oci_api_key.pem&quot;
 user_ocid = &quot;ocid1.user...&quot;

 #shapes for your VMs
 etcdShape = &quot;VM.Standard1.2&quot;
 k8sMasterShape = &quot;VM.Standard1.8&quot;
 k8sWorkerShape = &quot;VM.Standard1.8&quot;
 k8sMasterAd1Count = &quot;1&quot;
 k8sWorkerAd1Count = &quot;2&quot;

 #this ingress is set to wide-open for testing **not secure**
 etcd_ssh_ingress = &quot;0.0.0.0/0&quot;
 master_ssh_ingress = &quot;0.0.0.0/0&quot;
 worker_ssh_ingress = &quot;0.0.0.0/0&quot;
 master_https_ingress = &quot;0.0.0.0/0&quot;
 worker_nodeport_ingress = &quot;0.0.0.0/0&quot;

 #create iscsi volumes to store your etcd and /var/lib/docker info
 worker_iscsi_volume_create = true
 worker_iscsi_volume_size = 100
 etcd_iscsi_volume_create = true
 etcd_iscsi_volume_size = 50
</code></pre></li>

<li><p>Test and apply your changes:</p>

<pre><code>terraform plan
terraform apply
</code></pre></li>

<li><p>Test your cluster using the built-in script <code>scripts/cluster-check.sh</code>:</p>

<pre><code>scripts/cluster-check.sh
</code></pre></li>

<li><p>Output the SSH private key:</p>

<pre><code># output the ssh private key for use later
$ rm -f generated/instances_id_rsa &amp;&amp; terraform output ssh_private_key &gt; generated/instances_id_rsa &amp;&amp; chmod 600 generated/instances_id_rsa
</code></pre></li>

<li><p>If you need shared storage between your Kubernetes worker nodes, enable and configure NFS:</p></li>
</ol>

<p>In the current GA version, the OCI Container Engine for Kubernetes supports network block storage that can be shared across nodes with access permission RWOnce (meaning that only one can write, others can read only).
If you choose to place your domain in a persistent volume,
you must use a shared file system to store the WebLogic domain configuration, which MUST be accessible from all the pods across the nodes.
Oracle recommends that you use the Oracle Cloud Infrastructure File Storage Service (or equivalent on other cloud providers).
Alternatively, you may install an NFS server on one node and share the file system across all the nodes.</p>

<div class="notices note" ><p>Currently, we recommend that you use NFS version 3.0 for running WebLogic Server on OCI Container Engine for Kubernetes. During certification, we found that when using NFS 4.0, the servers in the WebLogic domain went into a failed state intermittently. Because multiple threads use NFS (default store, diagnostics store, Node Manager, logging, and domain_home), there are issues when accessing the file store. These issues are removed by changing the NFS to version 3.0.</p>
</div>


<pre><code>$ terraform output worker_public_ips
IP1,
IP2
$ terraform output worker_private_ips
PRIVATE_IP1,
PRIVATE_IP2
$ ssh -i `pwd`/generated/instances_id_rsa opc@IP1
worker-1$ sudo su -
worker-1# yum install -y nfs-utils
worker-1# mkdir /scratch
worker-1# echo &quot;/scratch PRIVATE_IP2(rw)&quot; &gt;&gt; /etc/exports
worker-1# systemctl restart nfs
worker-1# exit
worker-1$ exit
# configure worker-2 to mount the share from worker-1
$ ssh -i `pwd`/generated/instances_id_rsa opc@IP2
worker-2$ sudo su -
worker-2# yum install -y nfs-utils
worker-2# mkdir /scratch
worker-2# echo &quot;PRIVATE_IP1:/scratch /scratch  nfs nfsvers=3 0 0&quot; &gt;&gt; /etc/fstab
worker-2# mount /scratch
worker-2# exit
worker-2$ exit
$
</code></pre>

<h4 id="install-kubernetes-on-your-own-compute-resources-for-example-oracle-linux-servers-outside-a-cloud">Install Kubernetes on your own compute resources (for example, Oracle Linux servers outside a cloud)</h4>

<p>These instructions are for Oracle Linux 7u2+.  If you are using a different flavor of Linux, you will need to adjust them accordingly.</p>

<div class="notices note" ><p>These steps must be run with the <code>root</code> user, until specified otherwise!  Any time you see <code>YOUR_USERID</code> in a command, you should replace it with your actual <code>userid</code>.</p>
</div>


<ol>
<li><p>Choose the directories where your Docker and Kubernetes files will be stored.  The Docker directory should be on a disk with a lot of free space (more than 100GB) because it will be used for the <code>/var/lib/docker</code> file system, which contains all of your images and containers. The Kubernetes directory will be used for the <code>/var/lib/kubelet</code> file system and persistent volume storage.</p>

<pre><code>export docker_dir=/scratch/docker
export k8s_dir=/scratch/k8s_dir
</code></pre></li>

<li><p>Create a shell script that sets up the necessary environment variables. You should probably just append this to the user&rsquo;s <code>.bashrc</code> so that it will get executed at login.  You will also need to configure your proxy settings here if you are behind an HTTP proxy:</p>

<pre><code>export PATH=$PATH:/sbin:/usr/sbin
pod_network_cidr=&quot;10.244.0.0/16&quot;

k8s_dir=$k8s_dir

## grab my IP address to pass into  kubeadm init, and to add to no_proxy vars
# assume ipv4 and eth0
ip_addr=`ip -f inet addr show eth0  | egrep inet | awk  '{print $2}' | awk -F/ '{print $1}'\`

export HTTPS_PROXY=http://proxy:80
export https_proxy=http://proxy:80
export NO_PROXY=localhost,127.0.0.1,.my.domain.com,/var/run/docker.sock,$pod_network_cidr,$ip_addr
export no_proxy=localhost,127.0.0.1,.my.domain.com,/var/run/docker.sock,$pod_network_cidr,$ip_addr
export HTTP_PROXY=http://proxy:80
export http_proxy=http://proxy:80

export KUBECONFIG=$k8s_dir/admin.conf
</code></pre>

<p>Source that script to set up your environment variables:</p>

<pre><code>. ~/.bashrc
</code></pre>

<p>If you want command completion, you can add the following to the script:</p>

<pre><code>[ -f /usr/share/bash-completion/bash_completion ] &amp;&amp; . /usr/share/bash-completion/bash_completion
source &lt;(kubectl completion bash)
</code></pre></li>

<li><p>Create the directories you need:</p>

<pre><code>mkdir -p $docker_dir $k8s_dir/kubelet
ln -s $k8s_dir/kubelet /var/lib/kubelet
</code></pre></li>

<li><p>Set an environment variable with the Docker version you want to install:</p>

<pre><code>docker_version=&quot;17.03.1.ce&quot;
</code></pre></li>

<li><p>Install Docker, removing any previously installed version:</p>

<pre><code>### install docker and curl-devel (for git if needed)
yum-config-manager --enable ol7_addons ol7_latest
# we are going to just uninstall any docker-engine that is installed
yum -y erase docker-engine docker-engine-selinux
# now install the docker-engine at our specified version
yum -y install docker-engine-$docker_version curl-devel
</code></pre></li>

<li><p>Update the Docker options:</p>

<pre><code># edit /etc/sysconfig/docker to add custom OPTIONS
cat /etc/sysconfig/docker | sed &quot;s#^OPTIONS=.*#OPTIONS='--selinux-enabled --group=docker -g $docker_dir'#g&quot; &gt; /tmp/docker.out
diff /etc/sysconfig/docker /tmp/docker.out
mv /tmp/docker.out /etc/sysconfig/docker
</code></pre></li>

<li><p>Set up the Docker network, including the HTTP proxy configuration, if you need it:</p>

<pre><code># generate a custom /setc/sysconfig/docker-network
 cat &lt;&lt;EOF &gt; /etc/sysconfig/docker-network
# /etc/sysconfig/docker-network
DOCKER_NETWORK_OPTIONS=&quot;-H tcp://0.0.0.0:4243 -H unix:///var/run/docker.sock&quot;
HTTP_PROXY=&quot;http://proxy:80&quot;
HTTPS_PROXY=&quot;http://proxy:80&quot;
NO_PROXY=&quot;localhost,127.0.0.0/8,.my.domain.com,/var/run/docker.sock&quot;
EOF
</code></pre></li>

<li><p>Add your user to the <code>docker</code> group:</p>

<pre><code>usermod -aG docker YOUR_USERID
</code></pre></li>

<li><p>Enable and start the Docker service that you just installed and configured:</p>

<pre><code>systemctl enable docker &amp;&amp; systemctl start docker
</code></pre></li>

<li><p>Install the Kubernetes packages:</p>

<pre><code># generate the yum repo config
cat &lt;&lt;EOF &gt; /etc/yum.repos.d/kubernetes.repo
[kubernetes]
name=Kubernetes
baseurl=http://yum.kubernetes.io/repos/kubernetes-el7-x86_64
enabled=1
gpgcheck=1
repo_gpgcheck=1
gpgkey=https://packages.cloud.google.com/yum/doc/yum-key.gpg
       https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg
EOF

setenforce 0
# install kube* packages
v=${1:-1.8.4-0}
old_ver=`echo $v | egrep &quot;^1.7&quot;`
yum install -y kubelet-$v kubeadm-$v kubectl-$v kubernetes-cni

# change the cgroup-driver to match what docker is using
cgroup=`docker info 2&gt;&amp;1 | egrep Cgroup | awk '{print $NF}'`
[ &quot;$cgroup&quot; == &quot;&quot; ] &amp;&amp; echo &quot;cgroup not detected!&quot; &amp;&amp; exit 1

cat /etc/systemd/system/kubelet.service.d/10-kubeadm.conf | sed &quot;s#KUBELET_CGROUP_ARGS=--cgroup-driver=.*#KUBELET_CGROUP_ARGS=--cgroup-driver=$cgroup\&quot;#&quot;&gt; /etc/systemd/system/kubelet.service.d/10-kubeadm.conf.out
diff  /etc/systemd/system/kubelet.service.d/10-kubeadm.conf  /etc/systemd/system/kubelet.service.d/10-kubeadm.conf.out
mv  /etc/systemd/system/kubelet.service.d/10-kubeadm.conf.out  /etc/systemd/system/kubelet.service.d/10-kubeadm.conf

if [ &quot;$old_ver&quot; = &quot;&quot; ] ; then

# run with swap if not in version 1.7* (starting in 1.8, kubelet
# fails to start with swap enabled)
#
cat &lt;&lt;EOF &gt; /etc/systemd/system/kubelet.service.d/90-local-extras.conf
[Service]
Environment=&quot;KUBELET_EXTRA_ARGS=--fail-swap-on=false&quot;
EOF

fi
</code></pre></li>

<li><p>Enable and start the Kubernetes service:</p>

<pre><code>systemctl enable kubelet &amp;&amp; systemctl start kubelet
</code></pre></li>

<li><p>Install and use Flannel for CNI:</p>

<pre><code># run kubeadm init as root
echo Running kubeadm init --skip-preflight-checks --apiserver-advertise-address=$ip_addr  --pod-network-cidr=$pod_network_cidr
echo &quot; see /tmp/kubeadm-init.out for output&quot;
kubeadm init --skip-preflight-checks --apiserver-advertise-address=$ip_addr  --pod-network-cidr=$pod_network_cidr &gt; /tmp/kubeadm-init.out 2&gt;&amp;1
if [ $? -ne 0 ] ; then
  echo &quot;ERROR: kubeadm init returned non 0&quot;
  chmod a+r  /tmp/kubeadm-init.out
  exit 1
else
  echo; echo &quot;kubeadm init complete&quot; ; echo
  # tail the log to get the &quot;join&quot; token
  tail -6 /tmp/kubeadm-init.out
fi

cp /etc/kubernetes/admin.conf  $KUBECONFIG
chown YOUR_USERID:YOUR_GROUP $KUBECONFIG
chmod 644 $KUBECONFIG
</code></pre>

<div class="notices note" ><p>The following steps should be run with your normal (non-<code>root</code>) user.</p>
</div>
</li>

<li><p>Configure CNI:</p>

<pre><code>sudo -u YOUR_USERID kubectl create clusterrolebinding permissive-binding --clusterrole=cluster-admin --user=admin --user=kubelet --group=system:serviceaccounts
sudo -u YOUR_USERID kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml
</code></pre>

<p>Wait for <code>kubectl get nodes</code> to show <code>Ready</code> for this host:</p>

<pre><code>host=`hostname | awk -F. '{print $1}'`
status=&quot;NotReady&quot;
max=10
count=1
while [ ${status:=Error} != &quot;Ready&quot; -a $count -lt $max ] ; do
  sleep 30
  status=`sudo -u YOUR_USERID kubectl get nodes | egrep $host | awk '{print $2}'`
  echo &quot;kubectl status is ${status:=Error}, iteration $count of $max&quot;
  count=`expr $count + 1`
done

status=`sudo -u YOUR_USERID kubectl get nodes | egrep $host | awk '{print $2}'`
if [ ${status:=Error} != &quot;Ready&quot; ] ; then
  echo &quot;ERROR: kubectl get nodes reports status=${status:=Error} after configuration, exiting!&quot;
  exit 1
fi
</code></pre></li>

<li><p>Taint the nodes:</p>

<pre><code>sudo -u YOUR_USERID kubectl taint nodes --all node-role.kubernetes.io/master-
sudo -u YOUR_USERID kubectl get nodes
sudo -u YOUR_USERID kubeadm version
</code></pre>

<p>Congratulations!  Docker and Kubernetes are installed and configured!</p></li>
</ol>

<h4 id="install-docker-for-mac-with-kubernetes">Install Docker for Mac with Kubernetes</h4>

<p>Docker for Mac 18+ provides an <a href="https://docs.docker.com/docker-for-mac/#kubernetes">embedded Kubernetes environment</a> that is a quick and easy way to get a simple test environment set up on your Mac.  To set it up, follow these instructions:</p>

<ol>
<li><p>Install &ldquo;Docker for Mac&rdquo; <a href="https://hub.docker.com/editions/community/docker-ce-desktop-mac">https://download.docker.com/mac/edge/Docker.dmg</a>.  Then start up the Docker application (press Command-Space bar, type in <code>Docker</code> and run it).  After it is running you will see the Docker icon appear in your status bar:</p>

<p><img src="/weblogic-kubernetes-operator/images/docker-icon-in-status-bar.png" alt="Docker icon in status bar" /></p></li>

<li><p>Click the Docker icon and select &ldquo;Preferences&hellip;&rdquo; from the drop down menu.  Go to the &ldquo;Advanced&rdquo; tab and give Docker a bit more memory if you have enough to spare:</p>

<p><img src="/weblogic-kubernetes-operator/images/docker-memory.png" alt="Docker memory settings" /></p></li>

<li><p>Go to the &ldquo;Kubernetes&rdquo; tab and click on the option to enable Kubernetes:</p>

<p><img src="/weblogic-kubernetes-operator/images/docker-enable-k8s.png" alt="Enable Kubernetes setting" /></p>

<div class="notices note" ><p>If you are behind an HTTP proxy, then you should also go to the &ldquo;Proxies&rdquo; tab and enter your proxy details.</p>
</div>


<p>Docker will download the Kubernetes components and start them up for you.  When it is done, you will see the Kubernetes status go to green/running in the menu:</p>

<p><img src="/weblogic-kubernetes-operator/images/docker-k8s-running.png" alt="Kubernetes running" /></p></li>

<li><p>Ensure that <code>kubectl</code> on your Mac, is pointing to the correct cluster and context.</p>

<pre><code>$ kubectl config get-contexts
CURRENT   NAME                          CLUSTER                      AUTHINFO             NAMESPACE
          docker-for-desktop            docker-for-desktop-cluster   docker-for-desktop
          kubernetes-admin@kubernetes   kubernetes                   kubernetes-admin
$ kubectl config use-context docker-for-desktop
Switched to context &quot;docker-for-desktop&quot;.
$ kubectl config get-clusters
NAME
kubernetes
docker-for-desktop-cluster
$ kubectl config set-cluster docker-for-desktop-cluster
Cluster &quot;docker-for-desktop-cluster&quot; set.
</code></pre></li>

<li><p>You should add <code>docker-for-desktop</code> to your <code>/etc/hosts</code> file entry for <code>127.0.0.1</code>, as shown in this example, and you must be an admin user to edit this file:</p>

<pre><code>##
# Host Database
#
# localhost is used to configure the loopback interface
# when the system is booting.  Do not change this entry.
##
127.0.0.1   localhost docker-for-desktop
255.255.255.255 broadcasthost
::1             localhost
</code></pre></li>

<li><p>You may also have to tell <code>kubectl</code> to ignore the certificate by entering this command:</p>

<pre><code>kubectl config set-cluster docker-for-desktop --insecure-skip-tls-verify=true
</code></pre></li>

<li><p>Then validate you are talking to the Kubernetes in Docker by entering these commands:</p>

<pre><code>$ kubectl cluster-info
Kubernetes master is running at https://docker-for-desktop:6443

To further debug and diagnose cluster problems, use 'kubectl cluster-info dump'.
</code></pre>

<h4 id="important-note-about-persistent-volumes">Important note about persistent volumes</h4>

<div class="notices warning" ><p>Docker for Mac has some restrictions on where you can place a directory that can be used as a <code>HostPath</code> for a persistent volume.  To keep it simple, place your directory somewhere under <code>/Users</code>.</p>
</div>
</li>
</ol>


<footer class=" footline" >
	
</footer>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-129126578-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/weblogic-kubernetes-operator/2.0.1/userguide/overview/prepare/" title="Prepare your environment"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/weblogic-kubernetes-operator/2.0.1/userguide/overview/database/" title="Run a database" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/weblogic-kubernetes-operator/2.0.1/js/clipboard.min.js?1554382006"></script>
    <script src="/weblogic-kubernetes-operator/2.0.1/js/perfect-scrollbar.min.js?1554382006"></script>
    <script src="/weblogic-kubernetes-operator/2.0.1/js/perfect-scrollbar.jquery.min.js?1554382006"></script>
    <script src="/weblogic-kubernetes-operator/2.0.1/js/jquery.sticky.js?1554382006"></script>
    <script src="/weblogic-kubernetes-operator/2.0.1/js/featherlight.min.js?1554382006"></script>
    <script src="/weblogic-kubernetes-operator/2.0.1/js/html5shiv-printshiv.min.js?1554382006"></script>
    <script src="/weblogic-kubernetes-operator/2.0.1/js/highlight.pack.js?1554382006"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/weblogic-kubernetes-operator/2.0.1/js/modernizr.custom.71422.js?1554382006"></script>
    <script src="/weblogic-kubernetes-operator/2.0.1/js/learn.js?1554382006"></script>
    <script src="/weblogic-kubernetes-operator/2.0.1/js/hugo-learn.js?1554382006"></script>

    <link href="/weblogic-kubernetes-operator/2.0.1/mermaid/mermaid.css?1554382006" type="text/css" rel="stylesheet" />
    <script src="/weblogic-kubernetes-operator/2.0.1/mermaid/mermaid.js?1554382006"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

