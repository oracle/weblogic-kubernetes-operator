<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.58.3" />
    <meta name="description" content="">


    <link rel="icon" href="/weblogic-kubernetes-operator/images/favicon.png" type="image/png">

    <title>FMW domains :: WebLogic Kubernetes Operator</title>

    
    <link href="/weblogic-kubernetes-operator/css/nucleus.css?1573870366" rel="stylesheet">
    <link href="/weblogic-kubernetes-operator/css/fontawesome-all.min.css?1573870366" rel="stylesheet">
    <link href="/weblogic-kubernetes-operator/css/hybrid.css?1573870366" rel="stylesheet">
    <link href="/weblogic-kubernetes-operator/css/featherlight.min.css?1573870366" rel="stylesheet">
    <link href="/weblogic-kubernetes-operator/css/perfect-scrollbar.min.css?1573870366" rel="stylesheet">
    <link href="/weblogic-kubernetes-operator/css/auto-complete.css?1573870366" rel="stylesheet">
    <link href="/weblogic-kubernetes-operator/css/theme.css?1573870366" rel="stylesheet">
    <link href="/weblogic-kubernetes-operator/css/hugo-theme.css?1573870366" rel="stylesheet">
    

    <script src="/weblogic-kubernetes-operator/js/jquery-2.x.min.js?1573870366"></script>

    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/weblogic-kubernetes-operator/userguide/managing-domains/fmw-infra/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/weblogic-kubernetes-operator/">
  <img src="/weblogic-kubernetes-operator//images/logo.png" height="60"><br/>
  Kubernetes Operator
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/weblogic-kubernetes-operator/js/lunr.min.js?1573870366"></script>
<script type="text/javascript" src="/weblogic-kubernetes-operator/js/auto-complete.js?1573870366"></script>
<script type="text/javascript">
    
        var baseurl = "\/weblogic-kubernetes-operator\/";
    
</script>
<script type="text/javascript" src="/weblogic-kubernetes-operator/js/search.js?1573870366"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">
        <li><a  class="padding" href="/weblogic-kubernetes-operator/">Home</a></li>
        
          
          


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/quickstart/" title="Quick Start" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/quickstart/">
          <b>1. </b>Quick Start
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/quickstart/introduction/" title="Introduction" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/quickstart/introduction/">
        Introduction
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/quickstart/prerequisites/" title="Before you begin" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/quickstart/prerequisites/">
        Before you begin
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/quickstart/get-images/" title="Get images" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/quickstart/get-images/">
        Get images
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/quickstart/install/" title="Install the operator and load balancer" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/quickstart/install/">
        Install the operator and load balancer
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/quickstart/prepare/" title="Prepare for a domain" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/quickstart/prepare/">
        Prepare for a domain
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/quickstart/create-domain/" title="Create a domain" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/quickstart/create-domain/">
        Create a domain
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/quickstart/cleanup/" title="Clean up" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/quickstart/cleanup/">
        Clean up
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/userguide/" title="User Guide" class="dd-item 
        parent
        
        
        ">
      <a href="/weblogic-kubernetes-operator/userguide/">
          <b>2. </b>User Guide
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/userguide/introduction/" title="Introduction" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/userguide/introduction/">
          Introduction
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/userguide/introduction/introduction/" title="Get started" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/userguide/introduction/introduction/">
        Get started
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/userguide/introduction/demo/" title="Demo" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/userguide/introduction/demo/">
        Demo
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/userguide/introduction/architecture/" title="Architecture" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/userguide/introduction/architecture/">
        Architecture
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/userguide/introduction/design/" title="Design philosophy" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/userguide/introduction/design/">
        Design philosophy
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/userguide/overview/" title="Overview" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/userguide/overview/">
          Overview
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/userguide/overview/prepare/" title="Prepare your environment" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/userguide/overview/prepare/">
        Prepare your environment
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/userguide/overview/k8s-setup/" title="Set up Kubernetes" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/userguide/overview/k8s-setup/">
        Set up Kubernetes
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/userguide/overview/database/" title="Run a database" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/userguide/overview/database/">
        Run a database
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/userguide/managing-operators/" title="Manage operators" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/userguide/managing-operators/">
          Manage operators
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/userguide/managing-operators/installation/" title="Install the operator" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/userguide/managing-operators/installation/">
          Install the operator
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/userguide/managing-operators/using-the-operator/" title="Use the operator" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/userguide/managing-operators/using-the-operator/">
          <b> </b>Use the operator
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/userguide/managing-operators/using-the-operator/using-helm/" title="Use Helm" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/userguide/managing-operators/using-the-operator/using-helm/">
        Use Helm
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/userguide/managing-operators/using-the-operator/the-rest-api/" title="The REST API" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/userguide/managing-operators/using-the-operator/the-rest-api/">
        The REST API
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/userguide/managing-domains/" title="Manage domains" class="dd-item 
        parent
        
        
        ">
      <a href="/weblogic-kubernetes-operator/userguide/managing-domains/">
          Manage domains
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/userguide/managing-domains/choosing-a-model/" title="Choose a model" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/userguide/managing-domains/choosing-a-model/">
          <b> </b>Choose a model
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/userguide/managing-domains/prepare/" title="Prepare to run a domain" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/userguide/managing-domains/prepare/">
        <b> </b>Prepare to run a domain
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/userguide/managing-domains/domain-resource/" title="Domain resource" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/userguide/managing-domains/domain-resource/">
        <b> </b>Domain resource
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/userguide/managing-domains/persistent-storage/" title="Persistent storage" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/userguide/managing-domains/persistent-storage/">
          <b> </b>Persistent storage
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/userguide/managing-domains/domain-in-image/" title="Domain in image" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/userguide/managing-domains/domain-in-image/">
          <b> </b>Domain in image
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/userguide/managing-domains/domain-in-image/base-images/" title="Base images" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/userguide/managing-domains/domain-in-image/base-images/">
          Base images
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/userguide/managing-domains/domain-in-image/patching/" title="Patching" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/userguide/managing-domains/domain-in-image/patching/">
          <b> </b>Patching
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/userguide/managing-domains/fmw-infra/" title="FMW domains" class="dd-item 
        parent
        active
        
        ">
      <a href="/weblogic-kubernetes-operator/userguide/managing-domains/fmw-infra/">
          <b> </b>FMW domains
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/userguide/managing-domains/configoverrides/" title="Configuration overrides" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/userguide/managing-domains/configoverrides/">
          <b> </b>Configuration overrides
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/userguide/managing-domains/ingress/" title="Ingress" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/userguide/managing-domains/ingress/">
          <b> </b>Ingress
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/userguide/managing-domains/accessing-the-domain/" title="Accessing the domain" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/userguide/managing-domains/accessing-the-domain/">
          <b> </b>Accessing the domain
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/userguide/managing-domains/accessing-the-domain/wlst/" title="Using WLST" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/userguide/managing-domains/accessing-the-domain/wlst/">
        Using WLST
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/userguide/managing-domains/domain-lifecycle/" title="Domain life cycle" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/userguide/managing-domains/domain-lifecycle/">
          <b> </b>Domain life cycle
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/userguide/managing-domains/domain-lifecycle/startup/" title="Startup and shutdown" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/userguide/managing-domains/domain-lifecycle/startup/">
        Startup and shutdown
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/userguide/managing-domains/domain-lifecycle/restarting/" title="Restarting" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/userguide/managing-domains/domain-lifecycle/restarting/">
        Restarting
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/userguide/managing-domains/domain-lifecycle/scaling/" title="Scaling" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/userguide/managing-domains/domain-lifecycle/scaling/">
        Scaling
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/userguide/managing-domains/integrations/" title="Integrations" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/userguide/managing-domains/integrations/">
          <b> </b>Integrations
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/userguide/managing-domains/integrations/exporting-metrics/" title="Export metrics" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/userguide/managing-domains/integrations/exporting-metrics/">
          <b> </b>Export metrics
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/userguide/managing-domains/integrations/exporting-logs/" title="Export logs" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/userguide/managing-domains/integrations/exporting-logs/">
          <b> </b>Export logs
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/userguide/cicd/" title="CI/CD considerations" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/userguide/cicd/">
          CI/CD considerations
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/userguide/cicd/layering/" title="Docker image layering" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/userguide/cicd/layering/">
        Docker image layering
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/userguide/cicd/why-layering-matters/" title="Why layering matters" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/userguide/cicd/why-layering-matters/">
        Why layering matters
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/userguide/cicd/choose-an-approach/" title="Choose an approach" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/userguide/cicd/choose-an-approach/">
        Choose an approach
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/userguide/cicd/mutate-the-domain-layer/" title="Mutate the domain layer" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/userguide/cicd/mutate-the-domain-layer/">
        Mutate the domain layer
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/userguide/cicd/how-to-copy-domains/" title="Copy domains" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/userguide/cicd/how-to-copy-domains/">
        Copy domains
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/userguide/cicd/tools/" title="Tools" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/userguide/cicd/tools/">
        Tools
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/userguide/experimental/" title="Experimental features" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/userguide/experimental/">
          Experimental features
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/userguide/experimental/istio/" title="Istio support" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/userguide/experimental/istio/">
        Istio support
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/samples/" title="Samples" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/samples/">
          <b>3. </b>Samples
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/samples/simple/" title="Simple samples" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/samples/simple/">
          <b> </b>Simple samples
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/samples/simple/credentials/" title="Credentials" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/samples/simple/credentials/">
          Credentials
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/samples/simple/storage/" title="Storage" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/samples/simple/storage/">
          Storage
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/samples/simple/domains/" title="Domains" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/samples/simple/domains/">
          Domains
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/samples/simple/domains/manually-create-domain/" title="Manually" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/samples/simple/domains/manually-create-domain/">
          Manually
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/samples/simple/domains/fmw-domain/" title="FMW Infrastructure domain" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/samples/simple/domains/fmw-domain/">
          FMW Infrastructure domain
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/samples/simple/domains/domain-home-on-pv/" title="Domain home on a PV" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/samples/simple/domains/domain-home-on-pv/">
          Domain home on a PV
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/samples/simple/domains/domain-home-in-image/" title="Domain home in image" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/samples/simple/domains/domain-home-in-image/">
          Domain home in image
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/samples/simple/domains/delete-domain/" title="Delete domain resources" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/samples/simple/domains/delete-domain/">
          Delete domain resources
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/samples/simple/rest/" title="REST APIs" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/samples/simple/rest/">
          REST APIs
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/samples/simple/ingress/" title="Ingress" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/samples/simple/ingress/">
          Ingress
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/samples/simple/elastic-stack/" title="Elastic Stack" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/samples/simple/elastic-stack/">
          Elastic Stack
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/samples/production/" title="Production samples" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/samples/production/">
          <b> </b>Production samples
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/developerguide/" title="Developer Guide" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/developerguide/">
          <b>4. </b>Developer Guide
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/developerguide/requirements/" title="Requirements" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/developerguide/requirements/">
        Requirements
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/developerguide/building/" title="Building" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/developerguide/building/">
        Building
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/developerguide/integration-tests/" title="Integration tests" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/developerguide/integration-tests/">
        Integration tests
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/developerguide/branching/" title="Branching" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/developerguide/branching/">
        Branching
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/developerguide/coding-standards/" title="Coding standards" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/developerguide/coding-standards/">
        Coding standards
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/developerguide/code-structure/" title="Code structure" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/developerguide/code-structure/">
        Code structure
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/developerguide/asynchronous-call-model/" title="Asynchronous call model" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/developerguide/asynchronous-call-model/">
        Asynchronous call model
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/developerguide/domain-processing/" title="Domain processing" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/developerguide/domain-processing/">
        Domain processing
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/developerguide/documentation/" title="Documentation" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/developerguide/documentation/">
        Documentation
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/developerguide/backwards-compatibility/" title="Backward compatibility" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/developerguide/backwards-compatibility/">
        Backward compatibility
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/reference/" title="Reference" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/reference/">
          <b>5. </b>Reference
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/reference/javadoc/" title="Javadoc" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/reference/javadoc/">
        Javadoc
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/reference/swagger/" title="Swagger" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/reference/swagger/">
        Swagger
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/reference/domain-resource/" title="Domain resource" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/reference/domain-resource/">
        Domain resource
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/security/" title="Security" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/security/">
          <b>6. </b>Security
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/security/certificates/" title="Certificates" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/security/certificates/">
        Certificates
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/security/domain-security/" title="Domain security" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/security/domain-security/">
          Domain security
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/security/domain-security/image-protection/" title="Docker image protection" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/security/domain-security/image-protection/">
        Docker image protection
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/security/domain-security/weblogic-channels/" title="Channels" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/security/domain-security/weblogic-channels/">
        Channels
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/security/encryption/" title="Encryption" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/security/encryption/">
        Encryption
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/security/service-accounts/" title="Service accounts" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/security/service-accounts/">
        Service accounts
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/security/rbac/" title="RBAC" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/security/rbac/">
        RBAC
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/security/secrets/" title="Secrets" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/security/secrets/">
        Secrets
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/weblogic-kubernetes-operator/faq/" title="Frequently asked questions" class="dd-item 
        
        
        
        ">
      <a href="/weblogic-kubernetes-operator/faq/">
          <b>7. </b>Frequently asked questions
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/faq/coherence-requirements/" title="Coherence Requirements" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/faq/coherence-requirements/">
        Coherence Requirements
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/weblogic-kubernetes-operator/faq/cannot-pull-image/" title="Cannot Pull Image" class="dd-item ">
        <a href="/weblogic-kubernetes-operator/faq/cannot-pull-image/">
        Cannot Pull Image
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
        <li><a  class="padding" href="/weblogic-kubernetes-operator/release-notes">Release Notes</a></li>
    </ul>

    
    

    
    <section id="footer">
      <p>Created with <i class="fas fa-heart"></i> from <a href="https://www.oracle.com">Oracle</a></p>
<p>&nbsp;</p>
<table border="1" bgcolor="white"><tr><td align="center"><p style="color:red">You are viewing the archived documentation for version 2.3.0.
      To view the documentation for the current release, please <a href="https://oracle.github.io/weblogic-kubernetes-operator">click here</a></p>
    </td></tr></table>
<p>&nbsp;</p>
<p><a href="https://github.com/oracle/weblogic-kubernetes-operator"><i class="fab fa-github"></i> GitHub repo</a></p>
<p><a href="https://weblogic-slack-inviter.herokuapp.com/"><i class="fab fa-slack"></i> Public Slack #operator</a></p>
<p>&nbsp;</p>
<img src="http://build.weblogick8s.org:8080/buildStatus/icon?job=weblogic-kubernetes-operator">

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/weblogic-kubernetes-operator/'></a> > <a href='/weblogic-kubernetes-operator/userguide/'>User Guide</a> > <a href='/weblogic-kubernetes-operator/userguide/managing-domains/'>Manage domains</a> > FMW domains
          
         
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#contents">Contents</a></li>
<li><a href="#limitations">Limitations</a></li>
<li><a href="#obtaining-the-fmw-infrastructure-docker-image">Obtaining the FMW Infrastructure Docker Image</a></li>
<li><a href="#creating-an-fmw-infrastructure-docker-image">Creating an FMW Infrastructure Docker image</a></li>
<li><a href="#configuring-access-to-your-database">Configuring access to your database</a>
<ul>
<li><a href="#running-the-database-inside-kubernetes">Running the database inside Kubernetes</a></li>
<li><a href="#running-the-database-outside-kubernetes">Running the database outside Kubernetes</a></li>
</ul></li>
<li><a href="#running-the-repository-creation-utility-to-set-up-your-database-schema">Running the Repository Creation Utility to set up your database schema</a>
<ul>
<li><a href="#creating-schemas">Creating schemas</a></li>
<li><a href="#dropping-schemas">Dropping schemas</a></li>
</ul></li>
<li><a href="#create-a-kubernetes-secret-with-the-rcu-credentials">Create a Kubernetes secret with the RCU credentials</a></li>
<li><a href="#creating-an-fmw-infrastructure-domain">Creating an FMW Infrastructure domain</a></li>
<li><a href="#patching-the-fmw-infrastructure-image">Patching the FMW Infrastructure image</a></li>
<li><a href="#additional-considerations-for-coherence">Additional considerations for Coherence</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            

        
        <div id="body-inner">
          
            <h1>FMW domains</h1>
          

        




<h4 id="contents">Contents</h4>

<ul>
<li><a href="#limitations">Limitations</a></li>
<li><a href="#obtaining-the-fmw-infrastructure-docker-image">Obtaining the FMW Infrastructure Docker image</a></li>
<li><a href="#creating-an-fmw-infrastructure-docker-image">Creating an FMW Infrastructure Docker image</a></li>
<li><a href="#configuring-access-to-your-database">Configuring access to your database</a></li>
<li><a href="#running-the-repository-creation-utility-to-set-up-your-database-schema">Running the Repository Creation Utility to set up your database schema</a></li>
<li><a href="#create-a-kubernetes-secret-with-the-rcu-credentials">Create a Kubernetes secret with the RCU credentials</a></li>
<li><a href="#creating-an-fmw-infrastructure-domain">Creating an FMW Infrastructure domain</a></li>
<li><a href="#patching-the-fmw-infrastructure-image">Patching the FMW Infrastructure image</a></li>
<li><a href="#additional-considerations-for-coherence">Additional considerations for Coherence</a></li>
</ul>

<p>Starting with the 2.2.0 release, the operator supports FMW Infrastructure domains, that is,
domains that are created with the FMW Infrastructure installer rather than the WebLogic
Server installer.  These domains contain the Java Required Files (JRF) feature and are
the prerequisite for &ldquo;upper stack&rdquo; products like Oracle SOA Suite, for example.
These domains also require a database and the use of the Repository
Creation Utility (RCU).</p>

<p>This section provides details about the special considerations for running
FMW Infrastructure domains with the operator.  Other than those considerations
listed here, FMW Infrastructure domains work in the same way as WebLogic Server domains.
The remainder of the documentation in this site applies equally to FMW
Infrastructure domains and WebLogic Server domains.</p>

<p>FMW Infrastructure domains are supported using both the &ldquo;domain on a persistent volume&rdquo;
and the &ldquo;domain in a Docker image&rdquo; <a href="/weblogic-kubernetes-operator/userguide/managing-domains/choosing-a-model/">models</a>.
If you plan to experiment with upper stack products (which are not officially supported
by the operator yet), we strongly recommend using the domain on a persistent
volume approach.</p>

<h4 id="limitations">Limitations</h4>

<p>Compared to running a WebLogic Server domain in Kubernetes using the operator, the
following limitations currently exist for FMW Infrastructure domains:</p>

<ul>
<li>The <a href="https://github.com/oracle/weblogic-logging-exporter">WebLogic Logging Exporter</a>
currently supports WebLogic Server logs only.  Other logs will not be sent to
Elasticsearch.  Note, however, that you can use a sidecar with a log handling tool
like Logstash or fluentd to get logs.</li>
<li>The <a href="https://github.com/oracle/weblogic-monitoring-exporter">WebLogic Monitoring Exporter</a>
currently supports the WebLogic MBean trees only.  Support for JRF MBeans has not
been added yet.</li>
<li>Only configured clusters are supported.  Dynamic clusters are not supported for
FMW Infrastructure domains.  Note that you can still use all of the scaling features,
you just need to define the maximum size of your cluster at domain creation time.</li>
<li>FMW Infrastructure domains are not supported with any version of the operator
before version 2.2.0.</li>
</ul>

<h4 id="obtaining-the-fmw-infrastructure-docker-image">Obtaining the FMW Infrastructure Docker Image</h4>

<p>The Oracle WebLogic Server Kubernetes Operator requires patch 29135930.
The standard pre-built FMW Infrastructure image, <code>container-registry.oracle.com/middleware/fmw-infrastrucutre:12.2.1.3</code>, already has this patch applied. For detailed instructions on how to log in to the Oracle Container Registry and accept license agreement, see this <a href="/weblogic-kubernetes-operator/userguide/managing-domains/domain-in-image/base-images/#obtaining-standard-images-from-the-oracle-container-registry">document</a>.</p>

<p>To pull an image from the Oracle Container Registry, in a web browser, navigate to <a href="https://container-registry.oracle.com">https://container-registry.oracle.com</a> and log in
using the Oracle Single Sign-On authentication service. If you do not already have SSO credentials, at the top of the page, click the Sign In link to create them.</p>

<p>Use the web interface to accept the Oracle Standard Terms and Restrictions for the Oracle software images that you intend to deploy.
Your acceptance of these terms is stored in a database that links the software images to your Oracle Single Sign-On login credentials.</p>

<p>First, you will need to log in to the Oracle Container Registry:</p>

<pre><code>$ docker login container-registry.oracle.com
</code></pre>

<p>Then, you can pull the image with this command:</p>

<pre><code>$ docker pull container-registry.oracle.com/middleware/fmw-infrastructure:12.2.1.3
</code></pre>

<p>If desired, you can:</p>

<ul>
<li><p>Check the WLS version with <code>docker run container-registry.oracle.com/middleware/fmw-infrastructure:12.2.1.3 sh -c</code> <code>'source $ORACLE_HOME/wlserver/server/bin/setWLSEnv.sh &gt; /dev/null 2&gt;&amp;1 &amp;&amp; java weblogic.version'</code></p></li>

<li><p>Check the WLS patches with <code>docker run container-registry.oracle.com/middleware/fmw-infrastructure:12.2.1.3 sh -c</code> <code>'$ORACLE_HOME/OPatch/opatch lspatches'</code></p></li>
</ul>

<p>Additional information about using this image is available in the
<a href="https://container-registry.oracle.com">Oracle Container Registry</a>.</p>

<h4 id="creating-an-fmw-infrastructure-docker-image">Creating an FMW Infrastructure Docker image</h4>

<p>You can also create a Docker image containing the FMW Infrastructure binaries.
We provide a <a href="https://github.com/oracle/docker-images/tree/master/OracleFMWInfrastructure">sample</a>
 in the Oracle GitHub account that demonstrates how to create a Docker image
to run the FMW Infrastructure. Please consult the <a href="https://github.com/oracle/docker-images/blob/master/OracleFMWInfrastructure/dockerfiles/12.2.1.3/README.md">README</a>
file associated with this sample for important prerequisite steps,
such as building or pulling the Server JRE Docker image and downloading the Fusion Middleware
Infrastructure installer binary.</p>

<p>After cloning the repository and downloading the installer from Oracle Technology Network
or e-delivery, you create your image by running the provided script:</p>

<pre><code class="language-bash">cd docker-images/OracleFMWInfrastructure/dockerfiles
./buildDockerImage.sh -v 12.2.1.3 -s
</code></pre>

<p>The image produced will be named <code>oracle/fmw-infrastructure:12.2.1.3</code>.</p>

<p>You must also install the <a href="/weblogic-kubernetes-operator/userguide/introduction/introduction/#prerequisites">required patch</a>
to use this image with the operator.  We provide a <a href="https://github.com/oracle/docker-images/tree/master/OracleFMWInfrastructure/samples/12213-patch-fmw-for-k8s">sample</a>
 that demonstrates how to create a Docker image with the necessary patch installed.</p>

<p>After downloading the patch from My Oracle Support, you create the patched image
by running the provided script:</p>

<pre><code class="language-bash">cd docker-images/OracleFMWInfrastructure/samples/12213-patch-fmw-for-k8s
./build.sh
</code></pre>

<p>This will produce an image named <code>oracle/fmw-infrastructure:12213-update-k8s</code>.</p>

<p>All samples and instructions reference the pre-built and already patched image, <code>container-registry.oracle.com/middleware/fmw_infrastructure:12.2.1.3</code>. When building your own image, you will need to rename <code>oracle/fmw-infrastructure:12213-update-k8s</code> to <code>container-registry.oracle.com/middleware/fmw_infrastructure:12.2.1.3</code>.</p>

<pre><code>$ docker tag oracle/fmw-infrastructure:12213-update-k8s container-registry.oracle.com/middleware/fmw_infrastructure:12.2.1.3
</code></pre>

<p>These samples allow you to create a Docker image containing the FMW Infrastructure
binaries and the necessary patch.  You can use this image to run the Repository Creation Utility
and to run your domain using the &ldquo;domain on a persistent volume&rdquo; model. If you want to use
the &ldquo;domain in a Docker image&rdquo; model, you will need to go one step further and add another
layer with your domain in it.  You can use WLST or WDT to create your domain.</p>

<p>Before creating a domain, you will need to set up the necessary schemas in your database.</p>

<h4 id="configuring-access-to-your-database">Configuring access to your database</h4>

<p>FMW Infrastructure domains require a database with the necessary schemas installed in them.
We provide a utility, called the Repository Creation Utility (RCU), which allows you to create
those schemas.  You must set up the database before you create your domain.
There are no additional requirements added by running FMW Infrastructure in Kubernetes; the
same existing requirements apply.</p>

<p>You may choose to run your database inside Kubernetes or outside of Kubernetes.</p>

<h5 id="running-the-database-inside-kubernetes">Running the database inside Kubernetes</h5>

<p>If you wish to run the database inside Kubernetes, you can use the official Docker image
<a href="https://hub.docker.com/_/oracle-database-enterprise-edition">from Docker Hub</a> or
the <a href="https://container-registry.oracle.com/pls/apex/f?p=113:1:10859199204803::NO:1:P1_BUSINESS_AREA:3">Oracle Container Registry</a>.
Please note that there is a Slim Variant (<code>12.2.0.1-slim</code> tag) of EE that has reduced
disk space (4GB) requirements and a quicker container startup.</p>

<p>Running the database inside the Kubernetes cluster is possibly more relevant or
desirable in test/development or CI/CD scenarios.</p>

<p>Here is an example of a Kubernetes YAML file to define a deployment of the Oracle
database:</p>

<pre><code class="language-yaml">apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: oracle-db
  namespace: default
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/instance: dev
      app.kubernetes.io/name: oracle-db
  strategy:
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 1
    type: RollingUpdate
  template:
    metadata:
      creationTimestamp: null
      labels:
        app.kubernetes.io/instance: dev
        app.kubernetes.io/name: oracle-db
    spec:
      containers:
      - env:
        - name: DB_SID
          value: devcdb
        - name: DB_PDB
          value: devpdb
        - name: DB_DOMAIN
          value: k8s
        image: container-registry.oracle.com/database/enterprise:12.2.0.1-slim
        imagePullPolicy: IfNotPresent
        name: oracle-db
        ports:
        - containerPort: 1521
          name: tns
          protocol: TCP
        resources:
          limits:
            cpu: &quot;1&quot;
            memory: 2Gi
          requests:
            cpu: 200m
        terminationMessagePath: /dev/termination-log
        terminationMessagePolicy: File
      dnsPolicy: ClusterFirst
      restartPolicy: Always
      schedulerName: default-scheduler
      securityContext: {}
      terminationGracePeriodSeconds: 30
</code></pre>

<p>Notice that you can pass in environment variables to set the SID, the name of the PDB, and
so on.  The documentation describes the other variables that are available.  The <code>sys</code> password
defaults to <code>Oradoc_db1</code>.  Follow the instructions in the documentation to reset this password.</p>

<p>You should also create a service to make the database available within the Kubernetes cluster with
a well known name.  Here is an example:</p>

<pre><code class="language-yaml">apiVersion: v1
kind: Service
metadata:
  name: oracle-db
  namespace: default
spec:
  ports:
  - name: tns
    port: 1521
    protocol: TCP
    targetPort: 1521
  selector:
    app.kubernetes.io/instance: dev
    app.kubernetes.io/name: oracle-db
  sessionAffinity: None
  type: ClusterIP
</code></pre>

<p>In the example above, the database would be visible in the cluster using the address
<code>oracle-db.default.svc.cluster.local:1521/devpdb.k8s</code>.</p>

<p>When you run the database in the Kubernetes cluster, you will probably want to also
run RCU from a pod inside your network, though this
is not strictly necessary.  You could create a <code>NodePort</code> to expose your database outside
the Kubernetes cluster and run RCU on another machine with access to the cluster.</p>

<h5 id="running-the-database-outside-kubernetes">Running the database outside Kubernetes</h5>

<p>If you wish to run the database outside Kubernetes, you need to create a way for containers
running in pods in Kubernetes to see the database.  This can be done by defining a
Kubernetes service with no selector and associating it with an endpoint definition, as shown
in the example below:</p>

<pre><code class="language-yaml">kind: Service
apiVersion: v1
metadata:
 name: database
spec:
 type: ClusterIP
 ports:
 - port: 1521
   targetPort: 1521
---
kind: Endpoints
apiVersion: v1
metadata:
 name: database
subsets:
 - addresses:
     - ip: 129.123.1.4
   ports:
     - port: 1521
</code></pre>

<p>This creates a DNS name <code>database</code> in the current namespace, or<code>default</code> if no namespace is
specified, as in the example above. In this example, the fully qualified name would be
<code>database.default.svc.cluster.local</code>.  The second part is the namespace.
If you looked up the <code>ClusterIP</code> for such a service, it would have an IP address on the overlay
network, that is the network inside the Kubernetes cluster.  If you are using flannel,
for example, the address might be something like <code>10.0.1.25</code>.  Note that this is usually a
non-routed address.</p>

<p>From a container in a pod running in Kubernetes, you can make a connection to that address
and port <code>1521</code>.  Kubernetes will route the connection to the address provided in the
endpoint definition, in this example, <code>129.123.1.4:1521</code>.  This IP address (or name) is
resolved from the point of view of the Kubernetes node&rsquo;s IP stack, not the overlay network
inside the Kubernetes cluster.  Note that this is a &ldquo;real&rdquo; routed IP address.</p>

<p>When you create your data sources, you would use the internal address, for example,
<code>database:1521/some.service</code>.</p>

<p>Because your database is externally accessible, you can run RCU in the normal way, from any
machine on your network.</p>

<h4 id="running-the-repository-creation-utility-to-set-up-your-database-schema">Running the Repository Creation Utility to set up your database schema</h4>

<p>If you want to run RCU from a pod inside the Kubernetes cluster, you can use the Docker
image that you built earlier as a &ldquo;service&rdquo; pod to run RCU.  To do this, start up a
pod using that image as follows:</p>

<pre><code class="language-bash">kubectl run rcu --generator=run-pod/v1 --image container-registry.oracle.com/middleware/fmw_infrastructure:12.2.1.3 -- sleep infinity

</code></pre>

<p>This will create a Kubernetes deployment called <code>rcu</code> containing a pod running a container
created from the <code>container-registry.oracle.com/middleware/fmw_infrastructure:12.2.1.3</code> image which will just run
<code>sleep infinity</code>, which essentially creates a pod that we can &ldquo;exec&rdquo; into and use to run whatever
commands we need to run.</p>

<p>To get inside this container and run commands, use this command:</p>

<pre><code class="language-bash">kubectl exec -ti rcu /bin/bash
</code></pre>

<p>When you are finished with this pod, you can remove it with this command:</p>

<pre><code class="language-bash">kubectl delete pod rcu
</code></pre>

<div class="notices note" >
You can use the same approach to get a temporary pod to run other utilities
like WLST.
</div>

<h5 id="creating-schemas">Creating schemas</h5>

<p>Inside this pod, you can use the following command to run RCU in command-line (no GUI) mode
to create your FMW schemas.  You will need to provide the right prefix and connect string.
You will be prompted to enter the password for the <code>sys</code> user, and then the password to use
for the regular schema users:</p>

<pre><code class="language-bash">/u01/oracle/oracle_common/bin/rcu \
  -silent \
  -createRepository \
  -databaseType ORACLE \
  -connectString oracle-db.default:1521/devpdb.k8s \
  -dbUser sys \
  -dbRole sysdba \
  -useSamePasswordForAllSchemaUsers true \
  -selectDependentsForComponents true \
  -schemaPrefix FMW1 \
  -component MDS \
  -component IAU \
  -component IAU_APPEND \
  -component IAU_VIEWER \
  -component OPSS  \
  -component WLS  \
  -component STB
</code></pre>

<p>You need to make sure that you maintain the association between the database schemas and the
matching domain just like you did in a non-Kubernetes environment.  There is no specific
functionality provided to help with this.  We recommend that you consider making the RCU
prefix (value of the <code>schemaPrefix</code> argument) the same as your <code>domainUID</code> to help maintain this association.</p>

<h5 id="dropping-schemas">Dropping schemas</h5>

<p>If you want to drop the schema, you can use a command like this:</p>

<pre><code class="language-bash">/u01/oracle/oracle_common/bin/rcu \
  -silent \
  -dropRepository \
  -databaseType ORACLE \
  -connectString oracle-db.default:1521/devpdb.k8s \
  -dbUser sys \
  -dbRole sysdba \
  -selectDependentsForComponents true \
  -schemaPrefix FMW1 \
  -component MDS \
  -component IAU \
  -component IAU_APPEND \
  -component IAU_VIEWER \
  -component OPSS \
  -component WLS \
  -component STB
</code></pre>

<p>Again, you will need to set the right prefix and connection string, and you will be prompted
to enter the <code>sys</code> user password.</p>

<h4 id="create-a-kubernetes-secret-with-the-rcu-credentials">Create a Kubernetes secret with the RCU credentials</h4>

<p>You also need to create a Kubernetes secret containing the credentials for the database schemas.
When you create your domain using the sample provided below, it will obtain the RCU credentials
from this secret.</p>

<p>We provide a <a href="https://github.com/oracle/weblogic-kubernetes-operator/tree/master/kubernetes/samples/scripts/create-rcu-credentials/README.md">sample</a>
that demonstrates how to create the secret.  The schema owner user name required will be the
<code>schemaPrefix</code> value followed by an underscore and a component name, such as <code>FMW1_STB</code>.  The schema owner
password will be the password you provided for regular schema users during RCU creation.</p>

<h4 id="creating-an-fmw-infrastructure-domain">Creating an FMW Infrastructure domain</h4>

<p>Now that you have your Docker images and you have created your RCU schemas, you are ready
to create your domain.  We provide a <a href="/weblogic-kubernetes-operator/samples/simple/domains/fmw-domain/">sample</a>
that demonstrates how to create an FMW Infrastructure domain.</p>

<h4 id="patching-the-fmw-infrastructure-image">Patching the FMW Infrastructure image</h4>

<p>There are two kinds of patches that can be applied to the FMW Infrastructure binaries:</p>

<ul>
<li>Patches which are eligible for Zero Downtime Patching (ZDP), meaning that
they can be applied with a rolling restart.</li>
<li>Non-ZDP eligible compliant patches, meaning that the domain must be shut down
and restarted.</li>
</ul>

<p>You can find out whether or not a patch is eligible for Zero Downtime Patching
by consulting the README file that accompanies the patch.</p>

<p>If you wish to apply a ZDP compliant patch which can be applied with a rolling
restart, after you have patched the FMW Infrastructure image as shown in this
<a href="https://github.com/oracle/docker-images/tree/master/OracleFMWInfrastructure/samples/12213-patch">sample</a>,
you can edit the domain custom resource with the name of the new image and
the operator will initiate a rolling restart of the domain.</p>

<p>If you wish to apply a non-ZDP compliant patch to the FMW Infrastructure binary image,
you must shut down the entire domain before applying the patch. Please see the documentation on
<a href="/weblogic-kubernetes-operator/userguide/managing-domains/domain-lifecycle/">domain life cycle operations</a>
for more information.</p>

<p>An example of a non-ZDP compliant patch is one that includes a schema change
that can not be applied dynamically.</p>

<h4 id="additional-considerations-for-coherence">Additional considerations for Coherence</h4>

<p>If you are running a domain which contains Coherence, please refer to
<a href="/weblogic-kubernetes-operator/faq/coherence-requirements/">Coherence requirements</a>
for more information.</p>


<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/weblogic-kubernetes-operator/userguide/managing-domains/domain-in-image/patching/" title="Patching"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/weblogic-kubernetes-operator/userguide/managing-domains/configoverrides/" title="Configuration overrides" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/weblogic-kubernetes-operator/js/clipboard.min.js?1573870366"></script>
    <script src="/weblogic-kubernetes-operator/js/perfect-scrollbar.min.js?1573870366"></script>
    <script src="/weblogic-kubernetes-operator/js/perfect-scrollbar.jquery.min.js?1573870366"></script>
    <script src="/weblogic-kubernetes-operator/js/jquery.sticky.js?1573870366"></script>
    <script src="/weblogic-kubernetes-operator/js/featherlight.min.js?1573870366"></script>
    <script src="/weblogic-kubernetes-operator/js/html5shiv-printshiv.min.js?1573870366"></script>
    <script src="/weblogic-kubernetes-operator/js/highlight.pack.js?1573870366"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/weblogic-kubernetes-operator/js/modernizr.custom.71422.js?1573870366"></script>
    <script src="/weblogic-kubernetes-operator/js/learn.js?1573870366"></script>
    <script src="/weblogic-kubernetes-operator/js/hugo-learn.js?1573870366"></script>

    <link href="/weblogic-kubernetes-operator/mermaid/mermaid.css?1573870366" type="text/css" rel="stylesheet" />
    <script src="/weblogic-kubernetes-operator/mermaid/mermaid.js?1573870366"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>
