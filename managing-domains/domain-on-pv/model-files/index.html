<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.153.0">
    <meta name="generator" content="Relearn 8.3.0">
    <meta name="description" content="Learn about model file requirements, macros, and loading order.">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Working with WDT model files :: WebLogic Kubernetes Operator">
    <meta name="twitter:description" content="Learn about model file requirements, macros, and loading order.">
    <meta property="og:url" content="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/domain-on-pv/model-files/index.html">
    <meta property="og:site_name" content="WebLogic Kubernetes Operator">
    <meta property="og:title" content="Working with WDT model files :: WebLogic Kubernetes Operator">
    <meta property="og:description" content="Learn about model file requirements, macros, and loading order.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Manage domains">
    <meta property="article:published_time" content="2020-03-11T16:45:16-05:00">
    <meta property="article:modified_time" content="2020-03-11T16:45:16-05:00">
    <meta itemprop="name" content="Working with WDT model files :: WebLogic Kubernetes Operator">
    <meta itemprop="description" content="Learn about model file requirements, macros, and loading order.">
    <meta itemprop="datePublished" content="2020-03-11T16:45:16-05:00">
    <meta itemprop="dateModified" content="2020-03-11T16:45:16-05:00">
    <meta itemprop="wordCount" content="1077">
    <title>Working with WDT model files :: WebLogic Kubernetes Operator</title>
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/images/logo.png?1768708277" rel="icon" type="image/png">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/css/auto-complete/auto-complete.min.css?1768708277" rel="stylesheet">
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/auto-complete/auto-complete.min.js?1768708277" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/search-lunr.min.js?1768708277" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/search.min.js?1768708277" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="https://oracle.github.io/weblogic-kubernetes-operator/searchindex.en.js?1768708277";
    </script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/lunr/lunr.min.js?1768708277" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/lunr/lunr.stemmer.support.min.js?1768708277" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/lunr/lunr.multi.min.js?1768708277" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/lunr/lunr.en.min.js?1768708277" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/fonts/fontawesome/css/fontawesome-all.min.css?1768708277" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://oracle.github.io/weblogic-kubernetes-operator/fonts/fontawesome/css/fontawesome-all.min.css?1768708277" rel="stylesheet"></noscript>
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/css/perfect-scrollbar/perfect-scrollbar.min.css?1768708277" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/css/theme.min.css?1768708277" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/css/format-html.min.css?1768708277" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/managing-domains\/domain-on-pv\/model-files\/index.html';
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='https:\/\/oracle.github.io\/weblogic-kubernetes-operator';
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy text to clipboard`;
      window.T_Copied_to_clipboard = `Text copied to clipboard!`;
      window.T_Link_copied_to_clipboard = `Link copied to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      window.T_Browser_unsupported_feature = `This browser doesn't support this feature`;
      // variant stuff
      window.relearn.themevariants = [ 'learn' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
  </head>
  <body class="mobile-support html" data-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/domain-on-pv/model-files/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button></span>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#sample-wdt-model-file-with-macros">Sample WDT model file with macros</a></li>
    <li><a href="#important-notes-about-wdt-model-files">Important notes about WDT model files</a></li>
    <li><a href="#wdt-models-source-location-and-loading-order">WDT models source location and loading order</a></li>
    <li><a href="#model-file-macros">Model file macros</a>
      <ul>
        <li><a href="#using-secrets-in-model-files">Using secrets in model files</a></li>
        <li><a href="#using-environment-variables-in-model-files">Using environment variables in model files</a></li>
        <li><a href="#combining-secrets-and-environment-variables-in-model-files">Combining secrets and environment variables in model files</a></li>
      </ul>
    </li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="https://oracle.github.io/weblogic-kubernetes-operator/index.html"><span itemprop="name">WebLogic Kubernetes Operator</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/index.html"><span itemprop="name">Manage domains</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/domain-on-pv/index.html"><span itemprop="name">Domain on Persistent Volume (PV)</span></a><meta itemprop="position" content="3">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">Working with WDT model files</span><meta itemprop="position" content="4"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/domain-on-pv/domain-creation-images/index.html" title="Domain creation images (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/domain-on-pv/jrf-domain/index.html" title="JRF domains (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable managing-domains" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>



<h1 id="working-with-wdt-model-files">Working with WDT model files</h1>



<h3 id="contents">Contents</h3>
<div class="toc"><nav id="TableOfContents">
  <ul>
    <li><a href="#sample-wdt-model-file-with-macros">Sample WDT model file with macros</a></li>
    <li><a href="#important-notes-about-wdt-model-files">Important notes about WDT model files</a></li>
    <li><a href="#wdt-models-source-location-and-loading-order">WDT models source location and loading order</a></li>
    <li><a href="#model-file-macros">Model file macros</a>
      <ul>
        <li><a href="#using-secrets-in-model-files">Using secrets in model files</a></li>
        <li><a href="#using-environment-variables-in-model-files">Using environment variables in model files</a></li>
        <li><a href="#combining-secrets-and-environment-variables-in-model-files">Combining secrets and environment variables in model files</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
<p>This document describes working with WebLogic Deploy Tooling (WDT) model files in the operator.
For additional information, see the 

<a href="https://oracle.github.io/weblogic-deploy-tooling/"
   
   
target="_blank" rel="noopener noreferrer"
>
WebLogic Deploy Tooling
</a>
 documentation.</p>

<details open class="box cstyle notices tip">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-lightbulb"></i> 
    Tip
  </summary>
  <div class="box-content">
<p>The WDT 

<a href="https://oracle.github.io/weblogic-deploy-tooling/userguide/tools/discover/"
   
   
target="_blank" rel="noopener noreferrer"
>
Discover Domain Tool
</a>
 is particularly useful for generating WDT model files from an existing domain home.</p>
  </div>
</details>
<h3 id="sample-wdt-model-file-with-macros">Sample WDT model file with macros<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>Here&rsquo;s an example of a WDT model YAML file describing a domain.  For detailed information, see 

<a href="https://oracle.github.io/weblogic-deploy-tooling/concepts/model/"
   
   
target="_blank" rel="noopener noreferrer"
>
Metadata model
</a>
.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">domainInfo</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">AdminUserName</span>: <span style="color:#e6db74">&#39;@@SECRET:__weblogic-credentials__:username@@&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">AdminPassword</span>: <span style="color:#e6db74">&#39;@@SECRET:__weblogic-credentials__:password@@&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">RCUDbInfo</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">rcu_prefix</span>: <span style="color:#e6db74">&#39;@@SECRET:@@ENV:DOMAIN_UID@@-rcu-access:rcu_prefix@@&#39;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">rcu_schema_password</span>: <span style="color:#e6db74">&#39;@@SECRET:@@ENV:DOMAIN_UID@@-rcu-access:rcu_schema_password@@&#39;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">rcu_db_conn_string</span>: <span style="color:#e6db74">&#39;@@SECRET:@@ENV:DOMAIN_UID@@-rcu-access:rcu_db_conn_string@@&#39;</span>  
</span></span><span style="display:flex;"><span><span style="color:#f92672">topology</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Name</span>: <span style="color:#e6db74">&#39;@@ENV:DOMAIN_UID@@&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">AdminServerName</span>: <span style="color:#e6db74">&#34;admin-server&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Cluster</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;cluster-1&#34;</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ae81ff">...</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">resources</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">...</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">appDeployments</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Application</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">myear</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">SourcePath</span>: <span style="color:#ae81ff">wlsdeploy/applications/sample_app.ear</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">ModuleType</span>: <span style="color:#ae81ff">ear</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">Target</span>: <span style="color:#e6db74">&#39;cluster-1&#39;</span></span></span></code></pre></div>
<p>This sample model file has four sections:</p>
<table>
  <thead>
      <tr>
          <th>Section</th>
          <th>Purpose</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>domainInfo</code></td>
          <td>Describes the domain level information.</td>
      </tr>
      <tr>
          <td><code>topology</code></td>
          <td>Describes the topology of the domain.</td>
      </tr>
      <tr>
          <td><code>resources</code></td>
          <td>Describes the J2EE resources used in the domain.</td>
      </tr>
      <tr>
          <td><code>appDeployments</code></td>
          <td>Describes the applications and libraries used in the domain.</td>
      </tr>
  </tbody>
</table>
<p>Notice this value pattern: <code>@@...@@</code>.  These are macros that will be resolved at runtime by WDT in the operator environment.
For a description of model file macro references to secrets and environment variables, see 

<a href="#model-file-macros"
   
   >
Model file macros
</a>
.</p>
<h3 id="important-notes-about-wdt-model-files">Important notes about WDT model files<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<ul>
<li>
<p>Using model file macros:</p>
<ul>
<li>
<p>You can use model macros to reference arbitrary secrets from model files. This is recommended for handling mutable values such as database user names, passwords, and URLs. See 

<a href="#using-secrets-in-model-files"
   
   >
Using secrets in model files
</a>
.</p>
<ul>
<li>
<p>All password fields in a model should use a secret macro. Passwords should not be directly included in property or model files because the files may appear in logs or debugging.</p>
</li>
<li>
<p>Model files encrypted with the WDT 

<a href="https://oracle.github.io/weblogic-deploy-tooling/userguide/tools/encrypt/"
   
   
target="_blank" rel="noopener noreferrer"
>
Encrypt Model Tool
</a>
 are not supported. Use secrets instead.</p>
</li>
</ul>
</li>
<li>
<p>You can use model macros to reference arbitrary environment variables from model files. This is useful for handling plain text mutable values that you can define using an <code>env</code> stanza in your Domain YAML file, and is also useful for accessing the built in <code>DOMAIN_UID</code> environment variable. See 

<a href="#using-environment-variables-in-model-files"
   
   >
Using environment variables in model files
</a>
.</p>
</li>
<li>
<p>For most models, it&rsquo;s useful to minimize or eliminate the usage of model variable files (also known as property files) and use secrets or environment variables instead.</p>
</li>
</ul>
</li>
<li>
<p>You can control the order that WDT uses to load your model files, see 

<a href="#wdt-models-source-location-and-loading-order"
   
   >
WDT models location and loading order
</a>
.</p>
</li>
</ul>
<h3 id="wdt-models-source-location-and-loading-order">WDT models source location and loading order<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>Refer to this section if you need to control the order in which your model files are loaded.  The order is important when two or more model files refer to the same configuration, because the last model that&rsquo;s loaded has the highest precedence.</p>
<p>During domain home creation, model and property files are first loaded from the models image and then from the optional
WDT ConfigMap.</p>
<table>
  <thead>
      <tr>
          <th>Domain deployment model</th>
          <th>Models image source specification</th>
          <th>Optional WDT ConfigMap specification</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Model in Image</td>
          <td><code>domain.spec.image</code> or <code>domain.spec.configuration.model.auxiliaryImages</code></td>
          <td><code>domain.spec.configuration.model.configMap</code></td>
      </tr>
      <tr>
          <td>Domain on PV</td>
          <td><code>domain.spec.configuration.initializeDomainOnPV.domain.domainCreationImages</code></td>
          <td><code>domain.spec.configuration.initializeDomainOnPV.domain.domainCreationConfigMap</code></td>
      </tr>
  </tbody>
</table>
<p>The loading order within each of these locations is first determined using the convention <code>filename.##.yaml</code> and <code>filename.##.properties</code>, where <code>##</code> are digits that specify the desired order when sorted numerically. Additional details:</p>
<ul>
<li>Embedding a <code>.##.</code> in a file name is optional.
<ul>
<li>When present, it must be placed just before the <code>properties</code> or <code>yaml</code> extension in order for it to take precedence over alphabetical precedence.</li>
<li>The precedence of file names that include more than one <code>.##.</code> is undefined.</li>
<li>The number can be any integer greater than or equal to zero.</li>
</ul>
</li>
<li>File names that don&rsquo;t include <code>.##.</code> sort <em>before</em> other files as if they implicitly have the lowest possible <code>.##.</code></li>
<li>If two files share the same number, the loading order is determined alphabetically as a tie-breaker.</li>
</ul>
<p>After all the models are sorted, the operator will create a comma-separated list and this is passed to the WDT <code>create domain</code> command:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>  /u01/wdt/models/model1.yaml,/u01/wdt/models/model2.yaml,/weblogic-operator/wdt-config-map/modela.yaml,/weblogic-operator/wdt-config-maap/mdoelb.yaml</code></pre></div>
<p>Internally, the WDT <code>create</code> command will first merge all the model files into a single model file and resolve all the macros before processing the model
to create the domain.  The final merged model must be valid, both syntactically and semantically.  If
the deployment model is Model in Image, then the merged model is saved internally.</p>
<p><strong>NOTE</strong>: If the WDT model files in the image source are supplied by combining multiple images ,
then the files in this directory are populated according to their


<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/model-in-image/auxiliary-images/#multiple-images"
   
   >
Merge order
</a>

before the loading order is determined.</p>
<p>For example, if you have these files in the model home directory:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>jdbc.20.yaml
main-model.10.yaml
my-model.10.yaml
y.yaml  </code></pre></div>
<p>And, you have these files in the ConfigMap:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>jdbc-dev-urlprops.10.yaml
z.yaml</code></pre></div>
<p>Then the combined model files list is passed to WebLogic Deploy Tooling as:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>y.yaml,main-model.10.yaml,my-model.10.yaml,jdbc.20.yaml,z.yaml,jdbc-dev-urlprops.10.yaml</code></pre></div>
<p>Property files (ending in <code>.properties</code>) use the same sorting algorithm, but they are appended together into a single file prior to passing them to the WebLogic Deploy Tooling.</p>
<h3 id="model-file-macros">Model file macros<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>WDT models can have macros that reference secrets or environment variables.</p>
<h4 id="using-secrets-in-model-files">Using secrets in model files<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<p>You can use WDT model <code>@@SECRET</code> macros to reference the WebLogic administrator <code>username</code> and <code>password</code> keys that are stored in a Kubernetes Secret and to optionally reference additional secrets. Here is the macro pattern for accessing these secrets:</p>
<table>
  <thead>
      <tr>
          <th>Domain Resource Attribute</th>
          <th>Corresponding WDT Model <code>@@SECRET</code> Macro</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>webLogicCredentialsSecret</code></td>
          <td><code>@@SECRET:__weblogic-credentials__:username@@</code> and <code>@@SECRET:__weblogic-credentials__:password@@</code></td>
      </tr>
      <tr>
          <td><code>configuration.secrets</code></td>
          <td><code>@@SECRET:mysecret:mykey@@</code></td>
      </tr>
  </tbody>
</table>
<p>For example, you can reference the WebLogic credential user name using <code>@@SECRET:__weblogic-credentials__:username@@</code>, and you can reference a custom secret <code>mysecret</code> with key <code>mykey</code> using <code>@@SECRET:mysecret:mykey@@</code>.</p>
<p>Any secrets that are referenced by an <code>@@SECRET</code> macro must be deployed to the same namespace as your Domain, and must be referenced in your Domain YAML file using the <code>weblogicCredentialsSecret</code> and <code>configuration.secrets</code> fields.</p>
<p>Here&rsquo;s a sample snippet from a Domain YAML file that sets a <code>webLogicCredentialsSecret</code> and two custom secrets <code>my-custom-secret1</code> and <code>my-custom-secret2</code>.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">webLogicCredentialsSecret</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">my-weblogic-credentials-secret</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">configuration</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">secrets</span>: [ <span style="color:#ae81ff">my-custom-secret1,my-custom-secret2 ]</span>
</span></span><span style="display:flex;"><span>...</span></span></code></pre></div>
<h4 id="using-environment-variables-in-model-files">Using environment variables in model files<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<p>You can reference operator environment variables in model files. This includes any that you define yourself in your
Domain YAML file using <code>domain.spec.serverPod.env</code> or <code>domain.spec.adminServer.serverPod.env</code>, or the built-in <code>DOMAIN_UID</code> environment variable.</p>
<p>For example, the <code>@@ENV:DOMAIN_UID@@</code> macro resolves to the current domain&rsquo;s domain UID.</p>
<h4 id="combining-secrets-and-environment-variables-in-model-files">Combining secrets and environment variables in model files<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<p>You can embed an environment variable macro in a secret macro. This is useful for referencing secrets that you&rsquo;ve named based on your domain&rsquo;s <code>domainUID</code>.</p>
<p>For example, if your <code>domainUID</code> is <code>domain1</code>, then the macro <code>@@SECRET:@@ENV:DOMAIN_UID@@-super-double-secret:mykey@@</code> resolves to the value stored in <code>mykey</code> for secret <code>domain1-super-double-secret</code>.</p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">


<a id="logo" href="https://oracle.github.io/weblogic-kubernetes-operator/">
  <img src="https://oracle.github.io/weblogic-kubernetes-operator//images/logo.png" height="90"><br/>
  WebLogic Kubernetes Operator
</a>

        </div>
        <search><form action="https://oracle.github.io/weblogic-kubernetes-operator/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks">
          <ul class="space collapsible-menu">
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/quickstart/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/quickstart/index.html"><b> </b>Quick Start</a><ul id="R-subsections-d63193e927818b6cb77d9c791ea48a61" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/introduction/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/introduction/index.html"><b> </b>Introduction</a><ul id="R-subsections-e1ed3a04f1f57a27be4a8d0eb274be18" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/index.html"><b> </b>Manage operators</a><ul id="R-subsections-7d4cf64999b86ce8197c0bc43769472c" class="collapsible-menu"></ul></li>
            <li class="parent " data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/index.html">Manage domains</a><ul id="R-subsections-45a55625d0c34b621eb1935c75fae249" class="collapsible-menu">
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/manage-domains/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/manage-domains/index.html">About WebLogic domains</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/choosing-a-model/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/choosing-a-model/index.html">Choose a domain home source type</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/domain-resource/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/domain-resource/index.html"><b> </b>Domain and Cluster resources</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/upgrade-domain-resource/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/upgrade-domain-resource/index.html"><b> </b>Upgrade Domain resource</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/prepare/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/prepare/index.html">Prepare to run a domain</a></li>
            <li class="alwaysopen " data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/major-weblogic-version-upgrade/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/major-weblogic-version-upgrade/index.html"><b> </b>Upgrade managed domains</a><ul id="R-subsections-ccbca7935ed481eeab6222c998578048" class="collapsible-menu"></ul></li>
            <li class="parent alwaysopen " data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/domain-on-pv/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/domain-on-pv/index.html"><b> </b>Domain on Persistent Volume (PV)</a><ul id="R-subsections-d40ed8eea8326dbcd46326f7659b3e4f" class="collapsible-menu">
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/domain-on-pv/overview/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/domain-on-pv/overview/index.html"><b> </b>Overview</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/domain-on-pv/usage/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/domain-on-pv/usage/index.html"><b> </b>Usage</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/domain-on-pv/domain-creation-images/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/domain-on-pv/domain-creation-images/index.html"><b> </b>Domain creation images</a></li>
            <li class="active " data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/domain-on-pv/model-files/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/domain-on-pv/model-files/index.html"><b> </b>Working with WDT model files</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/domain-on-pv/jrf-domain/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/domain-on-pv/jrf-domain/index.html"><b> </b>JRF domains</a></li></ul></li>
            <li class="alwaysopen " data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/model-in-image/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/model-in-image/index.html"><b> </b>Model in Image</a><ul id="R-subsections-d9db9d9e38880e56d7ba5514a8527a97" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/configoverrides/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/configoverrides/index.html"><b> </b>Configuration overrides</a></li>
            <li class="alwaysopen " data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/persistent-storage/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/persistent-storage/index.html"><b> </b>Persistent storage</a><ul id="R-subsections-661be2f02fd0ae2ad3377779776a4545" class="collapsible-menu"></ul></li>
            <li class="alwaysopen " data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/accessing-the-domain/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/accessing-the-domain/index.html"><b> </b>Access and monitor domains</a><ul id="R-subsections-5f509e3b856bccb56052229a523c07b3" class="collapsible-menu"></ul></li>
            <li class="alwaysopen " data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/domain-lifecycle/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/domain-lifecycle/index.html"><b> </b>Domain life cycle</a><ul id="R-subsections-47783ab45f0ad76897c1eb1a21f9e6e7" class="collapsible-menu"></ul></li>
            <li class="alwaysopen " data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/cicd/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/cicd/index.html">CI/CD considerations</a><ul id="R-subsections-8802c993ce14e9bb7903113fc1be4858" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/managing-fmw-domains/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/managing-fmw-domains/index.html">Manage FMW Infrastructure domains</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/aks/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/aks/index.html">Azure Kubernetes Service (AKS)</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/debugging/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/debugging/index.html"><b> </b>Domain debugging</a></li></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/base-images/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/base-images/index.html"><b> </b>WebLogic images</a><ul id="R-subsections-b3440c9f2ce961fe2579290479f05e53" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/index.html"><b> </b>Samples</a><ul id="R-subsections-88c2b1e6419b221ce89c4be4a8ae2a6b" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/developerguide/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/developerguide/index.html"><b> </b>Developer Guide</a><ul id="R-subsections-6d5a8d333894e1a8a4ced31c7a69170c" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/reference/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/reference/index.html"><b> </b>Reference</a><ul id="R-subsections-66002f201bef818664bb81aa67490c58" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/security/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/security/index.html"><b> </b>Security</a><ul id="R-subsections-66815ecaaecfc1c209e5637d03b258b2" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/faq/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/faq/index.html">Frequently asked questions</a><ul id="R-subsections-24e4fc446616bf2bbeac7b1dba804bb8" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/deprecated-functionality/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/deprecated-functionality/index.html">Deprecated functionality</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/known-limitations/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/known-limitations/index.html">Known limitations</a></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div id="R-footer-margin"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols">
          <ul class="">
          </ul>
        </div>
<div id="R-footer">

<p>Created with <i class="fas fa-heart"></i> from <a href="https://www.oracle.com">Oracle</a></p>
<p>&nbsp</p>
<p><a href="https://github.com/oracle/weblogic-kubernetes-operator"><i class="fab fa-github"></i> GitHub repo</a></p>
<p><a href="https://join.slack.com/t/oracle-weblogic/shared_invite/zt-1ni1gtjv6-PGC6CQ4uIte3KBdm_67~aQ"><i class="fab fa-slack"></i> Public Slack #weblogic</a></p>
</div>
      </div>
    </aside>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/perfect-scrollbar/perfect-scrollbar.min.js?1768708277" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/theme.min.js?1768708277" defer></script>
    <div id="toast-container" role="status" aria-live="polite" aria-atomic="false"></div>
  </body>
</html>
