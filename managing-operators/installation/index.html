<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.153.0">
    <meta name="generator" content="Relearn 8.3.0">
    <meta name="description" content="How to install, upgrade, and uninstall the operator.">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Installation and upgrade :: WebLogic Kubernetes Operator">
    <meta name="twitter:description" content="How to install, upgrade, and uninstall the operator.">
    <meta property="og:url" content="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/installation/index.html">
    <meta property="og:site_name" content="WebLogic Kubernetes Operator">
    <meta property="og:title" content="Installation and upgrade :: WebLogic Kubernetes Operator">
    <meta property="og:description" content="How to install, upgrade, and uninstall the operator.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Manage operators">
    <meta property="article:published_time" content="2019-02-23T16:47:21-05:00">
    <meta property="article:modified_time" content="2019-02-23T16:47:21-05:00">
    <meta itemprop="name" content="Installation and upgrade :: WebLogic Kubernetes Operator">
    <meta itemprop="description" content="How to install, upgrade, and uninstall the operator.">
    <meta itemprop="datePublished" content="2019-02-23T16:47:21-05:00">
    <meta itemprop="dateModified" content="2019-02-23T16:47:21-05:00">
    <meta itemprop="wordCount" content="1655">
    <title>Installation and upgrade :: WebLogic Kubernetes Operator</title>
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/images/logo.png?1769659016" rel="icon" type="image/png">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/css/auto-complete/auto-complete.min.css?1769659016" rel="stylesheet">
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/auto-complete/auto-complete.min.js?1769659016" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/search-lunr.min.js?1769659016" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/search.min.js?1769659016" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="https://oracle.github.io/weblogic-kubernetes-operator/searchindex.en.js?1769659016";
    </script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/lunr/lunr.min.js?1769659016" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/lunr/lunr.stemmer.support.min.js?1769659016" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/lunr/lunr.multi.min.js?1769659016" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/lunr/lunr.en.min.js?1769659016" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/fonts/fontawesome/css/fontawesome-all.min.css?1769659016" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://oracle.github.io/weblogic-kubernetes-operator/fonts/fontawesome/css/fontawesome-all.min.css?1769659016" rel="stylesheet"></noscript>
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/css/perfect-scrollbar/perfect-scrollbar.min.css?1769659016" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/css/theme.min.css?1769659016" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/css/format-html.min.css?1769659016" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/managing-operators\/installation\/index.html';
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..';
      window.relearn.absBaseUri='https:\/\/oracle.github.io\/weblogic-kubernetes-operator';
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy text to clipboard`;
      window.T_Copied_to_clipboard = `Text copied to clipboard!`;
      window.T_Link_copied_to_clipboard = `Link copied to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      window.T_Browser_unsupported_feature = `This browser doesn't support this feature`;
      // variant stuff
      window.relearn.themevariants = [ 'learn' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
  </head>
  <body class="mobile-support html" data-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/installation/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button></span>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#install-the-operator">Install the operator</a></li>
    <li><a href="#install-the-weblogic-domain-resource-conversion-webhook">Install the WebLogic domain resource conversion webhook</a></li>
    <li><a href="#set-up-domain-namespaces">Set up domain namespaces</a></li>
    <li><a href="#update-a-running-operator">Update a running operator</a></li>
    <li><a href="#upgrade-the-operator">Upgrade the operator</a></li>
    <li><a href="#uninstall-the-operator">Uninstall the operator</a></li>
    <li><a href="#installation-sample">Installation sample</a></li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="https://oracle.github.io/weblogic-kubernetes-operator/index.html"><span itemprop="name">WebLogic Kubernetes Operator</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/index.html"><span itemprop="name">Manage operators</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">Installation and upgrade</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/preparation/index.html" title="Prepare for installation (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/conversion-webhook/index.html" title="Upgrade operator from version 3.x to 4.x (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable managing-operators" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>



<h1 id="installation-and-upgrade">Installation and upgrade</h1>



<h3 id="contents">Contents</h3>
<div class="toc"><nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#install-the-operator">Install the operator</a></li>
    <li><a href="#install-the-weblogic-domain-resource-conversion-webhook">Install the WebLogic domain resource conversion webhook</a></li>
    <li><a href="#set-up-domain-namespaces">Set up domain namespaces</a></li>
    <li><a href="#update-a-running-operator">Update a running operator</a></li>
    <li><a href="#upgrade-the-operator">Upgrade the operator</a></li>
    <li><a href="#uninstall-the-operator">Uninstall the operator</a></li>
    <li><a href="#installation-sample">Installation sample</a></li>
  </ul>
</nav></div>
<h3 id="introduction">Introduction<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>This installation guide describes how to configure, install (deploy), update, upgrade,
and uninstall an instance of the WebLogic Kubernetes Operator.
A single instance is capable of managing multiple domains in multiple namespaces, depending on how it is configured.
A Kubernetes cluster can host multiple operators, but no more than one per namespace.</p>
<h3 id="install-the-operator">Install the operator<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>

<details open class="box cstyle notices note">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-circle"></i> 
    Note
  </summary>
  <div class="box-content">
<p>Before installing the operator, ensure that each of its prerequisite requirements is met.
See 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/preparation/"
   
   >
Prepare for installation
</a>
.</p>
  </div>
</details>

<details open class="box cstyle notices note">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-circle"></i> 
    Note
  </summary>
  <div class="box-content">
<p>By default, installing the operator also configures a deployment and supporting resources for the


<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/conversion-webhook/"
   
   >
conversion webhook
</a>

and deploys the conversion webhook. The conversion webhook deployment is required for operator version 4.x.
When a conversion webhook is already installed, skip the conversion webhook installation by setting
the Helm configuration value <code>operatorOnly</code> to <code>true</code> in the <code>helm install</code> command.
For more details, see 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/conversion-webhook/#install-the-conversion-webhook"
   
   >
install the conversion webhook
</a>
.</p>
  </div>
</details>
<p>After meeting the 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/preparation/"
   
   >
prerequisite requirements
</a>
,
install the operator using the <code>helm install</code> command with the operator Helm chart according
to the following instructions.</p>
<p>Minimally you should specify:</p>
<ul>
<li>A Helm &ldquo;release&rdquo; name for the operator</li>
<li>The Helm chart location</li>
<li>The operator namespace</li>
<li>The platform (if required)</li>
<li>The namespace selection settings</li>
</ul>
<p>A typical Helm release name is <code>weblogic-operator</code>.
The operator samples and documentation
often use <code>sample-weblogic-operator</code>.</p>
<p>You can override default configuration values in the Helm chart by doing one of the following:</p>
<ul>
<li>Creating a custom YAML file containing the values to be overridden,
and specifying the <code>--value</code> option on the Helm command line.</li>
<li>Overriding individual values directly on the Helm command line,
using the <code>--set</code> option.</li>
</ul>
<p>You supply the <code>--namespace</code> argument from the <code>helm install</code> command line
to specify the namespace in which the operator will be installed.
If not specified, then it defaults to <code>default</code>.
If the namespace does not already exist, then Helm will automatically create it
(and Kubernetes will create a <code>default</code> service account in the new namespace),
but note that Helm will not remove the namespace or service account when the release is uninstalled.
If the namespace already exists, then Helm will use it. These are standard Helm behaviors.</p>
<p>Similarly, you may override the default <code>serviceAccount</code> configuration value
to specify a service account in the operator&rsquo;s namespace that the operator will use.
For common use cases, the namespace <code>default</code> service account is sufficient.
If you want to use a different service account (recommended),
then you must create the operator&rsquo;s namespace
and the service account before installing the operator Helm chart
(for instructions, see 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/preparation/#prepare-an-operator-namespace-and-service-account"
   
   >
Prepare for installation
</a>
).</p>
<p>For example, using Helm 3.x, with the following settings:</p>
<table>
  <thead>
      <tr>
          <th>Setting</th>
          <th>Value and Notes</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Helm release name</td>
          <td><code>sample-weblogic-operator</code> (you may choose any name)</td>
      </tr>
      <tr>
          <td>Helm chart repo URL</td>
          <td><code>https://oracle.github.io/weblogic-kubernetes-operator/charts</code></td>
      </tr>
      <tr>
          <td>Helm chart repo name</td>
          <td><code>weblogic-operator</code></td>
      </tr>
      <tr>
          <td><code>namespace</code></td>
          <td><code>sample-weblogic-operator-ns</code></td>
      </tr>
  </tbody>
</table>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>$ kubectl create namespace sample-weblogic-operator-ns</span></span></code></pre></div>
<p>Access the operator Helm chart using this format: <code>helm repo add &lt;helm-chart-repo-name&gt; &lt;helm-chart-repo-url&gt;</code>.
Each version of the Helm chart defaults to using an operator image from the matching version.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>$ helm repo add weblogic-operator https://oracle.github.io/weblogic-kubernetes-operator/charts --force-update Â </span></span></code></pre></div>
<ul>
<li>
<p>To get information about the operator Helm chart, use the <code>helm show</code> command with this format: <code>helm show &lt;helm-chart-repo-name&gt;/weblogic-operator</code>.
For example, with an operator Helm chart where the repository is named <code>weblogic-operator</code>:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>$ helm show chart weblogic-operator/weblogic-operator
</span></span><span style="display:flex;"><span>$ helm show values weblogic-operator/weblogic-operator</span></span></code></pre></div>
</li>
<li>
<p>To list the versions of the operator that you can install from the Helm chart repository:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>$ helm search repo weblogic-operator/weblogic-operator --versions</span></span></code></pre></div>
</li>
<li>
<p>For a specified version of the Helm chart and operator, use the <code>--version &lt;value&gt;</code> option with <code>helm install</code>
to choose the version that you want, with the <code>latest</code> value being the default.</p>
</li>
</ul>
<p>Install the operator using this format: <code>helm install &lt;helm-release-name&gt; &lt;helm-chart-repo-name&gt;/weblogic-operator ...</code></p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>$ helm install sample-weblogic-operator \
</span></span><span style="display:flex;"><span>  weblogic-operator/weblogic-operator \
</span></span><span style="display:flex;"><span>  --namespace sample-weblogic-operator-ns \
</span></span><span style="display:flex;"><span>  --wait</span></span></code></pre></div>
<p>This creates a Helm release named <code>sample-weblogic-operator</code>
in the <code>sample-weblogic-operator-ns</code> namespace,
configures a deployment and supporting resources for the operator,
and deploys the operator.</p>
<p>You can verify the operator installation by examining the output from the <code>helm install</code> command.</p>
<p>To check if the operator is deployed and running,
see 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/troubleshooting/#check-the-operator-deployment"
   
   >
Troubleshooting
</a>
.</p>
<p><strong>NOTES</strong>:</p>
<ul>
<li>In this example, you have not set the <code>kubernetesPlatform</code>, but this may be required
for your environment.
See 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/preparation/#determine-the-platform-setting"
   
   >
Determine the platform setting
</a>
.</li>
<li>For more information on specifying the registry credentials when the operator image is stored in a private registry, see


<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/preparation/#customizing-operator-image-name-pull-secret-and-private-registry"
   
   >
Customizing operator image name, pull secret, and private registry
</a>
.</li>
<li>Do not include a backslash (<code>\</code>) before the equals sign (<code>=</code>) in a domain namespace label selector
when specifying the selector in a YAML file.
A backslash (<code>\</code>) is only required when specifying the selector on the command line using <code>--set</code>,
as shown in the previous example.</li>
</ul>
<h3 id="install-the-weblogic-domain-resource-conversion-webhook">Install the WebLogic domain resource conversion webhook<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>By default, the WebLogic domain resource conversion webhook is automatically installed the first time an operator is installed in a cluster and removed the first time an operator is uninstalled.</p>
<p><strong>NOTE</strong>: If you are using multiple operators, or want to be able to create or alter domains even when no operators are running, then you will need to fine tune this life cycle.
For conversion webhook installation details, see 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/conversion-webhook/#install-the-conversion-webhook"
   
   >
Install the conversion webhook
</a>
.</p>
<h3 id="set-up-domain-namespaces">Set up domain namespaces<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>To configure or alter the namespaces that an operator will check for domain resources,
see 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/namespace-management/"
   
   >
Namespace management
</a>
.</p>
<h3 id="update-a-running-operator">Update a running operator<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>You can update the settings on a running operator by using the <code>helm upgrade</code> command.</p>
<p>In most use cases, you should specify <code>--reuse-values</code> on the <code>helm upgrade</code> command line
to ensure that the operator continues to use the values that you
have already specified (otherwise the operator
will revert to using the default for all values).</p>
<p>Example updates:</p>
<ul>
<li>Change the image of a running operator; see 

<a href="#upgrade-the-operator"
   
   >
Upgrade the operator
</a>
.</li>
<li>Change the logging level; see 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/troubleshooting/#operator-and-conversion-webhook-logging-level"
   
   >
Operator logging level
</a>
.</li>
<li>Change the managed namespaces; see


<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/namespace-management/"
   
   >
Namespace management
</a>
.</li>
</ul>
<h3 id="upgrade-the-operator">Upgrade the operator<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>You can upgrade a 3.x operator while the operator&rsquo;s domain resources are deployed and running.
The following instructions will be applicable to upgrade operators
as additional versions are released.</p>
<p>When upgrading the operator:</p>
<ul>
<li>Use <code>helm repo add</code> to supply a new version of the Helm chart.</li>
<li>Use the <code>helm upgrade</code> command with the <code>--reuse-values</code> parameter.</li>
<li>Supply a new <code>image</code> value.</li>
</ul>
<p>The rationale for supplying a new <code>image</code> value is because, even with a new version of the Helm chart,
<code>--reuse-values</code> will retain the previous <code>image</code> value from when it was installed.  To upgrade,
you must override the <code>image</code> value to use the new operator image version.</p>
<p><strong>NOTE</strong>: When upgrading a 3.x operator to 4.x, note that the default value of <code>domainNamespaceSelectionStrategy</code>
changed from <code>List</code> to <code>LabelSelector</code>, so you need to label the namespaces that the operator is supposed
to watch, rather than just providing the list of namespaces. For detailed information,
see 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/namespace-management/#check-the-namespaces-that-a-running-operator-manages"
   
   >
Namespace management
</a>
.</p>
<p>For example:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>$ helm repo add weblogic-operator https://oracle.github.io/weblogic-kubernetes-operator/charts --force-update
</span></span><span style="display:flex;"><span>$ helm upgrade sample-weblogic-operator \
</span></span><span style="display:flex;"><span>  weblogic-operator/weblogic-operator \
</span></span><span style="display:flex;"><span>  --reuse-values \
</span></span><span style="display:flex;"><span>  --set image=ghcr.io/oracle/weblogic-kubernetes-operator:4.3.6
 \
</span></span><span style="display:flex;"><span>  --namespace sample-weblogic-operator-ns \
</span></span><span style="display:flex;"><span>  --wait</span></span></code></pre></div>
<p>Upgrading a 3.x operator will <em>not</em> automatically roll
any running WebLogic Server instances created by the original operator. It
is not necessary and such instances will continue to run without interruption
during the upgrade.</p>
<p>When you upgrade a 3.x operator to 4.0, it will also create a
WebLogic Domain resource conversion webhook deployment and its associated resources in the same namespace. If the conversion
webhook deployment already exists in some other namespace, then a new conversion webhook deployment is not created.
The webhook automatically and transparently upgrades the existing Domains from the 3.x schema to the 4.0 schema.
For more information, see


<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/conversion-webhook/"
   
   >
WebLogic Domain resource conversion webhook
</a>
.</p>
<h3 id="uninstall-the-operator">Uninstall the operator<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>

<details open class="box cstyle notices note">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-circle"></i> 
    Note
  </summary>
  <div class="box-content">
<p>If you uninstall an operator, then any domains that it is managing will continue running;
however, any changes to a domain resource that was managed by the operator
will not be detected or automatically handled, and, if you
want to clean up such a domain, then you will need to manually delete
all of the domain&rsquo;s resources (domain, pods, services, and such).</p>
  </div>
</details>
<p>The <code>helm uninstall</code> command is used to remove an operator release
and its associated resources from the Kubernetes cluster.
The Helm release name and namespace used with the <code>helm uninstall</code> command
must be the same release name used with the <code>helm install</code>
command (see 

<a href="#install-the-operator"
   
   >
Install the operator
</a>
).</p>
<p>For example, assuming the Helm release name is <code>sample-weblogic-operator</code>
and the operator namespace is <code>sample-weblogic-operator-ns</code>:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>$ helm uninstall sample-weblogic-operator -n sample-weblogic-operator-ns</span></span></code></pre></div>

<details open class="box cstyle notices note">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-circle"></i> 
    Note
  </summary>
  <div class="box-content">
<p>If the operator&rsquo;s namespace or service account did not exist before the Helm chart was installed,
then Helm will create them during <code>helm install</code>; however, <code>helm uninstall</code> will not remove them.</p>
  </div>
</details>
<p>After removing the operator deployment,
you should also remove the Domain and Cluster custom resource definitions (CRD) if they are no longer needed:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>$ kubectl delete customresourcedefinition domains.weblogic.oracle
</span></span><span style="display:flex;"><span>$ kubectl delete customresourcedefinition clusters.weblogic.oracle</span></span></code></pre></div>
<p>Note that the custom resource definitions are shared.
Do not delete them if there are other operators in the same cluster
or you have running domain resources.</p>
<p>Beginning with operator version 4.0, uninstalling an operator also removes the conversion webhook
deployment and its associated resources by default.
Therefore, if you have multiple operators running, then, by default, an uninstall
of one operator will affect the other operators. The uninstall will not delete the conversion definition
in the domain CRD so you will be unable to create domains using <code>weblogic.oracle/v8</code> schema.
If you want to prevent the uninstall of an operator<br>
from having these side effects, then use one of the following two options:</p>
<ul>
<li>

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/conversion-webhook/#install-the-conversion-webhook"
   
   >
Install the conversion webhook
</a>

in a separate namespace using <code>webhookOnly=true</code> Helm configuration value.</li>
<li>Use the <code>preserveWebhook=true</code> Helm configuration value during operator installation with the <code>helm install</code> command.</li>
</ul>
<p>For more information, see


<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/conversion-webhook/#uninstall-the-conversion-webhook"
   
   >
uninstall the conversion webhook
</a>

for the conversion webhook uninstallation details.</p>
<h3 id="installation-sample">Installation sample<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>For an example of installing the operator,
setting the namespace that it monitors,
deploying a domain resource to its monitored namespace,
and uninstalling the operator,
see the 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/quickstart/"
   
   >
Quick Start
</a>
.</p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">


<a id="logo" href="https://oracle.github.io/weblogic-kubernetes-operator/">
  <img src="https://oracle.github.io/weblogic-kubernetes-operator//images/logo.png" height="90"><br/>
  WebLogic Kubernetes Operator
</a>

        </div>
        <search><form action="https://oracle.github.io/weblogic-kubernetes-operator/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks">
          <ul class="space collapsible-menu">
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/quickstart/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/quickstart/index.html"><b> </b>Quick Start</a><ul id="R-subsections-d63193e927818b6cb77d9c791ea48a61" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/introduction/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/introduction/index.html"><b> </b>Introduction</a><ul id="R-subsections-e1ed3a04f1f57a27be4a8d0eb274be18" class="collapsible-menu"></ul></li>
            <li class="parent " data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/index.html"><b> </b>Manage operators</a><ul id="R-subsections-7d4cf64999b86ce8197c0bc43769472c" class="collapsible-menu">
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/overview/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/overview/index.html">Overview</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/preparation/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/preparation/index.html">Prepare for installation</a></li>
            <li class="active " data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/installation/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/installation/index.html">Installation and upgrade</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/conversion-webhook/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/conversion-webhook/index.html">Upgrade operator from version 3.x to 4.x</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/using-helm/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/using-helm/index.html">Configuration reference</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/namespace-management/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/namespace-management/index.html">Namespace management</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/service-accounts/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/service-accounts/index.html">Service accounts</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/rbac/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/rbac/index.html">RBAC</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/the-rest-api/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/the-rest-api/index.html">REST services</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/k8s-setup/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/k8s-setup/index.html">Set up Kubernetes</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/common-mistakes/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/common-mistakes/index.html">Common mistakes and solutions</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/troubleshooting/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/troubleshooting/index.html">Troubleshooting</a></li></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/index.html">Manage domains</a><ul id="R-subsections-45a55625d0c34b621eb1935c75fae249" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/base-images/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/base-images/index.html"><b> </b>WebLogic images</a><ul id="R-subsections-b3440c9f2ce961fe2579290479f05e53" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/index.html"><b> </b>Samples</a><ul id="R-subsections-88c2b1e6419b221ce89c4be4a8ae2a6b" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/developerguide/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/developerguide/index.html"><b> </b>Developer Guide</a><ul id="R-subsections-6d5a8d333894e1a8a4ced31c7a69170c" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/reference/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/reference/index.html"><b> </b>Reference</a><ul id="R-subsections-66002f201bef818664bb81aa67490c58" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/security/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/security/index.html"><b> </b>Security</a><ul id="R-subsections-66815ecaaecfc1c209e5637d03b258b2" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/faq/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/faq/index.html">Frequently asked questions</a><ul id="R-subsections-24e4fc446616bf2bbeac7b1dba804bb8" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/deprecated-functionality/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/deprecated-functionality/index.html">Deprecated functionality</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/known-limitations/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/known-limitations/index.html">Known limitations</a></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div id="R-footer-margin"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols">
          <ul class="">
          </ul>
        </div>
<div id="R-footer">

<p>Created with <i class="fas fa-heart"></i> from <a href="https://www.oracle.com">Oracle</a></p>
<p>&nbsp</p>
<p><a href="https://github.com/oracle/weblogic-kubernetes-operator"><i class="fab fa-github"></i> GitHub repo</a></p>
<p><a href="https://join.slack.com/t/oracle-weblogic/shared_invite/zt-1ni1gtjv6-PGC6CQ4uIte3KBdm_67~aQ"><i class="fab fa-slack"></i> Public Slack #weblogic</a></p>
</div>
      </div>
    </aside>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/perfect-scrollbar/perfect-scrollbar.min.js?1769659016" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/theme.min.js?1769659016" defer></script>
    <div id="toast-container" role="status" aria-live="polite" aria-atomic="false"></div>
  </body>
</html>
