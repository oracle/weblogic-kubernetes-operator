<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.153.0">
    <meta name="generator" content="Relearn 8.3.0">
    <meta name="description" content="Configure or dynamically change the namespaces that a running operator manages.">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Namespace management :: WebLogic Kubernetes Operator">
    <meta name="twitter:description" content="Configure or dynamically change the namespaces that a running operator manages.">
    <meta property="og:url" content="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/namespace-management/index.html">
    <meta property="og:site_name" content="WebLogic Kubernetes Operator">
    <meta property="og:title" content="Namespace management :: WebLogic Kubernetes Operator">
    <meta property="og:description" content="Configure or dynamically change the namespaces that a running operator manages.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Manage operators">
    <meta property="article:published_time" content="2019-09-19T10:41:32-05:00">
    <meta property="article:modified_time" content="2019-09-19T10:41:32-05:00">
    <meta itemprop="name" content="Namespace management :: WebLogic Kubernetes Operator">
    <meta itemprop="description" content="Configure or dynamically change the namespaces that a running operator manages.">
    <meta itemprop="datePublished" content="2019-09-19T10:41:32-05:00">
    <meta itemprop="dateModified" content="2019-09-19T10:41:32-05:00">
    <meta itemprop="wordCount" content="2010">
    <title>Namespace management :: WebLogic Kubernetes Operator</title>
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/images/logo.png?1771128368" rel="icon" type="image/png">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/css/auto-complete/auto-complete.min.css?1771128368" rel="stylesheet">
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/auto-complete/auto-complete.min.js?1771128368" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/search-lunr.min.js?1771128368" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/search.min.js?1771128368" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="https://oracle.github.io/weblogic-kubernetes-operator/searchindex.en.js?1771128368";
    </script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/lunr/lunr.min.js?1771128368" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/lunr/lunr.stemmer.support.min.js?1771128368" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/lunr/lunr.multi.min.js?1771128368" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/lunr/lunr.en.min.js?1771128368" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/fonts/fontawesome/css/fontawesome-all.min.css?1771128368" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://oracle.github.io/weblogic-kubernetes-operator/fonts/fontawesome/css/fontawesome-all.min.css?1771128368" rel="stylesheet"></noscript>
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/css/perfect-scrollbar/perfect-scrollbar.min.css?1771128368" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/css/theme.min.css?1771128368" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/css/format-html.min.css?1771128368" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/managing-operators\/namespace-management\/index.html';
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..';
      window.relearn.absBaseUri='https:\/\/oracle.github.io\/weblogic-kubernetes-operator';
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy text to clipboard`;
      window.T_Copied_to_clipboard = `Text copied to clipboard!`;
      window.T_Link_copied_to_clipboard = `Link copied to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      window.T_Browser_unsupported_feature = `This browser doesn't support this feature`;
      // variant stuff
      window.relearn.themevariants = [ 'learn' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
  </head>
  <body class="mobile-support html" data-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/namespace-management/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button></span>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#overview">Overview</a></li>
    <li><a href="#choose-a-domain-namespace-selection-strategy">Choose a domain namespace selection strategy</a></li>
    <li><a href="#ensuring-the-operator-has-permission-to-manage-a-namespace">Ensuring the operator has permission to manage a namespace</a></li>
    <li><a href="#check-the-namespaces-that-a-running-operator-manages">Check the namespaces that a running operator manages</a></li>
    <li><a href="#altering-namespaces-for-a-running-operator">Altering namespaces for a running operator</a>
      <ul>
        <li><a href="#add-a-kubernetes-namespace-to-a-running-operator">Add a Kubernetes namespace to a running operator</a></li>
        <li><a href="#delete-a-kubernetes-namespace-from-a-running-operator">Delete a Kubernetes namespace from a running operator</a></li>
        <li><a href="#recreate-a-previously-deleted-kubernetes-namespace-with-a-running-operator">Recreate a previously deleted Kubernetes namespace with a running operator</a></li>
      </ul>
    </li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="https://oracle.github.io/weblogic-kubernetes-operator/index.html"><span itemprop="name">WebLogic Kubernetes Operator</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/index.html"><span itemprop="name">Manage operators</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">Namespace management</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/using-helm/index.html" title="Configuration reference (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/service-accounts/index.html" title="Service accounts (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable managing-operators" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>



<h1 id="namespace-management">Namespace management</h1>



<h3 id="contents">Contents</h3>
<div class="toc"><nav id="TableOfContents">
  <ul>
    <li><a href="#overview">Overview</a></li>
    <li><a href="#choose-a-domain-namespace-selection-strategy">Choose a domain namespace selection strategy</a></li>
    <li><a href="#ensuring-the-operator-has-permission-to-manage-a-namespace">Ensuring the operator has permission to manage a namespace</a></li>
    <li><a href="#check-the-namespaces-that-a-running-operator-manages">Check the namespaces that a running operator manages</a></li>
    <li><a href="#altering-namespaces-for-a-running-operator">Altering namespaces for a running operator</a>
      <ul>
        <li><a href="#add-a-kubernetes-namespace-to-a-running-operator">Add a Kubernetes namespace to a running operator</a></li>
        <li><a href="#delete-a-kubernetes-namespace-from-a-running-operator">Delete a Kubernetes namespace from a running operator</a></li>
        <li><a href="#recreate-a-previously-deleted-kubernetes-namespace-with-a-running-operator">Recreate a previously deleted Kubernetes namespace with a running operator</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
<h3 id="overview">Overview<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>An operator deployment must be configured to manage Kubernetes namespaces,
and a number of Kubernetes resources
must be present in a namespace before any WebLogic Server instances can be successfully
started by operator. These Kubernetes resources are created either as part of the installation
of the operator&rsquo;s Helm chart, or are created by the operator.</p>
<p>An operator can manage all WebLogic domains in all namespaces in a Kubernetes cluster,
or only manage domains in a specific subset of the namespaces,
or manage only the domains that are located in the same namespace as the operator.
You can change the namespaces that an operator deployment manages while the operator is still running.
You can also create and prepare a namespace for the operator to manage while the operator is still running.</p>
<ul>
<li>For considerations for configuring which namespaces an operator manages,
see 

<a href="#choose-a-domain-namespace-selection-strategy"
   
   >
Choose a domain namespace selection strategy
</a>
,</li>
<li>For some considerations to be aware of when
you manage the namespaces while the operator is running,
see 

<a href="#altering-namespaces-for-a-running-operator"
   
   >
Altering namespaces for a running operator
</a>
.</li>
<li>For namespace management information that is external to this document,
see 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/using-helm/#weblogic-domain-management"
   
   >
WebLogic domain management
</a>

and 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/common-mistakes/"
   
   >
Common mistakes and solutions
</a>
.</li>
</ul>

<details open class="box cstyle notices warning">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-triangle"></i> 
    Warning
  </summary>
  <div class="box-content">
<p>There can be multiple operators in a Kubernetes cluster,
and in that case,
you must ensure that the namespaces managed by these operators do not overlap.
<em>At most, a namespace can be managed by one operator.</em></p>
  </div>
</details>
<h3 id="choose-a-domain-namespace-selection-strategy">Choose a domain namespace selection strategy<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>An operator can manage domain resources in multiple namespaces,
including its own namespace,
but two operators cannot manage domains that are in the same namespace.
The operator installation Helm chart


<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/using-helm/#domainnamespaceselectionstrategy"
   
   >
domainNamespaceSelectionStrategy
</a>

configuration setting controls which namespaces an operator manages.</p>
<table>
  <thead>
      <tr>
          <th>Strategy</th>
          <th>Description</th>
          <th>Example</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>LabelSelector</code></td>
          <td>This is the default. The operator will manage namespaces with Kubernetes labels that match the label selector defined by your Helm chart configuration <code>domainNamespaceLabelSelector</code> attribute, which defaults to <code>weblogic-operator=enabled</code>.</td>
          <td>With the Helm chart defaults, the operator will manage namespaces that have a label named <code>weblogic-operator</code> when this label has the value <code>enabled</code>. You can label the namespace <code>sample-domain1-ns</code> using the command <code>kubectl label namespace sample-domain1-ns weblogic-operator=enabled</code>. You can define a different label selector for your operator installation using the <code>domainNamespaceLabelSelector</code>, such as <code>--set &quot;domainNamespaceLabelSelector=environment\=prod&quot;</code>. For detailed syntax requirements, see 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/using-helm/#domainnamespacelabelselector"
   
   >
domainNamespaceLabelSelector
</a>
 in the Configuration Reference.</td>
      </tr>
      <tr>
          <td><code>RegExp</code></td>
          <td>The operator will manage namespaces that match the regular expression set by your <code>domainNamespaceRegExp</code> Helm chart configuration attribute.</td>
          <td>If you want an operator to manage namespaces that start with the string <code>prod</code>, then use <code>--set &quot;domainNamespaceSelectionStrategy=RegExp&quot;</code> for your operator Helm configuration setting, and set the <code>domainNamespaceRegExp</code> Helm chart configuration attribute using <code>--set &quot;domainNamespaceRegExp=^prod&quot;</code>.</td>
      </tr>
      <tr>
          <td><code>Dedicated</code></td>
          <td>The operator will manage only domains that are in the same namespace as the operator.</td>
          <td>If the operator is deployed to namespace <code>my-operator-ns</code> and was installed using <code>--set &quot;domainNamespaceSelectionStrategy=Dedicated&quot;</code> in its Helm chart configuration, then the operator will manage only domains in the <code>my-operator-ns</code> namespace. Customers often choose this strategy if a third-party or infrastructure team manages the Kubernetes cluster and the team installing the operator, such as an applications team, will have privilege only within one namespace. For more details on this use case, see 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/preparation/#any-namespace-with-cluster-role-binding-disabled"
   
   >
Local namespace only with cluster role binding disabled
</a>
.</td>
      </tr>
      <tr>
          <td><code>List</code></td>
          <td>The operator will manage the namespaces included in the <code>domainNamespaces</code> operator installation Helm chart configuration value, which is a list that defaults to <code>{default}</code>.</td>
          <td>If you want to manage namespaces <code>default</code> and <code>ns1</code>, then in your operator installation Helm chart configuration, use <code>--set &quot;domainNamespaceSelectionStrategy=List&quot;</code> and <code>--set &quot;domainNamespaces={default,ns1}&quot;</code>.</td>
      </tr>
  </tbody>
</table>
<p>For detailed reference information about each setting,
see 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/using-helm/#weblogic-domain-management"
   
   >
WebLogic domain management
</a>
.</p>
<p><strong>NOTES</strong>:</p>
<ul>
<li>Your security strategy may determine which namespace strategy you should choose,
see 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/preparation/#choose-a-security-strategy"
   
   >
Choose a security strategy
</a>
.</li>
<li>As has been noted previously,
two operators cannot manage domains that are in the same namespace.
If two operators are configured to manage the same namespace,
then their behavior is undefined
but it is likely that the second operator installation will
deploy a <code>FAILED</code> Helm release and generate an error similar to
<code>Error: release op2 failed: rolebindings.rbac.authorization.k8s.io &quot;weblogic-operator-rolebinding-namespace&quot; already exists</code>.</li>
<li>For more information about ensuring an operator has permission to manage a namespace,
see 

<a href="#ensuring-the-operator-has-permission-to-manage-a-namespace"
   
   >
Ensuring the operator has permission to manage a namespace
</a>
.</li>
<li>For more information about listing, adding, deleting, or recreating the namespaces
that an already running operator manages,
see 

<a href="#altering-namespaces-for-a-running-operator"
   
   >
Altering namespaces for a running operator
</a>
.</li>
<li>For more information about common namespace management issues,
see 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/common-mistakes/"
   
   >
Common mistakes and solutions
</a>
.</li>
</ul>
<h3 id="ensuring-the-operator-has-permission-to-manage-a-namespace">Ensuring the operator has permission to manage a namespace<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>If your operator Helm <code>enableClusterRoleBinding</code> configuration value is <code>true</code>, then
the operator has permission to manage any namespace and can automatically
manage a namespace that is added after the operator was last installed or upgraded.</p>
<p>If your operator Helm <code>enableClusterRoleBinding</code> configuration value is <code>false</code>, then:</p>
<ul>
<li>
<p>The operator Helm chart will create RoleBindings in each namespace that matches
your domain namespace selection criteria during a call to <code>helm install</code> or <code>helm upgrade</code>.
These RoleBindings give the operator&rsquo;s service account the necessary privileges in the namespace.</p>
</li>
<li>
<p>The Helm chart will only create these RoleBindings in namespaces that match
the operator&rsquo;s domain namespace selection criteria
at the time the chart is installed or upgraded.</p>
</li>
<li>
<p>If you later create namespaces
that match a <code>List</code>, <code>LabelSelector</code>, or <code>RegExp</code> selector,
then the operator will <em>not</em> have privilege in these namespaces until you upgrade the Helm release.
You can resolve this issue by performing
a <code>helm upgrade</code> on an already installed operator Helm release.</p>
<p>For example, with an operator release name <code>weblogic-operator</code>:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ helm upgrade weblogic-operator/weblogic-operator --reuse-values</span></span></code></pre></div>
<p><strong>NOTE</strong>: If you still run into problems after you perform the <code>helm upgrade</code> to re-initialize a namespace
that is deleted and recreated, then you can
try 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/troubleshooting/#force-the-operator-to-restart"
   
   >
forcing the operator to restart
</a>
.</p>
</li>
</ul>
<p>For a detailed description of the operator&rsquo;s security related resources,
see the operator&rsquo;s role-based access control (RBAC) requirements
which are documented 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/rbac/"
   
   >
here
</a>
.</p>
<h3 id="check-the-namespaces-that-a-running-operator-manages">Check the namespaces that a running operator manages<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>Prior to version 3.1.0, the operator supported specifying the namespaces that it would manage only through a list.
Now, the operator supports a list of namespaces, a label selector, or a regular expression matching namespace names.</p>
<p><strong>When using a namespace list</strong></p>
<p>For operators that specify namespaces by a list, you can find the list of the namespaces using the <code>helm get values</code> command.
For example, the following command shows all the values of the operator release <code>weblogic-operator</code>; the <code>domainNamespaces</code> list contains <code>default</code> and <code>ns1</code>:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ helm get values weblogic-operator</span></span></code></pre></div>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>domainNamespaces:
- default
- ns1
elasticSearchHost: elasticsearch.default.svc.cluster.local
elasticSearchPort: 9200
elkIntegrationEnabled: false
externalDebugHttpPort: 30999
externalRestEnabled: false
externalRestHttpsPort: 31001
image: ghcr.io/oracle/weblogic-kubernetes-operator:4.3.6

imagePullPolicy: IfNotPresent
internalDebugHttpPort: 30999
javaLoggingLevel: INFO
logStashImage: logstash:6.6.0
remoteDebugNodePortEnabled: false
serviceAccount: default
suspendOnDebugStartup: false</code></pre></div>
<p>If you don&rsquo;t know the release name of the operator, you can use <code>helm list</code> to list all the releases for a specified namespace or all namespaces:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ helm list --namespace &lt;namespace&gt;</span></span></code></pre></div>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ helm list --all-namespaces</span></span></code></pre></div>
<p><strong>When using a label selector</strong></p>
<p>For operators that select namespaces with a selector, simply list namespaces using that selector:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl get ns --selector<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;weblogic-operator=enabled&#34;</span></span></span></code></pre></div>
<p>You can see the labels on all namespaces by calling:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl get ns --show-labels</span></span></code></pre></div>
<p><strong>When using regular expression matching</strong></p>
<p>For operators that select namespaces with a regular expression matching the name, you can use a combination of <code>kubectl</code>
and any command-line tool that can process the regular expression, such as <code>grep</code>:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl get ns -o go-template<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;{{range .items}}{{.metadata.name}}{{&#34;\n&#34;}}{{end}}&#39;</span> | grep <span style="color:#e6db74">&#34;^weblogic&#34;</span></span></span></code></pre></div>
<h3 id="altering-namespaces-for-a-running-operator">Altering namespaces for a running operator<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>This section describes the steps for adding, deleting, or recreated namespaces that are managed by a running operator.</p>
<h4 id="add-a-kubernetes-namespace-to-a-running-operator">Add a Kubernetes namespace to a running operator<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<p>The following are steps for adding namespaces that are managed by a running operator.</p>
<p><strong>When using a namespace list</strong></p>
<p>When the operator is configured to manage a list of namespaces and you want the operator to manage an additional namespace,
you need to add the namespace to the operator&rsquo;s <code>domainNamespaces</code> list. Note that this namespace has to already exist, for example,
using the <code>kubectl create</code> command.</p>
<p>Adding a namespace to the <code>domainNamespaces</code> list tells the operator to initialize the necessary
Kubernetes resources so that the operator is ready to manage WebLogic Server instances in that namespace.</p>
<p>When the operator is managing the <code>default</code> namespace, the following example Helm command adds the namespace <code>ns1</code> to the <code>domainNamespaces</code> list, where <code>weblogic-operator</code> is the release name of the operator:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ helm upgrade <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  weblogic-operator/weblogic-operator <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --reuse-values <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --set <span style="color:#e6db74">&#34;domainNamespaces={default,ns1}&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --wait</span></span></code></pre></div>
<p>You can verify that the operator has initialized a namespace by confirming the existence of the required <code>configmap</code> resource.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubetctl get cm -n &lt;namespace&gt;</span></span></code></pre></div>
<p>For example, the following example shows that the domain <code>configmap</code> resource exists in the namespace <code>ns1</code>.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl get cm -n ns1</span></span></code></pre></div>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>NAME                 DATA      AGE

weblogic-scripts-cm   14        12m</code></pre></div>
<p><strong>When using a label selector or regular expression</strong></p>
<p>For operators configured to select managed namespaces through the use of a label selector or regular expression,
you  need to create a namespace with the appropriate labels or with a name that matches the expression, respectively.</p>

<details open class="box cstyle notices warning">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-triangle"></i> 
    Warning
  </summary>
  <div class="box-content">
<p>If your operator Helm <code>enableClusterRoleBinding</code> configuration value is <code>false</code>,
then a running operator will <em>not</em> have privilege to manage the newly added namespace until you upgrade
the operator&rsquo;s Helm release.
See 

<a href="#ensuring-the-operator-has-permission-to-manage-a-namespace"
   
   >
Ensuring the operator has permission to manage a namespace
</a>
.</p>
  </div>
</details>
<h4 id="delete-a-kubernetes-namespace-from-a-running-operator">Delete a Kubernetes namespace from a running operator<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<p>The following are steps for deleting namespaces that are managed by a running operator.</p>
<p><strong>When using a namespace list</strong></p>
<p>When the operator is configured to manage a list of namespaces and you no longer want a namespace to be managed by the operator, you need to:</p>
<ul>
<li>First, remove the namespace from the operator&rsquo;s <code>domainNamespaces</code> list.</li>
<li>Then, delete the namespace.</li>
</ul>
<p>While the operator is running and managing the <code>default</code> and <code>ns1</code> namespaces, the following example Helm
command removes the namespace <code>ns1</code> from the <code>domainNamespaces</code> list, where <code>weblogic-operator</code> is the release
name of the operator:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ helm upgrade <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  weblogic-operator/weblogic-operator <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --reuse-values <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --set <span style="color:#e6db74">&#34;domainNamespaces={default}&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --wait</span></span></code></pre></div>
<p><strong>When using a label selector or regular expression</strong></p>
<p>For operators configured to select managed namespaces through the use of a label selector or regular expression,
you  need to delete the namespace. For the label selector option, you can also adjust the labels on the namespace
so that the namespace no longer matches the selector.</p>
<h4 id="recreate-a-previously-deleted-kubernetes-namespace-with-a-running-operator">Recreate a previously deleted Kubernetes namespace with a running operator<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<p>The following are steps for recreating previously deleted namespaces that are managed by a running operator.</p>
<p><strong>When using a namespace list</strong></p>
<p>If you deleted a namespace (and the resources in it) and then want to recreate it:</p>
<ul>
<li>First, add back (recreate) the namespace, for example, using the <code>kubectl create</code> command.</li>
<li>Then, add the namespace back to the <code>domainNamespaces</code> list using the <code>helm upgrade</code> command illustrated 

<a href="#add-a-kubernetes-namespace-to-a-running-operator"
   
   >
previously
</a>
.</li>
</ul>
<p>If a domain custom resource is created before the namespace is ready, you might see that the introspector job pod
fails to start, with a warning like the following, when you review the description of the introspector pod.
Note that <code>domain1</code> is the name of the domain in the following example output.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>Events:
  Type     Reason                 Age               From               Message
  ----     ------                 ----              ----               -------
  Normal   Scheduled              1m                default-scheduler  Successfully assigned domain1-introspector-bz6rw to slc16ffk
  Normal   SuccessfulMountVolume  1m                kubelet, slc16ffk  MountVolume.SetUp succeeded for volume &#34;weblogic-credentials-volume&#34;
  Normal   SuccessfulMountVolume  1m                kubelet, slc16ffk  MountVolume.SetUp succeeded for volume &#34;default-token-jzblm&#34;
  Warning  FailedMount            27s (x8 over 1m)  kubelet, slc16ffk  MountVolume.SetUp failed for volume &#34;weblogic-scripts-cm-volume&#34; : configmaps &#34;weblogic-scripts-cm&#34; not found</code></pre></div>
<p>If you still run into problems after you perform the <code>helm upgrade</code> to re-initialize a namespace
that was deleted and recreated, then you can
try 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/troubleshooting/#force-the-operator-to-restart"
   
   >
forcing the operator to restart
</a>
.</p>
<p><strong>When using a label selector or regular expression</strong></p>
<p>If your operator Helm <code>enableClusterRoleBinding</code> configuration value is <code>false</code>,
then a running operator will <em>not</em> have privilege to manage the newly recreated namespace until you upgrade
the operator&rsquo;s Helm release.
See 

<a href="#ensuring-the-operator-has-permission-to-manage-a-namespace"
   
   >
Ensuring the operator has permission to manage a namespace
</a>
.</p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">


<a id="logo" href="https://oracle.github.io/weblogic-kubernetes-operator/">
  <img src="https://oracle.github.io/weblogic-kubernetes-operator//images/logo.png" height="90"><br/>
  WebLogic Kubernetes Operator
</a>

        </div>
        <search><form action="https://oracle.github.io/weblogic-kubernetes-operator/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks">
          <ul class="space collapsible-menu">
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/quickstart/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/quickstart/index.html"><b> </b>Quick Start</a><ul id="R-subsections-d63193e927818b6cb77d9c791ea48a61" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/introduction/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/introduction/index.html"><b> </b>Introduction</a><ul id="R-subsections-e1ed3a04f1f57a27be4a8d0eb274be18" class="collapsible-menu"></ul></li>
            <li class="parent " data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/index.html"><b> </b>Manage operators</a><ul id="R-subsections-7d4cf64999b86ce8197c0bc43769472c" class="collapsible-menu">
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/overview/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/overview/index.html">Overview</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/preparation/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/preparation/index.html">Prepare for installation</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/installation/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/installation/index.html">Installation and upgrade</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/conversion-webhook/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/conversion-webhook/index.html">Upgrade operator from version 3.x to 4.x</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/using-helm/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/using-helm/index.html">Configuration reference</a></li>
            <li class="active " data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/namespace-management/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/namespace-management/index.html">Namespace management</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/service-accounts/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/service-accounts/index.html">Service accounts</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/rbac/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/rbac/index.html">RBAC</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/the-rest-api/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/the-rest-api/index.html">REST services</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/k8s-setup/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/k8s-setup/index.html">Set up Kubernetes</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/common-mistakes/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/common-mistakes/index.html">Common mistakes and solutions</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/troubleshooting/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/troubleshooting/index.html">Troubleshooting</a></li></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/index.html">Manage domains</a><ul id="R-subsections-45a55625d0c34b621eb1935c75fae249" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/base-images/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/base-images/index.html"><b> </b>WebLogic images</a><ul id="R-subsections-b3440c9f2ce961fe2579290479f05e53" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/index.html"><b> </b>Samples</a><ul id="R-subsections-88c2b1e6419b221ce89c4be4a8ae2a6b" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/developerguide/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/developerguide/index.html"><b> </b>Developer Guide</a><ul id="R-subsections-6d5a8d333894e1a8a4ced31c7a69170c" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/reference/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/reference/index.html"><b> </b>Reference</a><ul id="R-subsections-66002f201bef818664bb81aa67490c58" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/security/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/security/index.html"><b> </b>Security</a><ul id="R-subsections-66815ecaaecfc1c209e5637d03b258b2" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/faq/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/faq/index.html">Frequently asked questions</a><ul id="R-subsections-24e4fc446616bf2bbeac7b1dba804bb8" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/deprecated-functionality/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/deprecated-functionality/index.html">Deprecated functionality</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/known-limitations/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/known-limitations/index.html">Known limitations</a></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div id="R-footer-margin"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols">
          <ul class="">
          </ul>
        </div>
<div id="R-footer">

<p>Created with <i class="fas fa-heart"></i> from <a href="https://www.oracle.com">Oracle</a></p>
<p>&nbsp</p>
<p><a href="https://github.com/oracle/weblogic-kubernetes-operator"><i class="fab fa-github"></i> GitHub repo</a></p>
<p><a href="https://join.slack.com/t/oracle-weblogic/shared_invite/zt-1ni1gtjv6-PGC6CQ4uIte3KBdm_67~aQ"><i class="fab fa-slack"></i> Public Slack #weblogic</a></p>
</div>
      </div>
    </aside>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/perfect-scrollbar/perfect-scrollbar.min.js?1771128368" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/theme.min.js?1771128368" defer></script>
    <div id="toast-container" role="status" aria-live="polite" aria-atomic="false"></div>
  </body>
</html>
