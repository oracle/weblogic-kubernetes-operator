<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.153.0">
    <meta name="generator" content="Relearn 8.3.0">
    <meta name="description" content="This use case demonstrates concurrently deploying a domain that is similar to the Update 1 use case domain to the same sample-domain1-ns namespace, but with a different domain UID, a different WebLogic domain name, and a different WebLogic domain encryption key. It does this by:
Using the same image, image model YAML file, and application archive as the Initial and Update 1 use cases. Using the same model update ConfigMap source file as the Update 1 use case (a data source). Using a different (unique) domain UID, sample-domain2, for the new domain. Using a different (unique) domain name, domain2, for the different domains. Deploying secrets and a model update ConfigMap that are uniquely labeled and named for the new domain. Note that this use case shows Model in Imageâ€™s unique ability to quickly deploy a copy of a WebLogic domain that has a different WebLogic domain name and domain encryption key. This is a useful capability that is not supported by the Domain in Image domain home source type :">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Update 2 :: WebLogic Kubernetes Operator">
    <meta name="twitter:description" content="This use case demonstrates concurrently deploying a domain that is similar to the Update 1 use case domain to the same sample-domain1-ns namespace, but with a different domain UID, a different WebLogic domain name, and a different WebLogic domain encryption key. It does this by:
Using the same image, image model YAML file, and application archive as the Initial and Update 1 use cases. Using the same model update ConfigMap source file as the Update 1 use case (a data source). Using a different (unique) domain UID, sample-domain2, for the new domain. Using a different (unique) domain name, domain2, for the different domains. Deploying secrets and a model update ConfigMap that are uniquely labeled and named for the new domain. Note that this use case shows Model in Imageâ€™s unique ability to quickly deploy a copy of a WebLogic domain that has a different WebLogic domain name and domain encryption key. This is a useful capability that is not supported by the Domain in Image domain home source type :">
    <meta property="og:url" content="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/update2/index.html">
    <meta property="og:site_name" content="WebLogic Kubernetes Operator">
    <meta property="og:title" content="Update 2 :: WebLogic Kubernetes Operator">
    <meta property="og:description" content="This use case demonstrates concurrently deploying a domain that is similar to the Update 1 use case domain to the same sample-domain1-ns namespace, but with a different domain UID, a different WebLogic domain name, and a different WebLogic domain encryption key. It does this by:
Using the same image, image model YAML file, and application archive as the Initial and Update 1 use cases. Using the same model update ConfigMap source file as the Update 1 use case (a data source). Using a different (unique) domain UID, sample-domain2, for the new domain. Using a different (unique) domain name, domain2, for the different domains. Deploying secrets and a model update ConfigMap that are uniquely labeled and named for the new domain. Note that this use case shows Model in Imageâ€™s unique ability to quickly deploy a copy of a WebLogic domain that has a different WebLogic domain name and domain encryption key. This is a useful capability that is not supported by the Domain in Image domain home source type :">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Samples">
    <meta property="article:published_time" content="2019-02-23T17:32:31-05:00">
    <meta property="article:modified_time" content="2019-02-23T17:32:31-05:00">
    <meta itemprop="name" content="Update 2 :: WebLogic Kubernetes Operator">
    <meta itemprop="description" content="This use case demonstrates concurrently deploying a domain that is similar to the Update 1 use case domain to the same sample-domain1-ns namespace, but with a different domain UID, a different WebLogic domain name, and a different WebLogic domain encryption key. It does this by:
Using the same image, image model YAML file, and application archive as the Initial and Update 1 use cases. Using the same model update ConfigMap source file as the Update 1 use case (a data source). Using a different (unique) domain UID, sample-domain2, for the new domain. Using a different (unique) domain name, domain2, for the different domains. Deploying secrets and a model update ConfigMap that are uniquely labeled and named for the new domain. Note that this use case shows Model in Imageâ€™s unique ability to quickly deploy a copy of a WebLogic domain that has a different WebLogic domain name and domain encryption key. This is a useful capability that is not supported by the Domain in Image domain home source type :">
    <meta itemprop="datePublished" content="2019-02-23T17:32:31-05:00">
    <meta itemprop="dateModified" content="2019-02-23T17:32:31-05:00">
    <meta itemprop="wordCount" content="1998">
    <title>Update 2 :: WebLogic Kubernetes Operator</title>
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/images/logo.png?1766980406" rel="icon" type="image/png">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/css/auto-complete/auto-complete.min.css?1766980406" rel="stylesheet">
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/auto-complete/auto-complete.min.js?1766980406" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/search-lunr.min.js?1766980406" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/search.min.js?1766980406" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="https://oracle.github.io/weblogic-kubernetes-operator/searchindex.en.js?1766980406";
    </script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/lunr/lunr.min.js?1766980406" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/lunr/lunr.stemmer.support.min.js?1766980406" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/lunr/lunr.multi.min.js?1766980406" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/lunr/lunr.en.min.js?1766980406" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/fonts/fontawesome/css/fontawesome-all.min.css?1766980406" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://oracle.github.io/weblogic-kubernetes-operator/fonts/fontawesome/css/fontawesome-all.min.css?1766980406" rel="stylesheet"></noscript>
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/css/perfect-scrollbar/perfect-scrollbar.min.css?1766980406" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/css/theme.min.css?1766980406" rel="stylesheet">
    <link href="https://oracle.github.io/weblogic-kubernetes-operator/css/format-html.min.css?1766980406" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/samples\/domains\/model-in-image\/update2\/index.html';
      window.relearn.relBasePath='..\/..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..';
      window.relearn.absBaseUri='https:\/\/oracle.github.io\/weblogic-kubernetes-operator';
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy text to clipboard`;
      window.T_Copied_to_clipboard = `Text copied to clipboard!`;
      window.T_Link_copied_to_clipboard = `Link copied to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      window.T_Browser_unsupported_feature = `This browser doesn't support this feature`;
      // variant stuff
      window.relearn.themevariants = [ 'learn' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
  </head>
  <body class="mobile-support html" data-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/update2/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button></span>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper"> 
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="https://oracle.github.io/weblogic-kubernetes-operator/index.html"><span itemprop="name">WebLogic Kubernetes Operator</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/index.html"><span itemprop="name">Samples</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/index.html"><span itemprop="name">Domains</span></a><meta itemprop="position" content="3">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/index.html"><span itemprop="name">Model in image</span></a><meta itemprop="position" content="4">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">Update 2</span><meta itemprop="position" content="5"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/update1/index.html" title="Update 1 (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/update3/index.html" title="Update 3 (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable samples" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>



<h1 id="update-2">Update 2</h1>



<p>This use case demonstrates concurrently deploying a domain that is similar to the 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/update1/"
   
   >
Update 1
</a>
 use case domain to the same <code>sample-domain1-ns</code> namespace, but with a different domain UID, a different WebLogic domain name, and a different WebLogic domain encryption key. It does this by:</p>
<ul>
<li>Using the same image, image model YAML file, and application archive as the Initial and Update 1 use cases.</li>
<li>Using the same model update ConfigMap source file as the Update 1 use case (a data source).</li>
<li>Using a different (unique) domain UID, <code>sample-domain2</code>, for the new domain.</li>
<li>Using a different (unique) domain name, <code>domain2</code>, for the different domains.</li>
<li>Deploying secrets and a model update ConfigMap that are uniquely labeled and named for the new domain.</li>
</ul>
<p>Note that this use case shows Model in Image&rsquo;s unique ability to quickly deploy a copy of a WebLogic domain that has a different WebLogic domain name and domain encryption key. This is a useful capability that is not supported by the Domain in Image 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/choosing-a-model/"
   
   >
domain home source type
</a>
:</p>
<ul>
<li>
<p>Domain in Image does not support overriding the domain name, but different domain names are necessary when two domains need to interoperate. This use case takes advantage of model macros to ensure that its two different domains have a different domain name:</p>
<ul>
<li>First, you define the domain name in the model YAML file using the <code>@@ENV:CUSTOM_DOMAIN_NAME@@</code> environment variable macro.</li>
<li>Second, you set the value of the <code>CUSTOM_DOMAIN_NAME</code> environment variable to be different using the <code>env</code> stanza in each Domain&rsquo;s YAML file.</li>
</ul>
</li>
<li>
<p>Domain in Image requires that its images embed a WebLogic <code>security/SerializedSystemIni.dat</code> domain encryption key that cannot be changed for the image (see 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/cicd/why-layering-matters/"
   
   >
Why layering matters
</a>
 in CI/CD considerations). This necessarily means that two Domain in Image domains that share the same image can decrypt each other&rsquo;s encrypted passwords. On the other hand, a Model in Image&rsquo;s domain encryption key is not embedded in the image and instead, is dynamically and uniquely created each time the domain is started.</p>
</li>
</ul>

<details open class="box cstyle notices warning">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-triangle"></i> 
    Warning
  </summary>
  <div class="box-content">
<p>Oracle requires interoperating WebLogic domains to have different domain names. This is necessary when two domains communicate, or when a WebLogic Server or WebLogic Java client concurrently connects to multiple domains.</p>
  </div>
</details>
<p>Here are the steps for this use case:</p>
<ol>
<li>
<p>Make sure you have deployed the domain from the 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/update1/"
   
   >
Update 1
</a>
 use case.</p>
</li>
<li>
<p>Create a ConfigMap with the WDT model that contains the data source definition.</p>
<p>Run the following commands:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl -n sample-domain1-ns create configmap sample-domain2-wdt-config-map <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  --from-file<span style="color:#f92672">=</span>/tmp/sample/model-configmaps/datasource</span></span></code></pre></div>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl -n sample-domain1-ns label configmap sample-domain2-wdt-config-map <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  weblogic.domainUID<span style="color:#f92672">=</span>sample-domain2</span></span></code></pre></div>
<p>If you&rsquo;ve created your own data source file in the Update 1 use case, then substitute the file name in the <code>--from-file=</code> parameter (we suggested <code>/tmp/sample/mydatasource.yaml</code> earlier). Note that the <code>-from-file=</code> parameter can reference a single file, in which case it puts the designated file in the ConfigMap, or it can reference a directory, in which case it populates the ConfigMap with all of the files in the designated directory.</p>
<p>Observations:</p>
<ul>
<li>We are leaving the namespace <code>sample-domain1-ns</code> unchanged for the ConfigMap because you will deploy domain <code>sample-domain2</code> to the same namespace as <code>sample-domain1</code>.</li>
<li>You name and label the ConfigMap using its associated domain UID for two reasons:
<ul>
<li>To make it obvious which ConfigMap belongs to which domain.</li>
<li>To make it easier to clean up a domain. Typical cleanup scripts use the <code>weblogic.domainUID</code> label as a convenience for finding all resources associated with a domain.</li>
</ul>
</li>
<li>You use a different ConfigMap for the new domain for two reasons:
<ul>
<li>To make it easier to keep the life cycle and/or CI/CD process for the two domains simple and independent.</li>
<li>To &lsquo;future proof&rsquo; the new domain so that changes to the original domain or new domain&rsquo;s ConfigMap can be independent.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Create the secrets that are referenced by the WDT model files in the image and ConfigMap; they also will be referenced by the Domain YAML file.</p>
<p>Run the following commands:</p>
<p><strong>NOTE</strong>: Substitute a password of your choice for <code>MY_WEBLOGIC_ADMIN_PASSWORD</code>. This
password should contain at least seven letters plus one digit.</p>
<p><strong>NOTE</strong>: Substitute a password of your choice for <code>MY_RUNTIME_PASSWORD</code>. It should
be unique and different than the admin password, but this is not required.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code># spec.webLogicCredentialsSecret</code></pre></div>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl -n sample-domain1-ns create secret generic <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  sample-domain2-weblogic-credentials <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>   --from-literal<span style="color:#f92672">=</span>username<span style="color:#f92672">=</span>weblogic --from-literal<span style="color:#f92672">=</span>password<span style="color:#f92672">=</span>MY_WEBLOGIC_ADMIN_PASSWORD</span></span></code></pre></div>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl -n sample-domain1-ns label  secret <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  sample-domain2-weblogic-credentials <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  weblogic.domainUID<span style="color:#f92672">=</span>sample-domain2</span></span></code></pre></div>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code># spec.configuration.model.runtimeEncryptionSecret</code></pre></div>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl -n sample-domain1-ns create secret generic <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  sample-domain2-runtime-encryption-secret <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>   --from-literal<span style="color:#f92672">=</span>password<span style="color:#f92672">=</span>MY_RUNTIME_PASSWORD</span></span></code></pre></div>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl -n sample-domain1-ns label  secret <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  sample-domain2-runtime-encryption-secret <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  weblogic.domainUID<span style="color:#f92672">=</span>sample-domain2</span></span></code></pre></div>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code># referenced by spec.configuration.secrets and by the data source model YAML in the ConfigMap</code></pre></div>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl -n sample-domain1-ns create secret generic <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>   sample-domain2-datasource-secret <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>   --from-literal<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;user=sys as sysdba&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>   --from-literal<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;password=incorrect_password&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>   --from-literal<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;max-capacity=1&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>   --from-literal<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;url=jdbc:oracle:thin:@oracle-db.default.svc.cluster.local:1521/devpdb.k8s&#39;</span></span></span></code></pre></div>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl -n sample-domain1-ns label  secret <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>   sample-domain2-datasource-secret <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>   weblogic.domainUID<span style="color:#f92672">=</span>sample-domain2</span></span></code></pre></div>
<p>Observations:</p>
<ul>
<li>We are leaving the namespace <code>sample-domain1-ns</code> unchanged for each secret because you will deploy domain <code>sample-domain2</code> to the same namespace as <code>sample-domain1</code>.</li>
<li>You name and label the secrets using their associated domain UID for two reasons:
<ul>
<li>To make it obvious which secret belongs to which domain.</li>
<li>To make it easier to clean up a domain. Typical cleanup scripts use the <code>weblogic.domainUID</code> label as a convenience for finding all resources associated with a domain.</li>
</ul>
</li>
<li>You use a different set of secrets for the new domain for two reasons:
<ul>
<li>To make it easier to keep the life cycle and/or CI/CD process for the two domains simple and independent.</li>
<li>To &lsquo;future proof&rsquo; the new domain so that changes to the original domain&rsquo;s secrets or new domain&rsquo;s secrets can be independent.</li>
</ul>
</li>
<li>We deliberately specify an incorrect password and a low maximum pool capacity in the data source secret because we will demonstrate dynamically correcting the data source attributes for <code>sample-domain1</code> in the 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/update4/"
   
   >
Update 4
</a>
 use case.</li>
</ul>
</li>
<li>
<p>Set up a Domain YAML file that is similar to your Update 1 use case Domain YAML file but with a different domain UID, domain name, model update ConfigMap reference, and Secret references:</p>
<ul>
<li>
<p>Option 1: Update a copy of your Domain YAML file from the Update 1 use case.</p>
<ul>
<li>
<p>In the 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/update1/"
   
   >
Update 1
</a>
 use case, we suggested creating a file named <code>/tmp/sample/mii-update1.yaml</code> or using the <code>/tmp/sample/domain-resources/WLS/mii-update1-d1-WLS-v1-ds.yaml</code> file that is supplied with the sample.</p>
<ul>
<li>
<p>We suggest copying this Domain YAML file and naming the copy <code>/tmp/sample/mii-update2.yaml</code> before making any changes.</p>
</li>
<li>
<p>Working on a copy is not strictly necessary, but it helps keep track of your work for the different use cases in this sample and provides you a backup of your previous work.</p>
</li>
</ul>
</li>
<li>
<p>Change the <code>/tmp/sample/mii-update2.yaml</code> Domain YAML file name and <code>weblogic.domainUID</code> label to <code>sample-domain2</code>.</p>
<p>The final result will look something like this:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">apiVersion</span>: <span style="color:#e6db74">&#34;weblogic.oracle/v9&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">Domain</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">name</span>: <span style="color:#ae81ff">sample-domain2</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">namespace</span>: <span style="color:#ae81ff">sample-domain1-ns</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">labels</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">weblogic.domainUID</span>: <span style="color:#ae81ff">sample-domain2</span></span></span></code></pre></div>
<blockquote>
<p><strong>NOTE</strong>: We are leaving the namespace <code>sample-domain1-ns</code> unchanged because you will be deploying domain <code>sample-domain2</code> to the same namespace as <code>sample-domain1</code>.</p>
</blockquote>
</li>
<li>
<p>Change the <code>/tmp/sample/mii-update2.yaml</code> Domain YAML file&rsquo;s <code>CUSTOM_DOMAIN_NAME</code> environment variable from <code>domain1</code> to <code>domain2</code>.</p>
<p>The model file in the image uses macro <code>@@ENV:CUSTOM_DOMAIN_NAME@@</code> to reference this environment variable when setting its domain name.</p>
<p>Specifically, change the corresponding Domain <code>spec.serverPod.env</code> YAML file stanza to look something like this:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span><span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">...</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">serverPod</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">env</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">CUSTOM_DOMAIN_NAME</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">value</span>: <span style="color:#e6db74">&#34;domain2&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">...</span></span></span></code></pre></div>
</li>
<li>
<p>Change the <code>/tmp/sample/mii-update2.yaml</code> Domain YAML file&rsquo;s <code>spec.domainHome</code> value to <code>/u01/domains/sample-domain2</code>. The corresponding YAML file stanza will look something like this:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span><span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">...</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">domainHome</span>: <span style="color:#ae81ff">/u01/domains/sample-domain2</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">...</span></span></span></code></pre></div>
<p>(This change is not strictly needed, but it is a helpful convention to decorate a WebLogic domain&rsquo;s home directory with its domain name or domain UID.)</p>
</li>
<li>
<p>Change the <code>/tmp/sample/mii-update2.yaml</code> secret references in the <code>spec.webLogicCredentialsSecret</code> and <code>spec.configuration.secrets</code> stanzas to reference this use case&rsquo;s secrets. Specifically, change:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">...</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">webLogicCredentialsSecret</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">sample-domain1-weblogic-credentials</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">...</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">configuration</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">secrets</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ae81ff">sample-domain1-datasource-secret</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">model</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ae81ff">...</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">runtimeEncryptionSecret</span>: <span style="color:#ae81ff">sample-domain1-runtime-encryption-secret</span></span></span></code></pre></div>
<p>To this:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">...</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">webLogicCredentialsSecret</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">sample-domain2-weblogic-credentials</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">...</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">configuration</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">secrets</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ae81ff">sample-domain2-datasource-secret</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">model</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ae81ff">...</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">runtimeEncryptionSecret</span>: <span style="color:#ae81ff">sample-domain2-runtime-encryption-secret</span></span></span></code></pre></div>
</li>
<li>
<p>Change the Domain YAML file&rsquo;s <code>spec.configuration.model.configMap</code> value from <code>sample-domain1-wdt-config-map</code> to <code>sample-domain2-wdt-config-map</code>. The corresponding YAML file stanza will look something like this:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">...</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">configuration</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">model</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">...</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">configMap</span>: <span style="color:#ae81ff">sample-domain2-wdt-config-map</span></span></span></code></pre></div>
</li>
<li>
<p>Now, compare your original and changed Domain YAML files to double check your changes.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ diff /tmp/sample/mii-update1.yaml /tmp/sample/mii-update2.yaml</span></span></code></pre></div>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>9c9
&lt;   name: sample-domain1
---
&gt;   name: sample-domain2
13c13
&lt;     weblogic.domainUID: sample-domain1
---
&gt;     weblogic.domainUID: sample-domain2
21c21
&lt;   domainHome: /u01/domains/sample-domain1
---
&gt;   domainHome: /u01/domains/sample-domain2
36c36
&lt;     name: sample-domain1-weblogic-credentials
---
&gt;     name: sample-domain2-weblogic-credentials
46c46
&lt;   #logHome: /shared/logs/sample-domain1
---
&gt;   #logHome: /shared/logs/sample-domain2
61c61
&lt;       value: &#34;domain1&#34;
---
&gt;       value: &#34;domain2&#34;
71c71
&lt;     #    claimName: sample-domain1-weblogic-sample-pvc
---
&gt;     #    claimName: sample-domain2-weblogic-sample-pvc
110c110
&lt;       configMap: sample-domain1-wdt-config-map
---
&gt;       configMap: sample-domain2-wdt-config-map
113c113
&lt;       runtimeEncryptionSecret: sample-domain1-runtime-encryption-secret
---
&gt;       runtimeEncryptionSecret: sample-domain2-runtime-encryption-secret
118c118
&lt;     - sample-domain1-datasource-secret
---
&gt;     - sample-domain2-datasource-secret</code></pre></div>
<p><strong>NOTE</strong>: The diff should <em>not</em> contain a namespace change. You are deploying domain <code>sample-domain2</code> to the same namespace as <code>sample-domain1</code> (namespace <code>sample-domain1-ns</code>).</p>
</li>
<li>
<p>Apply your changed Domain YAML file:</p>
<p><strong>NOTE</strong>: Before you deploy the domain custom resource, ensure all nodes in your Kubernetes cluster 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/#ensuring-your-kubernetes-cluster-can-access-images"
   
   >
can access <code>auxiliary-image</code> and other images
</a>
.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl apply -f /tmp/sample/mii-update2.yaml</span></span></code></pre></div>
</li>
</ul>
</li>
<li>
<p>Option 2: Use the updated Domain YAML file that is supplied with the sample:</p>
<p><strong>NOTE</strong>: Before you deploy the domain custom resource, ensure all nodes in your Kubernetes cluster 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/#ensuring-your-kubernetes-cluster-can-access-images"
   
   >
can access <code>auxiliary-image</code> and other images
</a>
.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl apply -f /tmp/sample/domain-resources/WLS/mii-update2-d2-WLS-v1-ds.yaml</span></span></code></pre></div>
</li>
</ul>
</li>
<li>
<p>Wait for <code>sample-domain2</code> to start.</p>
<p>If you run <code>kubectl get pods -n sample-domain1-ns --watch</code>, then you will see the introspector job for <code>sample-domain2</code> run and your WebLogic Server pods start. The output will look something like this:</p>

<details class="box cstyle notices transparent expand">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Click here to expand.
  </summary>
  <div class="box-content">
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl get pods -n sample-domain1-ns --watch</span></span></code></pre></div>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>NAME                             READY   STATUS    RESTARTS   AGE
sample-domain1-admin-server      1/1     Running   0          5d2h
sample-domain1-managed-server1   1/1     Running   1          5d2h
sample-domain1-managed-server2   1/1     Running   2          5d2h
sample-domain2-introspector-plssr   0/1     Pending   0          0s
sample-domain2-introspector-plssr   0/1     Pending   0          0s
sample-domain2-introspector-plssr   0/1     ContainerCreating   0          0s
sample-domain2-introspector-plssr   1/1     Running             0          2s
sample-domain2-introspector-plssr   0/1     Completed           0          69s
sample-domain2-introspector-plssr   0/1     Terminating         0          71s
sample-domain2-introspector-plssr   0/1     Terminating         0          71s
sample-domain2-admin-server                  0/1     Pending             0          0s
sample-domain2-admin-server                  0/1     Pending             0          0s
sample-domain2-admin-server                  0/1     ContainerCreating   0          0s
sample-domain2-admin-server                  0/1     Running             0          1s
sample-domain2-admin-server                  1/1     Running             0          34s
sample-domain2-managed-server1               0/1     Pending             0          0s
sample-domain2-managed-server1               0/1     Pending             0          0s
sample-domain2-managed-server1               0/1     ContainerCreating   0          0s
sample-domain2-managed-server2               0/1     Pending             0          0s
sample-domain2-managed-server2               0/1     Pending             0          0s
sample-domain2-managed-server2               0/1     ContainerCreating   0          0s
sample-domain2-managed-server1               0/1     Running             0          1s
sample-domain2-managed-server2               0/1     Running             0          1s
sample-domain2-managed-server1               1/1     Running             0          45s
sample-domain2-managed-server2               1/1     Running             0          45s</code></pre></div>
  </div>
</details>
<p>For a more detailed view of this activity,
you can use the <code>waitForDomain.sh</code> sample lifecycle script.
This script provides useful information about a domain&rsquo;s pods and
optionally waits for its <code>Completed</code> status condition to become <code>True</code>.
A <code>Completed</code> domain indicates that all of its expected
pods have reached a <code>ready</code> state
plus their target <code>restartVersion</code>, <code>introspectVersion</code>, and <code>image</code>.
For example:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cd /tmp/weblogic-kubernetes-operator/kubernetes/samples/scripts/domain-lifecycle
</span></span><span style="display:flex;"><span>$ ./waitForDomain.sh -n sample-domain1-ns -d sample-domain2 -p Completed</span></span></code></pre></div>
</li>
<li>
<p>After the <code>sample-domain2</code> domain is running, you can call its sample web application to verify that it&rsquo;s fully active.</p>
<p>Send a web application request to the ingress controller for <code>sample-domain2</code>:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl -s -S -m <span style="color:#ae81ff">10</span> -H <span style="color:#e6db74">&#39;host: sample-domain2-cluster-cluster-1.sample.org&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>   http://localhost:30305/myapp_war/index.jsp</span></span></code></pre></div>
<p>Or, if Traefik is unavailable and your <code>domain2</code> Administration Server pod is running, you can run <code>kubectl exec</code>:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl exec -n sample-domain1-ns sample-domain2-admin-server -- bash -c <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;curl -s -S -m 10 http://sample-domain2-cluster-cluster-1:8001/myapp_war/index.jsp&#34;</span></span></span></code></pre></div>
<p>You will see something like the following:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">html</span>&gt;&lt;<span style="color:#f92672">body</span>&gt;&lt;<span style="color:#f92672">pre</span>&gt;
</span></span><span style="display:flex;"><span>*****************************************************************
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Hello World! This is version &#39;v1&#39; of the sample JSP web-app.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Welcome to WebLogic Server &#39;managed-server1&#39;!
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  domain UID  = &#39;sample-domain2&#39;
</span></span><span style="display:flex;"><span>  domain name = &#39;domain2&#39;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Found 1 local cluster runtime:
</span></span><span style="display:flex;"><span>  Cluster &#39;cluster-1&#39;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Found min threads constraint runtime named &#39;SampleMinThreads&#39; with configured count: 1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Found max threads constraint runtime named &#39;SampleMaxThreads&#39; with configured count: 10
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Found 1 local data source:
</span></span><span style="display:flex;"><span>  Datasource &#39;mynewdatasource&#39;:  State=&#39;Running&#39;, testPool=&#39;Failed&#39;
</span></span><span style="display:flex;"><span>    ---TestPool Failure Reason---
</span></span><span style="display:flex;"><span>    NOTE: Ignore &#39;mynewdatasource&#39; failures until the sample&#39;s Update 4 use case.
</span></span><span style="display:flex;"><span>    ---
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    ... invalid host/username/password
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    -----------------------------
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>*****************************************************************
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">pre</span>&gt;&lt;/<span style="color:#f92672">body</span>&gt;&lt;/<span style="color:#f92672">html</span>&gt;</span></span></code></pre></div>
</li>
</ol>
<p>A <code>TestPool Failure</code> is expected because we will demonstrate dynamically correcting the data source attributes for <code>sample-domain1</code> in 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/update4/"
   
   >
Update 4
</a>
.</p>
<p>If you see an error other than the expected <code>TestPool Failure</code>, then consult 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/debugging/"
   
   >
Debugging
</a>
.</p>
<p>You will not be using the <code>sample-domain2</code> domain again in this sample; if you wish, you can shut it down now by calling <code>kubectl -n sample-domain1-ns delete domain sample-domain2</code>.</p>
<p>To remove the resources you have created in the samples, see 

<a href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/cleanup/"
   
   >
Cleanup
</a>
.</p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">


<a id="logo" href="https://oracle.github.io/weblogic-kubernetes-operator/">
  <img src="https://oracle.github.io/weblogic-kubernetes-operator//images/logo.png" height="90"><br/>
  WebLogic Kubernetes Operator
</a>

        </div>
        <search><form action="https://oracle.github.io/weblogic-kubernetes-operator/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks">
          <ul class="space collapsible-menu">
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/quickstart/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/quickstart/index.html"><b> </b>Quick Start</a><ul id="R-subsections-d63193e927818b6cb77d9c791ea48a61" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/introduction/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/introduction/index.html"><b> </b>Introduction</a><ul id="R-subsections-e1ed3a04f1f57a27be4a8d0eb274be18" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-operators/index.html"><b> </b>Manage operators</a><ul id="R-subsections-7d4cf64999b86ce8197c0bc43769472c" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/managing-domains/index.html">Manage domains</a><ul id="R-subsections-45a55625d0c34b621eb1935c75fae249" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/base-images/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/base-images/index.html"><b> </b>WebLogic images</a><ul id="R-subsections-b3440c9f2ce961fe2579290479f05e53" class="collapsible-menu"></ul></li>
            <li class="parent " data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/index.html"><b> </b>Samples</a><ul id="R-subsections-88c2b1e6419b221ce89c4be4a8ae2a6b" class="collapsible-menu">
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/credentials/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/credentials/index.html">Credentials</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/storage/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/storage/index.html">Storage</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/database/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/database/index.html">Run a database</a></li>
            <li class="parent alwaysopen " data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/index.html">Domains</a><ul id="R-subsections-fe6d3bc53518b5bcddc81ed793317942" class="collapsible-menu">
            <li class="alwaysopen " data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/domain-home-on-pv/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/domain-home-on-pv/index.html">Domain on PV</a><ul id="R-subsections-70e5fb4bd695a0cd7035ee2ff42f2cf7" class="collapsible-menu"></ul></li>
            <li class="parent alwaysopen " data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/index.html">Model in image</a><ul id="R-subsections-9267690d9842e623c0601b1251dc333d" class="collapsible-menu">
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/prerequisites/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/prerequisites/index.html">Prerequisites</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/auxiliary-image-creation/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/auxiliary-image-creation/index.html">Auxiliary image creation</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/initial/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/initial/index.html">Initial use case</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/update1/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/update1/index.html">Update 1</a></li>
            <li class="active " data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/update2/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/update2/index.html">Update 2</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/update3/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/update3/index.html">Update 3</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/update4/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/update4/index.html">Update 4</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/cleanup/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/model-in-image/cleanup/index.html">Cleanup</a></li></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/delete-domain/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/delete-domain/index.html">Delete resources associated with the domain</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/lifecycle/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/domains/lifecycle/index.html">Domain lifecycle operations</a></li></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/rest/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/rest/index.html">REST APIs</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/ingress/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/ingress/index.html">Ingress</a></li>
            <li class="alwaysopen " data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/elastic-stack/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/elastic-stack/index.html">Elastic Stack</a><ul id="R-subsections-3eee08beed8e21e290aa1f4316f1c391" class="collapsible-menu"></ul></li>
            <li class="alwaysopen " data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/azure-kubernetes-service/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/azure-kubernetes-service/index.html">Azure Kubernetes Service</a><ul id="R-subsections-d57c7e28d3596876cc4763e66b41d50e" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/samples/tanzu-kubernetes-service/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/samples/tanzu-kubernetes-service/index.html">Tanzu Kubernetes Service</a></li></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/developerguide/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/developerguide/index.html"><b> </b>Developer Guide</a><ul id="R-subsections-6d5a8d333894e1a8a4ced31c7a69170c" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/reference/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/reference/index.html"><b> </b>Reference</a><ul id="R-subsections-66002f201bef818664bb81aa67490c58" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/security/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/security/index.html"><b> </b>Security</a><ul id="R-subsections-66815ecaaecfc1c209e5637d03b258b2" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/faq/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/faq/index.html">Frequently asked questions</a><ul id="R-subsections-24e4fc446616bf2bbeac7b1dba804bb8" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/deprecated-functionality/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/deprecated-functionality/index.html">Deprecated functionality</a></li>
            <li class="" data-nav-url="https://oracle.github.io/weblogic-kubernetes-operator/known-limitations/index.html"><a class="padding" href="https://oracle.github.io/weblogic-kubernetes-operator/known-limitations/index.html">Known limitations</a></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div id="R-footer-margin"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols">
          <ul class="">
          </ul>
        </div>
<div id="R-footer">

<p>Created with <i class="fas fa-heart"></i> from <a href="https://www.oracle.com">Oracle</a></p>
<p>&nbsp</p>
<p><a href="https://github.com/oracle/weblogic-kubernetes-operator"><i class="fab fa-github"></i> GitHub repo</a></p>
<p><a href="https://join.slack.com/t/oracle-weblogic/shared_invite/zt-1ni1gtjv6-PGC6CQ4uIte3KBdm_67~aQ"><i class="fab fa-slack"></i> Public Slack #weblogic</a></p>
</div>
      </div>
    </aside>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/perfect-scrollbar/perfect-scrollbar.min.js?1766980406" defer></script>
    <script src="https://oracle.github.io/weblogic-kubernetes-operator/js/theme.min.js?1766980406" defer></script>
    <div id="toast-container" role="status" aria-live="polite" aria-atomic="false"></div>
  </body>
</html>
